(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,n){"use strict";n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return w})),n.d(t,"l",(function(){return k})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return _})),n.d(t,"s",(function(){return S})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"r",(function(){return R})),n.d(t,"j",(function(){return A})),n.d(t,"t",(function(){return P})),n.d(t,"o",(function(){return M})),n.d(t,"q",(function(){return B})),n.d(t,"f",(function(){return I})),n.d(t,"c",(function(){return z})),n.d(t,"i",(function(){return L})),n.d(t,"p",(function(){return H})),n.d(t,"a",(function(){return G})),n.d(t,"v",(function(){return Y})),n.d(t,"n",(function(){return X})),n.d(t,"u",(function(){return J}));n(41),n(66),n(82),n(83);var r=n(36),o=n(3),c=n(35),l=n(17),d=(n(28),n(44),n(254),n(18),n(39),n(38),n(51),n(68),n(53),n(52),n(69),n(179),n(118),n(180),n(87),n(88),n(260),n(111),n(115),n(1)),f=n(26);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(e){d.default.config.errorHandler&&d.default.config.errorHandler(e)}function w(e){return e.then((function(e){return e.default||e}))}function k(e){return e.$options&&"function"==typeof e.$options.fetch&&!e.$options.fetch.length}function C(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$children||[],o=v(r);try{for(o.s();!(t=o.n()).done;){var c=t.value;c.$fetch?n.push(c):c.$children&&C(c,n)}}catch(e){o.e(e)}finally{o.f()}return n}function _(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),h(h({},data),t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function S(e){return e.options&&e._Ctor===e||(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=d.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file)),e}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e[n]).map((function(o){return t&&t.push(r),e[n][o]}))})))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(e,t,"instances")}function N(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function R(e,t){return Promise.all(N(e,function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,r,o,c){var l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n||n.options){e.next=11;break}return e.prev=1,e.next=4,n();case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0&&"ChunkLoadError"===e.t0.name&&"undefined"!=typeof window&&window.sessionStorage&&(l=Date.now(),(!(d=parseInt(window.sessionStorage.getItem("nuxt-reload")))||d+6e4<l)&&(window.sessionStorage.setItem("nuxt-reload",l),window.location.reload(!0))),e.t0;case 11:return o.components[c]=n=S(n),e.abrupt("return","function"==typeof t?t(n,r,o,c):n);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,R(t);case 4:return e.abrupt("return",h(h({},t),{},{meta:E(t).map((function(e,n){return h(h({},e.options.meta),(t.matched[n]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var o,c,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:n.payload,error:n.error,base:t.router.options.base,env:{}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),n.ssrContext&&(t.context.ssrContext=n.ssrContext),t.context.redirect=function(e,path,n){if(e){t.context._redirected=!0;var o=Object(r.a)(path);if("number"==typeof e||"undefined"!==o&&"object"!==o||(n=path||{},path=e,o=Object(r.a)(path),e=302),"object"===o&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=Object(f.d)(path,n),window.location.replace(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),e.next=3,Promise.all([A(n.route),A(n.from)]);case 3:o=e.sent,c=Object(l.a)(o,2),d=c[0],m=c[1],n.route&&(t.context.route=d),n.from&&(t.context.from=m),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():B(e[0],t).then((function(){return M(e.slice(1),t)}))}function B(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function I(base,e){if("hash"===e)return window.location.hash.replace(/^#\//,"");base=decodeURI(base).slice(0,-1);var path=decodeURI(window.location.pathname);base&&path.startsWith(base)&&(path=path.slice(base.length));var t=(path||"/")+window.location.search+window.location.hash;return Object(f.c)(t)}function z(e,t){return function(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===Object(r.a)(e[i])&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",V(t)));return function(t,r){for(var path="",data=t||{},o=(r||{}).pretty?j:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],f=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var m=0;m<d.length;m++){if(f=o(d[m]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");path+=(0===m?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?U(d):o(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');path+=l.prefix+f}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=F.exec(e));){var d=n[0],f=n[1],m=n.index;if(path+=e.slice(c,m),c=m+d.length,f)path+=f[1];else{var h=e[c],v=n[2],x=n[3],y=n[4],w=n[5],k=n[6],C=n[7];path&&(r.push(path),path="");var _=null!=v&&null!=h&&h!==v,S="+"===k||"*"===k,E="?"===k||"*"===k,T=n[2]||l,pattern=y||w;r.push({name:x||o++,prefix:v||"",delimiter:T,optional:E,repeat:S,partial:_,asterisk:Boolean(C),pattern:pattern?$(pattern):C?".*":"[^"+W(T)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t),t)}function L(e,t){var n={},r=h(h({},e),t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function H(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return h(h({},e),{},{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function j(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function U(e){return j(e,!0)}function W(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function $(e){return e.replace(/([=!:$/()])/g,"\\$1")}function V(e){return e&&e.sensitive?"":"i"}function G(e,t,n){e.$options[t]||(e.$options[t]=[]),e.$options[t].includes(n)||e.$options[t].push(n)}var Y=f.b,X=(f.e,f.a);function J(e){try{window.history.scrollRestoration=e}catch(e){}}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(73);t.a={submitLogin:function(e){return Object(r.a)({url:"/educenter/member/login",method:"post",data:e})},getLoginUserInfo:function(){return Object(r.a)({url:"/educenter/member/getMemberInfo",method:"get"})},thirdLogin:function(code){return Object(r.a)({url:"/educenter/member/thirdLogin/"+code,method:"get"})}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return ve})),n.d(t,"a",(function(){return P}));n(51),n(41),n(44),n(82),n(83);var r=n(3),o=n(35),c=(n(28),n(39),n(38),n(18),n(69),n(1)),l=n(37),d=n(221),f=n(157),m=n.n(f),h=n(58),v=n.n(h),x=n(158),y=n(26),w=n(0);"scrollRestoration"in window.history&&(Object(w.u)("manual"),window.addEventListener("beforeunload",(function(){Object(w.u)("auto")})),window.addEventListener("load",(function(){Object(w.u)("manual")})));function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=function(){};c.default.use(x.a);var S={mode:"history",base:"/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(e,t,n){var r=!1,o=e!==t;n?r=n:o&&function(e){var t=Object(w.g)(e);if(1===t.length){var n=t[0].options;return!1!==(void 0===n?{}:n).scrollToTop}return t.some((function(e){var t=e.options;return t&&t.scrollToTop}))}(e)&&(r={x:0,y:0});var c=window.$nuxt;return(!o||e.path===t.path&&e.hash!==t.hash)&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var n=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(r)}))}))},routes:[{path:"/blog",component:function(){return Object(w.m)(n.e(2).then(n.bind(null,525)))},name:"blog"},{path:"/course",component:function(){return Object(w.m)(n.e(4).then(n.bind(null,526)))},name:"course"},{path:"/living",component:function(){return Object(w.m)(n.e(7).then(n.bind(null,527)))},name:"living"},{path:"/login",component:function(){return Object(w.m)(n.e(8).then(n.bind(null,528)))},name:"login"},{path:"/register",component:function(){return Object(w.m)(n.e(13).then(n.bind(null,529)))},name:"register"},{path:"/resetPassword",component:function(){return Object(w.m)(n.e(14).then(n.bind(null,530)))},name:"resetPassword"},{path:"/teacher",component:function(){return Object(w.m)(n.e(16).then(n.bind(null,531)))},name:"teacher"},{path:"/ucenter",component:function(){return Object(w.m)(n.e(20).then(n.bind(null,532)))},name:"ucenter"},{path:"/ucenter/banwo",component:function(){return Object(w.m)(n.e(17).then(n.bind(null,533)))},name:"ucenter-banwo"},{path:"/ucenter/fenxi",component:function(){return Object(w.m)(n.e(18).then(n.bind(null,534)))},name:"ucenter-fenxi"},{path:"/ucenter/guanzhu",component:function(){return Object(w.m)(n.e(19).then(n.bind(null,517)))},name:"ucenter-guanzhu"},{path:"/ucenter/index_ucenter",component:function(){return Object(w.m)(n.e(21).then(n.bind(null,535)))},name:"ucenter-index_ucenter"},{path:"/ucenter/jianghu",component:function(){return Object(w.m)(n.e(22).then(n.bind(null,518)))},name:"ucenter-jianghu"},{path:"/ucenter/kecheng",component:function(){return Object(w.m)(n.e(23).then(n.bind(null,519)))},name:"ucenter-kecheng"},{path:"/ucenter/shezhi",component:function(){return Object(w.m)(n.e(24).then(n.bind(null,536)))},name:"ucenter-shezhi"},{path:"/ucenter/shuoshuo",component:function(){return Object(w.m)(n.e(25).then(n.bind(null,520)))},name:"ucenter-shuoshuo"},{path:"/blog/:id",component:function(){return Object(w.m)(Promise.all([n.e(28),n.e(1)]).then(n.bind(null,521)))},name:"blog-id"},{path:"/course/:id",component:function(){return Object(w.m)(n.e(3).then(n.bind(null,522)))},name:"course-id"},{path:"/living/:id",component:function(){return Object(w.m)(n.e(6).then(n.bind(null,537)))},name:"living-id"},{path:"/orders/:oid?",component:function(){return Object(w.m)(n.e(9).then(n.bind(null,538)))},name:"orders-oid"},{path:"/other/:id?",component:function(){return Object(w.m)(n.e(10).then(n.bind(null,523)))},name:"other-id"},{path:"/pay/:pid?",component:function(){return Object(w.m)(n.e(11).then(n.bind(null,539)))},name:"pay-pid"},{path:"/player/:vid?",component:function(){return Object(w.m)(n.e(12).then(n.bind(null,524)))},name:"player-vid"},{path:"/teacher/:id",component:function(){return Object(w.m)(n.e(15).then(n.bind(null,540)))},name:"teacher-id"},{path:"/",component:function(){return Object(w.m)(n.e(5).then(n.bind(null,516)))},name:"index"}],fallback:!1};function E(e,t){var base=t._app&&t._app.basePath||S.base,n=new x.a(C(C({},S),{},{base:base})),r=n.push;n.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=arguments.length>2?arguments[2]:void 0;return r.call(this,e,t,n)};var o=n.resolve.bind(n);return n.resolve=function(e,t,n){return"string"==typeof e&&(e=Object(y.c)(e)),o(e,t,n)},n}var T={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props,o=n.$createElement;data.nuxtChild=!0;for(var c=n,l=n.$nuxt.nuxt.transitions,d=n.$nuxt.nuxt.defaultTransition,f=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&f++,n=n.$parent;data.nuxtChildDepth=f;var m=l[f]||d,h={};N.forEach((function(e){void 0!==m[e]&&(h[e]=m[e])}));var v={};R.forEach((function(e){"function"==typeof m[e]&&(v[e]=m[e].bind(c))}));var x=v.beforeEnter;if(v.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),x)return x.call(c,e)},!1===m.css){var y=v.leave;(!y||y.length<2)&&(v.leave=function(e,t){y&&y.call(c,e),c.$nextTick(t)})}var w=o("routerView",data);return r.keepAlive&&(w=o("keep-alive",{props:r.keepAliveProps},[w])),o("transition",{props:h,on:v},[w])}},N=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],R=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],A={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0"}]}}},D=(n(263),n(11)),P=Object(D.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__nuxt-error-page"},[n("div",{staticClass:"error"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),e._v(" "),n("div",{staticClass:"title"},[e._v(e._s(e.message))]),e._v(" "),404===e.statusCode?n("p",{staticClass:"description"},[void 0===e.$route?n("a",{staticClass:"error-link",attrs:{href:"/"}}):n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[e._v("Back to the home page")])],1):e._e(),e._v(" "),e._m(0)])])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[e._v("Nuxt")])])}],!1,null,null,null).exports,O=n(17),M=(n(87),n(88),{name:"Nuxt",components:{NuxtChild:T,NuxtError:P},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(w.c)(this.$route.matched[0].path)(this.$route.params);var e=Object(O.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var n=t.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occurred while showing the error page"),e("p","Unfortunately an error occurred and while showing the error page another error occurred"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(P,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),B=(n(52),n(66),n(68),n(53),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(e){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100||e.percent<=0)&&(e.skipTimerCount=1,e.reversed=!e.reversed))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),I=(n(265),Object(D.a)(B,undefined,undefined,!1,null,null,null).exports),z=(n(267),n(189),n(49),n(102),n(285),[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"logo"}},[t("a",{attrs:{href:"#",title:"UnderDog学院"}},[t("img",{attrs:{src:n(89),width:"100%",alt:"UnderDog学院"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/login",title:"登录"}},[n("em",{staticClass:"icon18 login-icon"},[e._v(" ")]),e._v(" "),n("span",{staticClass:"vam ml5"},[e._v("登录")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/register",title:"注册"}},[n("span",{staticClass:"vam ml5"},[e._v("注册")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{id:"headerMsgCountId",href:"#",title:"消息"}},[n("em",{staticClass:"icon18 news-icon"},[e._v(" ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"h-r-search"},[n("form",{attrs:{action:"#",method:"post"}},[n("label",{staticClass:"h-r-s-box"},[n("input",{attrs:{type:"text",placeholder:"输入你想学的课程",name:"queryCourse.courseName",value:""}}),e._v(" "),n("button",{staticClass:"s-btn",attrs:{type:"submit"}},[n("em",{staticClass:"icon18"},[e._v(" ")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("aside",{staticClass:"mw-nav-btn"},[t("div",{staticClass:"mw-nav-icon"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer-bottom"},[n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401547655095545857"}},[e._v("关于我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549152113946625"}},[e._v("加入我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549759927316481"}},[e._v("联系我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549152113946625"}},[e._v("帮助中心")])])}]),L=(n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(2)),H=n.n(L),F=n(25),j={data:function(){return{token:"",loginInfo:{id:"",age:"",avatar:"",mobile:"",nickname:"",sex:""},code:""}},methods:{showInfo:function(){var e=H.a.get("underdogedu_ucenter");e&&(this.loginInfo=JSON.parse(e))},thirdLogin:function(code){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H.a.set("underdogedu_token",e.token,{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter","",{domain:"www.feifu.top"}),t.next=4,F.a.thirdLogin(code);case 4:2e4===(n=t.sent).data.code&&(e.loginInfo=n.data.data.member,e.token=n.data.data.token,console.log(e.loginInfo),H.a.set("underdogedu_token",e.token,{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter",e.loginInfo,{domain:"www.feifu.top"}));case 6:case"end":return t.stop()}}),t)})))()},logout:function(){H.a.set("underdogedu_token","",{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter","",{domain:"www.feifu.top"}),window.location.href="/"},wxLogin:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H.a.set("underdogedu_token",e.token,{domain:"localhost"}),H.a.set("underdogedu_ucenter","",{domain:"localhost"}),t.next=4,F.a.getLoginUserInfo();case 4:2e4===(n=t.sent).data.code&&(e.loginInfo=n.data.data.userInfo,console.log(e.loginInfo),H.a.set("underdogedu_ucenter",e.loginInfo,{domain:"localhost"}));case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.code=this.$route.query.code,null!=this.code&&""!=this.code&&null!=this.code&&this.thirdLogin(this.code),this.showInfo()}},U=(n(337),Object(D.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"in-wrap"},[n("header",{attrs:{id:"header"}},[n("section",{staticClass:"container"},[e._m(0),e._v(" "),n("div",{staticClass:"h-r-nsl"},[n("ul",{staticClass:"nav"},[n("router-link",{attrs:{to:"/",tag:"li","active-class":"current",exact:""}},[n("a",[e._v("首页")])]),e._v(" "),n("router-link",{attrs:{to:"/course",tag:"li","active-class":"current"}},[n("a",[e._v("课程")])]),e._v(" "),n("router-link",{attrs:{to:"/teacher",tag:"li","active-class":"current"}},[n("a",[e._v("名师")])]),e._v(" "),n("router-link",{attrs:{to:"/blog",tag:"li","active-class":"current"}},[n("a",[e._v("文章")])]),e._v(" "),n("router-link",{attrs:{to:"/living",tag:"li","active-class":"current"}},[n("a",[e._v("直播")])])],1),e._v(" "),n("ul",{staticClass:"h-r-login"},[e.loginInfo.id?e._e():n("li",{attrs:{id:"no-login"}},[e._m(1),e._v("\n              |\n              "),e._m(2)]),e._v(" "),e.loginInfo.id?n("li",{staticClass:"mr10",attrs:{id:"is-login-one"}},[e._m(3),e._v(" "),n("q",{staticClass:"red-point",staticStyle:{display:"none"}},[e._v(" ")])]):e._e(),e._v(" "),e.loginInfo.id?n("li",{staticClass:"h-r-user",attrs:{id:"is-login-two"}},[n("a",{attrs:{href:"/ucenter",title:""}},[n("img",{staticClass:"vam picImg",attrs:{src:e.loginInfo.avatar,width:"30",height:"30",alt:""}}),e._v(" "),n("span",{staticClass:"vam disIb",attrs:{id:"userName"}},[e._v(e._s(e.loginInfo.nickname))])]),e._v(" "),n("a",{staticClass:"ml5",attrs:{href:"javascript:void(0);",title:"退出"},on:{click:function(t){return e.logout()}}},[e._v("退出")])]):e._e()]),e._v(" "),e._m(4)]),e._v(" "),e._m(5),e._v(" "),n("div",{staticClass:"clear"})])]),e._v(" "),n("nuxt"),e._v(" "),n("footer",{attrs:{id:"footer"}},[n("section",{staticClass:"container"},[n("div",{staticClass:"b-foot"},[e._m(6),e._v(" "),n("div",{staticClass:"footer-show2"},[e._v("\n            Copyright © 上海Underdog网络科技有限公司 豫ICP备2021015032号\n          ")]),e._v(" "),n("aside",{staticClass:"footer-show3"},[n("section",{staticClass:"gf-tx"},[n("span",[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{height:"200px"},attrs:{src:"\nhttps://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/qrcode_for_gh_6ecad3479e5f_258.jpg",alt:""}}),e._v(" "),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("微信")])],1)],1)]),e._v(" "),n("section",{staticClass:"gf-tx"},[n("span",[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{height:"200px"},attrs:{src:"\n\nhttps://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/2c6cb9ba7cc69cfb242b973b742e1ca.jpg",alt:""}}),e._v(" "),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("B站")])],1)],1)])]),e._v(" "),n("div",{staticClass:"clear"})])])])],1)}),z,!1,null,"1e063ec4",null).exports),W=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"logo"}},[t("a",{attrs:{href:"#",title:"UnderDog学院"}},[t("img",{attrs:{src:n(89),width:"100%",alt:"UnderDog学院"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/login",title:"登录"}},[n("em",{staticClass:"icon18 login-icon"},[e._v(" ")]),e._v(" "),n("span",{staticClass:"vam ml5"},[e._v("登录")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/register",title:"注册"}},[n("span",{staticClass:"vam ml5"},[e._v("注册")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{id:"headerMsgCountId",href:"#",title:"消息"}},[n("em",{staticClass:"icon18 news-icon"},[e._v(" ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"h-r-search"},[n("form",{attrs:{action:"#",method:"post"}},[n("label",{staticClass:"h-r-s-box"},[n("input",{attrs:{type:"text",placeholder:"输入你想学的课程",name:"queryCourse.courseName",value:""}}),e._v(" "),n("button",{staticClass:"s-btn",attrs:{type:"submit"}},[n("em",{staticClass:"icon18"},[e._v(" ")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("aside",{staticClass:"mw-nav-btn"},[t("div",{staticClass:"mw-nav-icon"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer-bottom"},[n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401547655095545857"}},[e._v("关于我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549152113946625"}},[e._v("加入我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549759927316481"}},[e._v("联系我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549152113946625"}},[e._v("帮助中心")])])}],$={data:function(){return{token:"",loginInfo:{id:"",age:"",avatar:"",mobile:"",nickname:"",sex:""}}},methods:{showInfo:function(){var e=H.a.get("underdogedu_ucenter");e&&(this.loginInfo=JSON.parse(e))},thirdLogin:function(code){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H.a.set("underdogedu_token",e.token,{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter","",{domain:"www.feifu.top"}),t.next=4,F.a.thirdLogin(code);case 4:2e4===(n=t.sent).data.code&&(e.loginInfo=n.data.data.member,e.token=n.data.data.token,console.log(e.loginInfo),H.a.set("underdogedu_token",e.token,{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter",e.loginInfo,{domain:"www.feifu.top"}));case 6:case"end":return t.stop()}}),t)})))()},logout:function(){H.a.set("underdogedu_token","",{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter","",{domain:"www.feifu.top"}),window.location.href="/"},wxLogin:function(){var e=this;H.a.set("underdogedu_token",this.token,{domain:"localhost"}),H.a.set("underdogedu_ucenter","",{domain:"localhost"}),F.a.getLoginUserInfo().then((function(t){e.loginInfo=t.data.data.userInfo,H.a.set("underdogedu_ucenter",e.loginInfo,{domain:"localhost"})}))}},created:function(){this.code=this.$route.query.code,null!=this.code&&""!=this.code&&null!=this.code&&this.thirdLogin(this.code),this.showInfo(),this.$store.commit("initUserInfo",this.loginInfo)}},V=(n(339),Object(D.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"in-wrap bg-fa of"},[n("header",{attrs:{id:"header"}},[n("section",{staticClass:"container"},[e._m(0),e._v(" "),n("div",{staticClass:"h-r-nsl"},[n("ul",{staticClass:"nav"},[n("router-link",{attrs:{to:"/",tag:"li","active-class":"current",exact:""}},[n("a",[e._v("首页")])]),e._v(" "),n("router-link",{attrs:{to:"/course",tag:"li","active-class":"current"}},[n("a",[e._v("课程")])]),e._v(" "),n("router-link",{attrs:{to:"/teacher",tag:"li","active-class":"current"}},[n("a",[e._v("名师")])]),e._v(" "),n("router-link",{attrs:{to:"/blog",tag:"li","active-class":"current"}},[n("a",[e._v("文章")])]),e._v(" "),n("router-link",{attrs:{to:"/living",tag:"li","active-class":"current"}},[n("a",[e._v("直播")])])],1),e._v(" "),n("ul",{staticClass:"h-r-login"},[e.loginInfo.id?e._e():n("li",{attrs:{id:"no-login"}},[e._m(1),e._v("\n              |\n              "),e._m(2)]),e._v(" "),e.loginInfo.id?n("li",{staticClass:"mr10",attrs:{id:"is-login-one"}},[e._m(3),e._v(" "),n("q",{staticClass:"red-point",staticStyle:{display:"none"}},[e._v(" ")])]):e._e(),e._v(" "),e.loginInfo.id?n("li",{staticClass:"h-r-user",attrs:{id:"is-login-two"}},[n("a",{attrs:{href:"/ucenter",title:""}},[n("img",{staticClass:"vam picImg",attrs:{src:e.loginInfo.avatar,width:"30",height:"30",alt:""}}),e._v(" "),n("span",{staticClass:"vam disIb",attrs:{id:"userName"}},[e._v(e._s(e.loginInfo.nickname))])]),e._v(" "),n("a",{staticClass:"ml5",attrs:{href:"javascript:void(0);",title:"退出"},on:{click:function(t){return e.logout()}}},[e._v("退出")])]):e._e()]),e._v(" "),e._m(4)]),e._v(" "),e._m(5),e._v(" "),n("div",{staticClass:"clear"})])]),e._v(" "),n("nuxt"),e._v(" "),n("footer",{attrs:{id:"footer"}},[n("section",{staticClass:"container"},[n("div",{staticClass:"b-foot"},[e._m(6),e._v(" "),n("div",{staticClass:"footer-show2"},[e._v("\n            Copyright © 上海Underdog网络科技有限公司 豫ICP备2021015032号\n          ")]),e._v(" "),n("aside",{staticClass:"footer-show3"},[n("section",{staticClass:"gf-tx"},[n("span",[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{height:"200px"},attrs:{src:"\nhttps://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/qrcode_for_gh_6ecad3479e5f_258.jpg",alt:""}}),e._v(" "),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("微信")])],1)],1)]),e._v(" "),n("section",{staticClass:"gf-tx"},[n("span",[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{height:"200px"},attrs:{src:"\n\nhttps://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/2c6cb9ba7cc69cfb242b973b742e1ca.jpg",alt:""}}),e._v(" "),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("B站")])],1)],1)])]),e._v(" "),n("div",{staticClass:"clear"})])])])],1)}),W,!1,null,"4abf51d8",null).exports),G=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:n(89),alt:"logo"}})])}],Y=Object(D.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sign"},[e._m(0),e._v(" "),n("nuxt")],1)}),G,!1,null,null,null).exports,X=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"logo"}},[t("a",{attrs:{href:"#",title:"UnderDog学院"}},[t("img",{attrs:{src:n(89),width:"100%",alt:"UnderDog学院"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/login",title:"登录"}},[n("em",{staticClass:"icon18 login-icon"},[e._v(" ")]),e._v(" "),n("span",{staticClass:"vam ml5"},[e._v("登录")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/register",title:"注册"}},[n("span",{staticClass:"vam ml5"},[e._v("注册")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{id:"headerMsgCountId",href:"#",title:"消息"}},[n("em",{staticClass:"icon18 news-icon"},[e._v(" ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"h-r-search"},[n("form",{attrs:{action:"#",method:"post"}},[n("label",{staticClass:"h-r-s-box"},[n("input",{attrs:{type:"text",placeholder:"输入你想学的课程",name:"queryCourse.courseName",value:""}}),e._v(" "),n("button",{staticClass:"s-btn",attrs:{type:"submit"}},[n("em",{staticClass:"icon18"},[e._v(" ")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("aside",{staticClass:"mw-nav-btn"},[t("div",{staticClass:"mw-nav-icon"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer-bottom"},[n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401547655095545857"}},[e._v("关于我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549152113946625"}},[e._v("加入我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549759927316481"}},[e._v("联系我们")]),e._v(" "),n("a",{staticStyle:{color:"#eee"},attrs:{href:"http://www.feifu.top/blog/1401549152113946625"}},[e._v("帮助中心")])])}],J={data:function(){return{token:"",loginInfo:{id:"",age:"",avatar:"",mobile:"",nickname:"",sex:""}}},methods:{showInfo:function(){var e=H.a.get("underdogedu_ucenter");e&&(this.loginInfo=JSON.parse(e))},thirdLogin:function(code){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H.a.set("underdogedu_token",e.token,{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter","",{domain:"www.feifu.top"}),t.next=4,F.a.thirdLogin(code);case 4:2e4===(n=t.sent).data.code&&(e.loginInfo=n.data.data.member,e.token=n.data.data.token,console.log(e.loginInfo),H.a.set("underdogedu_token",e.token,{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter",e.loginInfo,{domain:"www.feifu.top"}));case 6:case"end":return t.stop()}}),t)})))()},logout:function(){H.a.set("underdogedu_token","",{domain:"www.feifu.top"}),H.a.set("underdogedu_ucenter","",{domain:"www.feifu.top"}),window.location.href="/"},wxLogin:function(){var e=this;H.a.set("underdogedu_token",this.token,{domain:"localhost"}),H.a.set("underdogedu_ucenter","",{domain:"localhost"}),F.a.getLoginUserInfo().then((function(t){e.loginInfo=t.data.data.userInfo,H.a.set("underdogedu_ucenter",e.loginInfo,{domain:"localhost"})}))}},created:function(){this.code=this.$route.query.code,null!=this.code&&""!=this.code&&null!=this.code&&this.thirdLogin(this.code),this.showInfo(),this.$store.commit("initUserInfo",this.loginInfo)}},K=(n(341),Object(D.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"in-wrap bg-fa of"},[n("header",{attrs:{id:"header"}},[n("section",{staticClass:"container"},[e._m(0),e._v(" "),n("div",{staticClass:"h-r-nsl"},[n("ul",{staticClass:"nav"},[n("router-link",{attrs:{to:"/",tag:"li","active-class":"current",exact:""}},[n("a",[e._v("首页")])]),e._v(" "),n("router-link",{attrs:{to:"/course",tag:"li","active-class":"current"}},[n("a",[e._v("课程")])]),e._v(" "),n("router-link",{attrs:{to:"/teacher",tag:"li","active-class":"current"}},[n("a",[e._v("名师")])]),e._v(" "),n("router-link",{attrs:{to:"/blog",tag:"li","active-class":"current"}},[n("a",[e._v("文章")])]),e._v(" "),n("router-link",{attrs:{to:"/living",tag:"li","active-class":"current"}},[n("a",[e._v("直播")])])],1),e._v(" "),n("ul",{staticClass:"h-r-login"},[e.loginInfo.id?e._e():n("li",{attrs:{id:"no-login"}},[e._m(1),e._v("\n              |\n              "),e._m(2)]),e._v(" "),e.loginInfo.id?n("li",{staticClass:"mr10",attrs:{id:"is-login-one"}},[e._m(3),e._v(" "),n("q",{staticClass:"red-point",staticStyle:{display:"none"}},[e._v(" ")])]):e._e(),e._v(" "),e.loginInfo.id?n("li",{staticClass:"h-r-user",attrs:{id:"is-login-two"}},[n("a",{attrs:{href:"/ucenter",title:""}},[n("img",{staticClass:"vam picImg",attrs:{src:e.loginInfo.avatar,width:"30",height:"30",alt:""}}),e._v(" "),n("span",{staticClass:"vam disIb",attrs:{id:"userName"}},[e._v(e._s(e.loginInfo.nickname))])]),e._v(" "),n("a",{staticClass:"ml5",attrs:{href:"javascript:void(0);",title:"退出"},on:{click:function(t){return e.logout()}}},[e._v("退出")])]):e._e()]),e._v(" "),e._m(4)]),e._v(" "),e._m(5),e._v(" "),n("div",{staticClass:"clear"})])]),e._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"bg"},[n("div",{staticClass:"bg_content"},[n("div",{staticClass:"avatar"},[n("el-avatar",{staticClass:"avatar",attrs:{shape:"circle",size:80,src:e.loginInfo.avatar}})],1),e._v(" "),n("div",{staticClass:"content_right"},[n("div",[n("span",[e._v(e._s(e.loginInfo.nickname))]),e._v(" "),1===e.loginInfo.sex?n("span",[e._v("男")]):n("span",[e._v("女")])]),e._v(" "),n("div",{staticStyle:{color:"#fff","font-size":"15px","font-weight":"bold"}},[e._v("\n            "+e._s(e.loginInfo.signature||"Ta很懒，什么也没留下")+"\n          ")])])])]),e._v(" "),n("div",{staticClass:"navStyle"},[n("ul",{staticClass:"nav nav_ucenter"},[n("router-link",{attrs:{to:"/ucenter/index_ucenter",tag:"li","active-class":"current",exact:""}},[n("a",[e._v("主页")])]),e._v(" "),n("router-link",{attrs:{to:"/ucenter/jianghu",tag:"li","active-class":"current"}},[n("a",[e._v("江湖")])]),e._v(" "),n("router-link",{attrs:{to:"/ucenter/kecheng",tag:"li","active-class":"current"}},[n("a",[e._v("课程")])]),e._v(" "),n("router-link",{attrs:{to:"/ucenter/shuoshuo",tag:"li","active-class":"current"}},[n("a",[e._v("说说")])]),e._v(" "),n("router-link",{attrs:{to:"/ucenter/banwo",tag:"li","active-class":"current"}},[n("a",[e._v("伴我")])]),e._v(" "),n("router-link",{attrs:{to:"/ucenter/shezhi",tag:"li","active-class":"current"}},[n("a",[e._v("设置")])])],1),e._v(" "),n("ul",{staticClass:"nav nav_right"},[n("router-link",{attrs:{to:"/ucenter/guanzhu",tag:"li","active-class":"current"}},[n("a",[e._v("我的关注")])]),e._v(" "),n("router-link",{attrs:{to:"/ucenter/fenxi",tag:"li","active-class":"current"}},[n("a",[e._v("我的粉丝")])])],1)])]),e._v(" "),n("nuxt"),e._v(" "),n("footer",{attrs:{id:"footer"}},[n("section",{staticClass:"container"},[n("div",{staticClass:"b-foot"},[e._m(6),e._v(" "),n("div",{staticClass:"footer-show2"},[e._v("\n            Copyright © 上海Underdog网络科技有限公司 豫ICP备2021015032号\n          ")]),e._v(" "),n("aside",{staticClass:"footer-show3"},[n("section",{staticClass:"gf-tx"},[n("span",[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{height:"200px"},attrs:{src:"\nhttps://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/qrcode_for_gh_6ecad3479e5f_258.jpg",alt:""}}),e._v(" "),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("微信")])],1)],1)]),e._v(" "),n("section",{staticClass:"gf-tx"},[n("span",[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{height:"200px"},attrs:{src:"\n\nhttps://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/2c6cb9ba7cc69cfb242b973b742e1ca.jpg",alt:""}}),e._v(" "),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("B站")])],1)],1)])]),e._v(" "),n("div",{staticClass:"clear"})])])])],1)}),X,!1,null,"22cfcfbc",null).exports),Z={},video=(n(343),Object(D.a)(Z,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guli-player"},[t("div",{staticClass:"body"},[t("div",{staticClass:"content"},[t("nuxt")],1)])])}),[],!1,null,"6d49b5f1",null).exports);function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var te={_default:Object(w.s)(U),_otherLayout:Object(w.s)(V),_sign:Object(w.s)(Y),_ucenterLayout:Object(w.s)(K),_video:Object(w.s)(video)},ne={render:function(e,t){var n=e("NuxtLoading",{ref:"loading"}),r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$loading=e.$refs.loading;case 1:case"end":return t.stop()}}),t)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=Object(w.h)(e.$route)).length){t.next=3;break}return t.abrupt("return");case 3:return e.$loading.start(),r=n.map((function(t){var p=[];if(t.$options.fetch&&t.$options.fetch.length&&p.push(Object(w.q)(t.$options.fetch,e.context)),t.$fetch)p.push(t.$fetch());else{var n,r=Q(Object(w.e)(t.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(e){r.e(e)}finally{r.f()}}return t.$options.asyncData&&p.push(Object(w.q)(t.$options.asyncData,e.context).then((function(e){for(var n in e)c.default.set(t.$data,n,e[n])}))),Promise.all(p)})),t.prev=5,t.next=8,Promise.all(r);case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(5),e.$loading.fail(t.t0),Object(w.k)(t.t0),e.error(t.t0);case 15:e.$loading.finish();case 16:case"end":return t.stop()}}),t,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var e=(P.options||P).layout;"function"==typeof e&&(e=e(this.context)),this.setLayout(e)}},setLayout:function(e){return e&&te["_"+e]||(e="default"),this.layoutName=e,this.layout=te["_"+e],this.layout},loadLayout:function(e){return e&&te["_"+e]||(e="default"),Promise.resolve(te["_"+e])}},components:{NuxtLoading:I}};c.default.use(l.a);var re={};(re=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),function(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return n}})}return e}(e,t)}(n(345),"store/index.js")).modules=re.modules||{};var oe=re instanceof Function?re:function(){return new l.a.Store(Object.assign({strict:!1},re))};var ie=n(224),ae=n.n(ie),se=n(225),ce=n.n(se),le=n(100),ue=n.n(le);c.default.use(ue.a),c.default.use(ce.a),c.default.use(ae.a),c.default.use(ue.a);var de=n(226),fe=n.n(de);function pe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function me(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pe(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):pe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n(49),c.default.use(fe.a),c.default.component(m.a.name,m.a),c.default.component(v.a.name,me(me({},v.a),{},{render:function(e,t){return v.a._warned||(v.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),v.a.render(e,t)}})),c.default.component(T.name,T),c.default.component("NChild",T),c.default.component(M.name,M),Object.defineProperty(c.default.prototype,"$nuxt",{get:function(){var e=this.$root.$options.$nuxt;return e||"undefined"==typeof window?e:window.$nuxt},configurable:!0}),c.default.use(d.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var he={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"},ge=l.a.Store.prototype.registerModule;function be(path,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Array.isArray(path)?!!path.reduce((function(e,path){return e&&e[path]}),this.state):path in this.state;return ge.call(this,path,e,me({preserveState:n},t))}function ve(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,o,l,d,f,m,path,h,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject('".concat(e,"', value) has no value provided"));d[e="$"+e]=t,d.context[e]||(d.context[e]=t),l[e]=d[e];var n="__nuxt_"+e+"_installed__";c.default[n]||(c.default[n]=!0,c.default.use((function(){Object.prototype.hasOwnProperty.call(c.default.prototype,e)||Object.defineProperty(c.default.prototype,e,{get:function(){return this.$root.$options[e]}})})))},n=v.length>1&&void 0!==v[1]?v[1]:{},e.next=4,E(0,n);case 4:return o=e.sent,(l=oe(t)).$router=o,l.registerModule=be,d=me({head:{title:"UnderdogEdu",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"{{escape description }}"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}],style:[],script:[]},store:l,router:o,nuxt:{defaultTransition:he,transitions:[he],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},he,{name:e}):Object.assign({},he,e):he})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,d.context._errored=Boolean(e),e=e?Object(w.p)(e):null;var n=d.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},ne),l.app=d,f=t?t.next:function(e){return d.router.push(e)},t?m=o.resolve(t.url).route:(path=Object(w.f)(o.options.base,o.options.mode),m=o.resolve(path).route),e.next=14,Object(w.t)(d,{store:l,route:m,next:f,error:d.nuxt.error.bind(d),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 14:h("config",n),window.__NUXT__&&window.__NUXT__.state&&l.replaceState(window.__NUXT__.state),e.next=20;break;case 20:e.next=23;break;case 23:e.next=26;break;case 26:return e.next=29,new Promise((function(e,t){o.replace(d.context.route.fullPath,e,(function(n){if(!n._isRouter)return t(n);if(2!==n.type)return e();var c=o.afterEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(w.j)(n);case 3:d.context.route=t.sent,d.context.params=n.params||{},d.context.query=n.query||{},c(),e();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}));case 29:return e.abrupt("return",{store:l,app:d,router:o});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var content=n(272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("6dc5d5f6",content,!0,{sourceMap:!1})},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(18);var r=n(223),o=n.n(r),c=n(2),l=n.n(c),d=o.a.create({baseURL:"http://natapp.feifu.top",timeout:2e4});d.interceptors.request.use((function(e){return l.a.get("underdogedu_token")&&(e.headers.token=l.a.get("underdogedu_token")),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){return 28004==e.data.code?(console.log("response.data.resultCode是28004"),void(window.location.href="/login")):2e4===e.data.code?e:void(25e3!=e.data.code&&Message({message:e.data.message||"error",type:"error",duration:5e3}))}),(function(e){return Promise.reject(e.response)})),t.a=d},,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"img/logo.4c58550.png"},,,,,,,,,,,,function(e,t,n){"use strict";n(111),n(115),n(38),n(44),n(18),n(52),n(39),n(41),n(66),n(68),n(53);var r=n(1);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var l=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},d=window.cancelIdleCallback||function(e){clearTimeout(e)},f=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||!link.__prefetch||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:r.default.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=l(this.observe,{timeout:2e3}))},beforeDestroy:function(){d(this.handleId),this.__observed&&(f.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){f&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),f.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){f.unobserve(this.$el);var e,t=o(this.getPrefetchComponents());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(e){t.e(e)}finally{t.f()}}}}}},function(e,t,n){var content=n(282);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("148f3146",content,!0,{sourceMap:!1})},,,,,,,,,,,,,,,,,function(e,t,n){var content=n(287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("6c5fdf84",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(288);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("0b6eb3fe",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(289);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("67757c1a",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(304);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("6938509c",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(305);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("c08f3944",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("4d3a8714",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(312);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("6910969e",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(313);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("a0deb468",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("69c228c4",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(315);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("70df78de",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("9d7676b0",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(317);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("372a5b7e",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(319);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("9ff9a1b8",content,!0,{sourceMap:!1})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var content=n(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("4f32724b",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(266);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("147985ea",content,!0,{sourceMap:!1})},,,,,,,,,,function(e,t,n){var content=n(338);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("2b1b6438",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(340);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("799a95c8",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(342);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("58b18d24",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(344);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("6ecd2556",content,!0,{sourceMap:!1})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t,r){var o=n(407);n(408),n(52),n(184),n(185),n(18),n(87),n(88),n(180),n(69),n(409),n(44),n(38),n(228),n(118),n(39),n(51),n(229),n(53),n(412),n(413),n(186),n(414),function(){"use strict";var e,n,r,c,l,i,a,s,u,d,f,m,h,v,p,g,x,y=function(e){return function(){return e}},w={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:y,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:y(!1),always:y(!0)},b=w.never,k=w.always,C=function(){return _},_=(c={fold:function(e,t){return e()},is:b,isSome:b,isNone:k,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:r,orThunk:n,map:C,ap:C,each:function(){},bind:C,flatten:C,exists:b,forall:k,filter:C,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:w.constant("none()")},Object.freeze&&Object.freeze(c),c),S=function e(t){var n=function(){return t},r=function(){return c},o=function(e){return e(t)},c={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:k,isNone:b,getOr:n,getOrThunk:n,getOrDie:n,or:r,orThunk:r,map:function(n){return e(n(t))},ap:function(n){return n.fold(C,(function(n){return e(n(t))}))},each:function(e){e(t)},bind:o,flatten:n,exists:o,forall:o,filter:function(e){return e(t)?c:_},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(b,(function(e){return n(t,e)}))},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return c},E={some:S,none:C,from:function(e){return null==e?_:S(e)}},T=void 0===(l=Array.prototype.indexOf)?function(e,t){return M(e,t)}:function(e,t){return l.call(e,t)},N=function(e,t){return T(e,t)>-1},R=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},A=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},D=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n,e)},P=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return E.some(n);return E.none()},M=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},B=Array.prototype.push,I=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);B.apply(t,e[n])}return t},z=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},L=(Array.prototype.slice,R),H=A,F=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},j=P,U=function(e,t){var n=T(e,t);return-1===n?E.none():E.some(n)},W=function(e,t,n){return D(e,(function(e){n=t(n,e)})),n},$=function(e,t,n){return A(e,(function(e){n=t(n,e)})),n},V=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return E.some(o)}return E.none()},G=O,Y=function(e,t){var n=R(e,t);return I(n)},X=z,J=function(e,t){return O(e,t).isSome()},K=N,Z=function(e,t){return P(e,(function(e){return!N(t,e)}))},Q=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},ee=function(e){return 0===e.length?E.none():E.some(e[e.length-1])},te="undefined"!=typeof window?window:Function("return this;")(),ne=function(e,t){return function(e,t){for(var n=null!=t?t:te,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n}(e.split("."),t)},re=function(e,t){var n=ne(e,t);if(null==n)throw e+" not available on this browser";return n},oe=function(){return re("URL")},q=function(e){return oe().createObjectURL(e)},ie=function(e){oe().revokeObjectURL(e)},ae=navigator,se=ae.userAgent,ce=function(e){return"matchMedia"in window&&matchMedia(e).matches};h=/Android/.test(se),a=(a=!(i=/WebKit/.test(se))&&/MSIE/gi.test(se)&&/Explorer/gi.test(ae.appName))&&/MSIE (\w+)\./.exec(se)[1],s=-1!==se.indexOf("Trident/")&&(-1!==se.indexOf("rv:")||-1!==ae.appName.indexOf("Netscape"))&&11,u=-1!==se.indexOf("Edge/")&&!a&&!s&&12,a=a||s||u,d=!i&&!s&&/Gecko/.test(se),f=-1!==se.indexOf("Mac"),m=/(iPad|iPhone)/.test(se),v="FormData"in window&&"FileReader"in window&&"URL"in window&&!!q,p=ce("only screen and (max-device-width: 480px)")&&(h||m),g=ce("only screen and (min-width: 800px)")&&(h||m),x=-1!==se.indexOf("Windows Phone"),u&&(i=!1);var le,ue,de,fe,pe,me,he,ge,be,ve,xe,ye,we,ke,Ce,_e,Se,Ee,Te,Ne={opera:!1,webkit:i,ie:a,gecko:d,mac:f,iOS:m,android:h,contentEditable:!m||v||parseInt(se.match(/AppleWebKit\/(\d*)/)[1],10)>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==a,range:window.getSelection&&"Range"in window,documentMode:a&&!u?document.documentMode||7:10,fileApi:v,ceFalse:!1===a||a>8,cacheSuffix:"",container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===a||a>11,desktop:!p&&!g,windowsPhone:x},Re=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(t){if("object"!=o(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(i,this),e(a,this))},c=r.immediateFn||"function"==typeof t&&t||function(e){setTimeout(e,1)};function l(e){var t=this;null!==this._state?c((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==o(t)||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(i,this),e(a,this))}this._state=!0,this._value=t,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)l.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}return r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=this;return new r((function(r,i){l.call(n,new function(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(e,t,r,i))}))},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new r((function(t,n){if(0===e.length)return t([]);var r=e.length;function c(i,a){try{if(a&&("object"==o(a)||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){c(i,e)}),n)}e[i]=a,0==--r&&t(e)}catch(e){n(e)}}for(var i=0;i<e.length;i++)c(i,e[i])}))},r.resolve=function(e){return e&&"object"==o(e)&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},r}(),Ae=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},De=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Pe=function(e,t){var n,r;return(r=function(){var r=arguments;clearTimeout(n),n=Ae((function(){e.apply(this,r)}),t)}).stop=function(){clearTimeout(n)},r},Oe={requestAnimationFrame:function(e,t){le?le.then(e):le=new Re((function(e){t||(t=document.body),function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=function(e){window.setTimeout(e,0)}),r(e,t)}(e,t)})).then(e)},setTimeout:Ae,setInterval:De,setEditorTimeout:function(e,t,n){return Ae((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r;return r=De((function(){e.removed?clearInterval(r):t()}),n)},debounce:Pe,throttle:Pe,clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearTimeout(e)}))},Me=/^(?:mouse|contextmenu)|click/,Be={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Ie=function(){return!1},ze=function(){return!0},Le=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},He=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Fe=function(e,t){var n,r,i,a,s,u=t||{};for(n in e)Be[n]||(u[n]=e[n]);if(u.target||(u.target=u.srcElement||document),Ne.experimentalShadowDom&&(u.target=(r=e,a=u.target,(i=r.path)&&i.length>0&&(a=i[0]),r.deepPath&&(i=r.deepPath())&&i.length>0&&(a=i[0]),a)),e&&Me.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var o=u.target.ownerDocument||document,c=o.documentElement,l=o.body;u.pageX=e.clientX+(c&&c.scrollLeft||l&&l.scrollLeft||0)-(c&&c.clientLeft||l&&l.clientLeft||0),u.pageY=e.clientY+(c&&c.scrollTop||l&&l.scrollTop||0)-(c&&c.clientTop||l&&l.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=ze,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=ze,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=ze,u.stopPropagation()},0==((s=u).isDefaultPrevented===ze||s.isDefaultPrevented===Ie)&&(u.isDefaultPrevented=Ie,u.isPropagationStopped=Ie,u.isImmediatePropagationStopped=Ie),void 0===u.metaKey&&(u.metaKey=!1),u},je=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))};!r.addEventListener||Ne.ie&&Ne.ie<11?(Le(r,"readystatechange",(function s(){i()&&(He(r,"readystatechange",s),a())})),r.documentElement.doScroll&&e.self===e.top&&function u(){try{r.documentElement.doScroll("left")}catch(e){return void Oe.setTimeout(u)}a()}()):i()?a():Le(e,"DOMContentLoaded",a),Le(e,"load",a)}},Ue=function(){var e,t,n,r,o,i=this,a={};t="mce-data-"+(+new Date).toString(32),r="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,i.domLoaded=!1,i.events=a;var s=function(e,t){var n,r,o,i,s=a[t];if(n=s&&s[e.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};i.bind=function(u,c,l,d){var f,m,p,g,h,v,x,b=window,y=function(e){s(Fe(e||b.event),f)};if(u&&3!==u.nodeType&&8!==u.nodeType){for(u[t]?f=u[t]:(f=e++,u[t]=f,a[f]={}),d=d||u,p=(c=c.split(" ")).length;p--;)v=y,h=x=!1,"DOMContentLoaded"===(g=c[p])&&(g="ready"),i.domLoaded&&"ready"===g&&"complete"===u.readyState?l.call(d,Fe({type:g})):(r||(h=o[g])&&(v=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Fe(e||b.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,s(e,f))}),n||"focusin"!==g&&"focusout"!==g||(x=!0,h="focusin"===g?"focus":"blur",v=function(e){(e=Fe(e||b.event)).type="focus"===e.type?"focusin":"focusout",s(e,f)}),(m=a[f][g])?"ready"===g&&i.domLoaded?l({type:g}):m.push({func:l,scope:d}):(a[f][g]=m=[{func:l,scope:d}],m.fakeName=h,m.capture=x,m.nativeHandler=v,"ready"===g?je(u,v,i):Le(u,h||g,v,x)));return u=m=0,l}},i.unbind=function(e,n,r){var o,s,u,c,l,d;if(!e||3===e.nodeType||8===e.nodeType)return i;if(o=e[t]){if(d=a[o],n){for(u=(n=n.split(" ")).length;u--;)if(s=d[l=n[u]]){if(r)for(c=s.length;c--;)if(s[c].func===r){var f=s.nativeHandler,m=s.fakeName,p=s.capture;(s=s.slice(0,c).concat(s.slice(c+1))).nativeHandler=f,s.fakeName=m,s.capture=p,d[l]=s}r&&0!==s.length||(delete d[l],He(e,s.fakeName||l,s.nativeHandler,s.capture))}}else{for(l in d)s=d[l],He(e,s.fakeName||l,s.nativeHandler,s.capture);d={}}for(l in d)return i;delete a[o];try{delete e[t]}catch(n){e[t]=null}}return i},i.fire=function(e,n,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return i;(r=Fe(null,r)).type=n,r.target=e;do{(o=e[t])&&s(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return i},i.clean=function(e){var n,r,o=i.unbind;if(!e||3===e.nodeType||8===e.nodeType)return i;if(e[t]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),n=(r=e.getElementsByTagName("*")).length;n--;)(e=r[n])[t]&&o(e);return i},i.destroy=function(){a={}},i.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};(Ue.Event=new Ue).bind(window,"ready",(function(){}));var We="sizzle"+-new Date,$e=window.document,qe=0,Ve=0,Ge=Tt(),Ye=Tt(),Xe=Tt(),Je=function(e,t){return e===t&&(ye=!0),0},Ke="undefined",Ze=1<<31,Qe={}.hasOwnProperty,et=[],tt=et.pop,nt=et.push,ot=et.push,it=et.slice,at=et.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},st="[\\x20\\t\\r\\n\\f]",ct="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",lt="\\["+st+"*("+ct+")(?:"+st+"*([*^$|!~]?=)"+st+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ct+"))|)"+st+"*\\]",ut=":("+ct+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+lt+")*)|.*)\\)|)",ft=new RegExp("^"+st+"+|((?:^|[^\\\\])(?:\\\\.)*)"+st+"+$","g"),pt=new RegExp("^"+st+"*,"+st+"*"),mt=new RegExp("^"+st+"*([>+~]|"+st+")"+st+"*"),ht=new RegExp("="+st+"*([^\\]'\"]*?)"+st+"*\\]","g"),gt=new RegExp(ut),bt=new RegExp("^"+ct+"$"),vt={ID:new RegExp("^#("+ct+")"),CLASS:new RegExp("^\\.("+ct+")"),TAG:new RegExp("^("+ct+"|[*])"),ATTR:new RegExp("^"+lt),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+st+"*(even|odd|(([+-]|)(\\d*)n|)"+st+"*(?:([+-]|)"+st+"*(\\d+)|))"+st+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+st+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+st+"*((?:-\\d)?\\d*)"+st+"*\\)|)(?=[^-]|$)","i")},xt=/^(?:input|select|textarea|button)$/i,rt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,wt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kt=/[+~]/,Ct=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+st+"?|("+st+")|.)","ig"),St=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{ot.apply(et=it.call($e.childNodes),$e.childNodes),et[$e.childNodes.length].nodeType}catch(e){ot={apply:et.length?function(e,t){nt.apply(e,it.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Et=function(e,t,n,r){var o,i,a,s,u,c,l,d,f,m;if((t?t.ownerDocument||t:$e)!==ke&&we(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||ke).nodeType)&&9!==s)return[];if(_e&&!r){if(o=wt.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Te(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return ot.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&de.getElementsByClassName)return ot.apply(n,t.getElementsByClassName(a)),n}if(de.qsa&&(!Se||!Se.test(e))){if(d=l=We,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=he(e),(l=t.getAttribute("id"))?d=l.replace(Ct,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+Mt(c[u]);f=kt.test(e)&&Pt(t.parentNode)||t,m=c.join(",")}if(m)try{return ot.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return be(e.replace(ft,"$1"),t,n,r)};function Tt(){var e=[];return function t(n,r){return e.push(n+" ")>fe.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function dt(e){return e[We]=!0,e}function Nt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Ze)-(~e.sourceIndex||Ze);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Rt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function At(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Dt(e){return dt((function(t){return t=+t,dt((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function Pt(e){return e&&o(e.getElementsByTagName)!==Ke&&e}for(ue in de=Et.support={},me=Et.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},we=Et.setDocument=function(e){var t,n=e?e.ownerDocument||e:$e,r=n.defaultView;return n!==ke&&9===n.nodeType&&n.documentElement?(ke=n,Ce=n.documentElement,_e=!me(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){we()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){we()}))),de.attributes=!0,de.getElementsByTagName=!0,de.getElementsByClassName=yt.test(n.getElementsByClassName),de.getById=!0,fe.find.ID=function(e,t){if(o(t.getElementById)!==Ke&&_e){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},fe.filter.ID=function(e){var t=e.replace(_t,St);return function(e){return e.getAttribute("id")===t}},fe.find.TAG=de.getElementsByTagName?function(e,t){if(o(t.getElementsByTagName)!==Ke)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},fe.find.CLASS=de.getElementsByClassName&&function(e,t){if(_e)return t.getElementsByClassName(e)},Ee=[],Se=[],de.disconnectedMatch=!0,Se=Se.length&&new RegExp(Se.join("|")),Ee=Ee.length&&new RegExp(Ee.join("|")),t=yt.test(Ce.compareDocumentPosition),Te=t||yt.test(Ce.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Je=t?function(e,t){if(e===t)return ye=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!de.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===$e&&Te($e,e)?-1:t===n||t.ownerDocument===$e&&Te($e,t)?1:xe?at.call(xe,e)-at.call(xe,t):0:4&r?-1:1)}:function(e,t){if(e===t)return ye=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,s=[e],u=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:xe?at.call(xe,e)-at.call(xe,t):0;if(i===a)return Nt(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;s[o]===u[o];)o++;return o?Nt(s[o],u[o]):s[o]===$e?-1:u[o]===$e?1:0},n):ke},Et.matches=function(e,t){return Et(e,null,null,t)},Et.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ke&&we(e),t=t.replace(ht,"='$1']"),de.matchesSelector&&_e&&(!Ee||!Ee.test(t))&&(!Se||!Se.test(t)))try{var n=(void 0).call(e,t);if(n||de.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return Et(t,ke,null,[e]).length>0},Et.contains=function(e,t){return(e.ownerDocument||e)!==ke&&we(e),Te(e,t)},Et.attr=function(e,t){(e.ownerDocument||e)!==ke&&we(e);var n=fe.attrHandle[t.toLowerCase()],r=n&&Qe.call(fe.attrHandle,t.toLowerCase())?n(e,t,!_e):void 0;return void 0!==r?r:de.attributes||!_e?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Et.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Et.uniqueSort=function(e){var t,n=[],r=0,o=0;if(ye=!de.detectDuplicates,xe=!de.sortStable&&e.slice(0),e.sort(Je),ye){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return xe=null,e},pe=Et.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=pe(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=pe(t);return n},(fe=Et.selectors={cacheLength:50,createPseudo:dt,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,St),e[3]=(e[3]||e[4]||e[5]||"").replace(_t,St),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Et.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Et.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&gt.test(n)&&(t=he(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,St).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ge[e+" "];return t||(t=new RegExp("(^|"+st+")"+e+"("+st+"|$)"))&&Ge(e,(function(e){return t.test("string"==typeof e.className&&e.className||o(e.getAttribute)!==Ke&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=Et.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,m,p,g=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=s&&t.nodeName.toLowerCase(),x=!u&&!s;if(h){if(i){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?h.firstChild:h.lastChild],a&&x){for(m=(c=(l=h[We]||(h[We]={}))[e]||[])[0]===qe&&c[1],f=c[0]===qe&&c[2],d=m&&h.childNodes[m];d=++m&&d&&d[g]||(f=m=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){l[e]=[qe,m,f];break}}else if(x&&(c=(t[We]||(t[We]={}))[e])&&c[0]===qe)f=c[1];else for(;(d=++m&&d&&d[g]||(f=m=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(x&&((d[We]||(d[We]={}))[e]=[qe,f]),d!==t)););return(f-=o)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=fe.pseudos[e]||fe.setFilters[e.toLowerCase()]||Et.error("unsupported pseudo: "+e);return r[We]?r(t):r.length>1?(n=[e,e,"",t],fe.setFilters.hasOwnProperty(e.toLowerCase())?dt((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=at.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:dt((function(e){var t=[],n=[],r=ge(e.replace(ft,"$1"));return r[We]?dt((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}})),has:dt((function(e){return function(t){return Et(e,t).length>0}})),contains:dt((function(e){return e=e.replace(_t,St),function(t){return(t.textContent||t.innerText||pe(t)).indexOf(e)>-1}})),lang:dt((function(e){return bt.test(e||"")||Et.error("unsupported lang: "+e),e=e.replace(_t,St).toLowerCase(),function(t){var n;do{if(n=_e?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Ce},focus:function(e){return e===ke.activeElement&&(!ke.hasFocus||ke.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!fe.pseudos.empty(e)},header:function(e){return rt.test(e.nodeName)},input:function(e){return xt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Dt((function(){return[0]})),last:Dt((function(e,t){return[t-1]})),eq:Dt((function(e,t,n){return[n<0?n+t:n]})),even:Dt((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Dt((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Dt((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:Dt((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=fe.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})fe.pseudos[ue]=Rt(ue);for(ue in{submit:!0,reset:!0})fe.pseudos[ue]=At(ue);function Ot(){}function Mt(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Bt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=Ve++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,c=[qe,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(u=t[We]||(t[We]={}))[r])&&s[0]===qe&&s[1]===i)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function It(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function zt(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Lt(e,t,n,r,o,i){return r&&!r[We]&&(r=Lt(r)),o&&!o[We]&&(o=Lt(o,i)),dt((function(i,a,s,u){var c,l,d,f=[],m=[],p=a.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)Et(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),h=!e||!i&&t?g:zt(g,f,e,s,u),v=n?o||(i?e:p||r)?[]:a:h;if(n&&n(h,v,s,u),r)for(c=zt(v,m),r(c,[],s,u),l=c.length;l--;)(d=c[l])&&(v[m[l]]=!(h[m[l]]=d));if(i){if(o||e){if(o){for(c=[],l=v.length;l--;)(d=v[l])&&c.push(h[l]=d);o(null,v=[],c,u)}for(l=v.length;l--;)(d=v[l])&&(c=o?at.call(i,d):f[l])>-1&&(i[c]=!(a[c]=d))}}else v=zt(v===a?v.splice(p,v.length):v),o?o(null,a,v,u):ot.apply(a,v)}))}function Ht(e){for(var t,n,r,o=e.length,i=fe.relative[e[0].type],a=i||fe.relative[" "],s=i?1:0,u=Bt((function(e){return e===t}),a,!0),c=Bt((function(e){return at.call(t,e)>-1}),a,!0),l=[function(e,n,r){return!i&&(r||n!==ve)||((t=n).nodeType?u(e,n,r):c(e,n,r))}];s<o;s++)if(n=fe.relative[e[s].type])l=[Bt(It(l),n)];else{if((n=fe.filter[e[s].type].apply(null,e[s].matches))[We]){for(r=++s;r<o&&!fe.relative[e[r].type];r++);return Lt(s>1&&It(l),s>1&&Mt(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ft,"$1"),n,s<r&&Ht(e.slice(s,r)),r<o&&Ht(e=e.slice(r)),r<o&&Mt(e))}l.push(n)}return It(l)}Ot.prototype=fe.filters=fe.pseudos,fe.setFilters=new Ot,he=Et.tokenize=function(e,t){var n,r,o,i,a,s,u,c=Ye[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=fe.preFilter;a;){for(i in n&&!(r=pt.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=mt.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ft," ")}),a=a.slice(n.length)),fe.filter)!(r=vt[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Et.error(e):Ye(e,s).slice(0)},ge=Et.compile=function(e,t){var n,r,o,i,a,s,u=[],c=[],l=Xe[e+" "];if(!l){for(t||(t=he(e)),n=t.length;n--;)(l=Ht(t[n]))[We]?u.push(l):c.push(l);(l=Xe(e,(r=c,i=(o=u).length>0,a=r.length>0,s=function(e,t,n,c,u){var l,d,f,m=0,h="0",p=e&&[],g=[],v=ve,x=e||a&&fe.find.TAG("*",u),y=qe+=null==v?1:Math.random()||.1,b=x.length;for(u&&(ve=t!==ke&&t);h!==b&&null!=(l=x[h]);h++){if(a&&l){for(d=0;f=r[d++];)if(f(l,t,n)){c.push(l);break}u&&(qe=y)}i&&((l=!f&&l)&&m--,e&&p.push(l))}if(m+=h,i&&h!==m){for(d=0;f=o[d++];)f(p,g,t,n);if(e){if(m>0)for(;h--;)p[h]||g[h]||(g[h]=tt.call(c));g=zt(g)}ot.apply(c,g),u&&!e&&g.length>0&&m+o.length>1&&Et.uniqueSort(c)}return u&&(qe=y,ve=v),p},i?dt(s):s))).selector=e}return l},be=Et.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,l=!r&&he(e=c.selector||e);if(n=n||[],1===l.length){if((i=l[0]=l[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&de.getById&&9===t.nodeType&&_e&&fe.relative[i[1].type]){if(!(t=(fe.find.ID(a.matches[0].replace(_t,St),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=vt.needsContext.test(e)?0:i.length;o--&&(a=i[o],!fe.relative[s=a.type]);)if((u=fe.find[s])&&(r=u(a.matches[0].replace(_t,St),kt.test(i[0].type)&&Pt(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Mt(i)))return ot.apply(n,r),n;break}}return(c||ge(e,l))(r,t,!_e,n,kt.test(e)&&Pt(t.parentNode)||t),n},de.sortStable=We.split("").sort(Je).join("")===We,de.detectDuplicates=!!ye,we(),de.sortDetached=!0;var Ft=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},jt=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},Ut=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Wt={isArray:Ft,toArray:function(e){var t,n,r=e;if(!Ft(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:jt,map:function(e,t){var n=[];return jt(e,(function(r,o){n.push(t(r,o,e))})),n},filter:function(e,t){var n=[];return jt(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},findIndex:Ut,find:function(e,t,n){var r=Ut(e,t,n);return-1!==r?e[r]:void 0},last:function(e){return e[e.length-1]}},$t=/^\s*|\s*$/g,qt=function(e){return null==e?"":(""+e).replace($t,"")},Vt=function(e,t){return t?!("array"!==t||!Wt.isArray(e))||o(e)===t:void 0!==e},Gt={trim:qt,isArray:Wt.isArray,is:Vt,toArray:Wt.toArray,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:Wt.each,map:Wt.map,grep:Wt.filter,inArray:Wt.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s,u=arguments;for(n=1,r=u.length;n<r;n++)for(o in t=u[n])t.hasOwnProperty(o)&&void 0!==(s=t[o])&&(e[o]=s);return e},create:function(e,t,n){var r,o,i,a,s,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=u.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},c=1),o[i]=t[i],u.extend(o[i].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=o[i],o[i]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},o[i].prototype[i]=o[i],u.each(r,(function(e,t){o[i].prototype[t]=r[t]})),u.each(t,(function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)}))),u.each(t.static,(function(e,t){o[i][t]=e}))}},walk:function e(t,n,r,o){o=o||this,t&&(r&&(t=t[r]),Wt.each(t,(function(t,c){if(!1===n.call(o,t,c,r))return!1;e(t,n,r,o)})))},createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Vt(e,"array")?e:Wt.map(e.split(t||","),qt)},_addCacheSuffix:function(e){var t=Ne.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Yt=document,Xt=Array.prototype.push,Jt=Array.prototype.slice,Kt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Zt=Ue.Event,Qt=Gt.makeMap("children,contents,next,prev"),en=function(e){return void 0!==e},tn=function(e){return"string"==typeof e},nn=function(e,t){var n,r,o;for(o=(t=t||Yt).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},rn=function e(t,n,r,o){var c;if(tn(n))n=nn(n,vn(t[0]));else if(n.length&&!n.nodeType){if(n=pn.makeArray(n),o)for(c=n.length-1;c>=0;c--)e(t,n[c],r,o);else for(c=0;c<n.length;c++)e(t,n[c],r,o);return t}if(n.nodeType)for(c=t.length;c--;)r.call(t[c],n);return t},on=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},an=function(e,t,n){var r,o;return t=pn(t)[0],e.each((function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)})),e},sn=Gt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),cn=Gt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ln={for:"htmlFor",class:"className",readonly:"readOnly"},un={float:"cssFloat"},dn={},fn={},pn=function e(t,n){return new e.fn.init(t,n)},mn=/^\s*|\s*$/g,hn=function(e){return null==e?"":(""+e).replace(mn,"")},gn=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},bn=function(e,t){var n=[];return gn(e,(function(e,r){t(r,e)&&n.push(r)})),n},vn=function(e){return e?9===e.nodeType?e:e.ownerDocument:Yt};pn.fn=pn.prototype={constructor:pn,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return pn(e).attr(t);o.context=t=document}if(tn(e)){if(o.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Kt.exec(e)))return pn(t).find(e);if(n[1])for(r=nn(e,vn(t)).firstChild;r;)Xt.call(o,r),r=r.nextSibling;else{if(!(r=vn(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Gt.toArray(this)},add:function(e,t){var n,r,o=this;if(tn(e))return o.add(pn(e));if(!1!==t)for(n=pn.unique(o.toArray().concat(pn.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Xt.apply(o,pn.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==o(e))gn(e,(function(e,t){r.attr(e,t)}));else{if(!en(t)){if(r[0]&&1===r[0].nodeType){if((n=dn[e])&&n.get)return n.get(r[0],e);if(cn[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=dn[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==o(e=ln[e]||e))gn(e,(function(e,t){n.prop(e,t)}));else{if(!en(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,c=this,i=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"==o(e))gn(e,(function(e,t){c.css(e,t)}));else if(en(t))e=i(e),"number"!=typeof t||sn[e]||(t=t.toString()+"px"),c.each((function(){var n=this.style;if((r=fn[e])&&r.set)r.set(this,t);else{try{this.style[un[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=c[0],(r=fn[e])&&r.get)return r.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}else if(n.currentStyle)return n.currentStyle[i(e)]}return c},remove:function(){for(var e,t=this.length;t--;)e=this[t],Zt.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(en(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){pn(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(en(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return rn(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return rn(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){return this[0]&&this[0].parentNode?rn(this,arguments,(function(e){this.parentNode.insertBefore(e,this)})):this},after:function(){return this[0]&&this[0].parentNode?rn(this,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):this},appendTo:function(e){return pn(e).append(this),this},prependTo:function(e){return pn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return an(this,e)},wrapAll:function(e){return an(this,e,!0)},wrapInner:function(e){return this.each((function(){pn(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){pn(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),pn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?gn(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o,i;(i=on(r,e))!==t&&(o=r.className,i?r.className=hn((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}))),n},hasClass:function(e){return on(this[0],e)},each:function(e){return gn(this,e)},on:function(e,t){return this.each((function(){Zt.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Zt.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==o(e)?Zt.fire(this,e.type,e):Zt.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new pn(Jt.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)pn.find(e,this[t],r);return pn(r)},filter:function(e){return pn("function"==typeof e?bn(this.toArray(),(function(t,n){return e(n,t)})):pn.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof pn&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&pn(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),pn(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Xt,sort:[].sort,splice:[].splice},Gt.extend(pn,{extend:Gt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Gt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Gt.isArray,each:gn,trim:hn,grep:bn,find:Et,expr:Et.selectors,unique:Et.uniqueSort,text:Et.getText,contains:Et.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?pn.find.matchesSelector(t[0],e)?[t[0]]:[]:pn.find.matches(e,t)}});var xn=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof pn&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&pn(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},yn=function(e,t,n,r){var o=[];for(r instanceof pn&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&pn(e).is(r))break}o.push(e)}return o},wn=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};gn({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xn(e,"parentNode")},next:function(e){return wn(e,"nextSibling",1)},prev:function(e){return wn(e,"previousSibling",1)},children:function(e){return yn(e.firstChild,"nextSibling",1)},contents:function(e){return Gt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){pn.fn[e]=function(n){var r=[];return this.each((function(){var e=t.call(r,this,n,r);e&&(pn.isArray(e)?r.push.apply(r,e):r.push(e))})),this.length>1&&(Qt[e]||(r=pn.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=pn(r),n?r.filter(n):r}})),gn({parentsUntil:function(e,t){return xn(e,"parentNode",t)},nextUntil:function(e,t){return yn(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return yn(e,"previousSibling",1,t).slice(1)}},(function(e,t){pn.fn[e]=function(n,r){var o=[];return this.each((function(){var e=t.call(o,this,n,o);e&&(pn.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=pn.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=pn(o),r?o.filter(r):o}})),pn.fn.is=function(e){return!!e&&this.filter(e).length>0},pn.fn.init.prototype=pn.fn,pn.overrideDefaults=function(e){var t,n=function n(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return pn.extend(n,this),n};var kn=function(e,t,n){gn(n,(function(n,r){e[n]=e[n]||{},e[n][t]=r}))};Ne.ie&&Ne.ie<8&&(kn(dn,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?void 0:t},size:function(e){var t=e.size;return 20===t?void 0:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?void 0:t}}),kn(dn,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),Ne.ie&&Ne.ie<9&&(un.float="styleFloat",kn(fn,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),pn.attrHooks=dn,pn.cssHooks=fn;var Cn,_n,Sn,En,Tn=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},Nn=function(){return Rn(0,0)},Rn=function(e,t){return{major:e,minor:t}},An=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Nn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Rn(r(1),r(2))}(e,n)},Dn=Nn,Pn="Firefox",On=function(e,t){return function(){return t===e}},Mn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:On("Edge",t),isChrome:On("Chrome",t),isIE:On("IE",t),isOpera:On("Opera",t),isFirefox:On(Pn,t),isSafari:On("Safari",t)}},Bn=function(){return Mn({current:void 0,version:Dn()})},In=Mn,zn=(w.constant("Edge"),w.constant("Chrome"),w.constant("IE"),w.constant("Opera"),w.constant(Pn),w.constant("Safari"),"Windows"),Ln="Android",Hn="Solaris",Fn="FreeBSD",jn=function(e,t){return function(){return t===e}},Un=function(e){var t=e.current;return{current:t,version:e.version,isWindows:jn(zn,t),isiOS:jn("iOS",t),isAndroid:jn(Ln,t),isOSX:jn("OSX",t),isLinux:jn("Linux",t),isSolaris:jn(Hn,t),isFreeBSD:jn(Fn,t)}},Wn=function(){return Un({current:void 0,version:Dn()})},$n=Un,qn=(w.constant(zn),w.constant("iOS"),w.constant(Ln),w.constant("Linux"),w.constant("OSX"),w.constant(Hn),w.constant(Fn),function(e,t){var n=String(t).toLowerCase();return V(e,(function(e){return e.search(n)}))}),Vn=function(e,t){return-1!==e.indexOf(t)},Gn=function(e){return e.replace(/^\s+|\s+$/g,"")},Yn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Xn=function(e){return function(t){return Vn(t,e)}},Jn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Vn(e,"edge/")&&Vn(e,"chrome")&&Vn(e,"safari")&&Vn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Yn],search:function(e){return Vn(e,"chrome")&&!Vn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Vn(e,"msie")||Vn(e,"trident")}},{name:"Opera",versionRegexes:[Yn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Xn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Xn("firefox")},{name:"Safari",versionRegexes:[Yn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Vn(e,"safari")||Vn(e,"mobile/"))&&Vn(e,"applewebkit")}}],Kn=[{name:"Windows",search:Xn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Vn(e,"iphone")||Vn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Xn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Xn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Xn("linux"),versionRegexes:[]},{name:"Solaris",search:Xn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Xn("freebsd"),versionRegexes:[]}],Zn={browsers:w.constant(Jn),oses:w.constant(Kn)},Qn=function(e){var t,n,r,o,i,a,s,u,c,l,d,f=Zn.browsers(),m=Zn.oses(),p=function(e,t){return qn(e,t).map((function(e){var n=An(e.versionRegexes,t);return{current:e.name,version:n}}))}(f,e).fold(Bn,In),g=function(e,t){return qn(e,t).map((function(e){var n=An(e.versionRegexes,t);return{current:e.name,version:n}}))}(m,e).fold(Wn,$n);return{browser:p,os:g,deviceType:(n=p,r=e,o=(t=g).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,u=o||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),l=c&&!u,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:w.constant(o),isiPhone:w.constant(i),isTablet:w.constant(u),isPhone:w.constant(l),isTouch:w.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:w.constant(d)})}},er={detect:Tn((function(){var e=navigator.userAgent;return Qn(e)}))},nr=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:w.constant(e)}},rr={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return nr(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return nr(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return nr(n)},fromDom:nr,fromPoint:function(e,t,n){return E.from(e.dom().elementFromPoint(t,n)).map(nr)}},or=function(e){return e.dom().nodeName.toLowerCase()},ir=function(e){return e.dom().nodeType},ar=function(e){return function(t){return ir(t)===e}},sr=ar(1),cr=ar(3),lr=ar(9),ur={name:or,type:ir,value:function(e){return e.dom().nodeValue},isElement:sr,isText:cr,isDocument:lr,isComment:function(e){return 8===ir(e)||"#comment"===or(e)}},dr=function(e){return function(t){return function(e){if(null===e)return"null";var t=o(e);return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(t)===e}},tr={isString:dr("string"),isObject:dr("object"),isArray:dr("array"),isNull:dr("null"),isBoolean:dr("boolean"),isUndefined:dr("undefined"),isFunction:dr("function"),isNumber:dr("number")},fr=void 0===(Cn=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:Cn,pr=function(e,t){for(var n=fr(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},mr=function(e,t){var n={};return pr(e,(function(r,o){var i=t(r,o,e);n[i.k]=i.v})),n},gr=function(e,t){var n=[];return pr(e,(function(e,r){n.push(t(e,r))})),n},vr=function(e){return gr(e,(function(e){return e}))},xr={bifilter:function(e,t){var n={},r={};return pr(e,(function(e,o){(t(e,o)?n:r)[o]=e})),{t:n,f:r}},each:pr,map:function(e,t){return mr(e,(function(e,n,r){return{k:n,v:t(e,n,r)}}))},mapToArray:gr,tupleMap:mr,find:function(e,t){for(var n=fr(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return E.some(a)}return E.none()},keys:fr,values:vr,size:function(e){return vr(e).length}},yr=function(e,t,n){if(!(tr.isString(n)||tr.isBoolean(n)||tr.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},wr=function(e,t,n){yr(e.dom(),t,n)},kr=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Cr=wr,_r=function(e,t){var n=e.dom();xr.each(t,(function(e,t){yr(n,t,e)}))},Sr=kr,Er=function(e,t){e.dom().removeAttribute(t)},Tr=Tn((function(){return Nr(rr.fromDom(document))})),Nr=function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return rr.fromDom(t)},Rr={body:Tr,getBody:Nr,inBody:function(e){var t=ur.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}},hr=function(e){return void 0!==e.style},br=function(e,t){var n=e.dom();xr.each(t,(function(e,t){!function(e,t,n){if(!tr.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);hr(e)&&e.style.setProperty(t,n)}(n,t,e)}))},Ar=function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||Rr.inBody(e)?r:function(e,t){return hr(e)?e.style.getPropertyValue(t):""}(n,t);return null===o?void 0:o},Dr=function(){var e=arguments;return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return H(e,(function(e,n){r[e]=w.constant(t[n])})),r}},Pr=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Or=function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,re("Node").DOCUMENT_POSITION_CONTAINED_BY)},Mr=function(e){return 1!==e.nodeType&&9!==e.nodeType||0===e.childElementCount},Br={all:function(e,t){var n=void 0===t?document:t.dom();return Mr(n)?[]:L(n.querySelectorAll(e),rr.fromDom)},is:function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return Mr(n)?E.none():E.from(n.querySelector(e)).map(rr.fromDom)}},Ir=function(e,t){return e.dom()===t.dom()},zr=er.detect().browser.isIE()?function(e,t){return Or(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Lr={eq:Ir,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return J(t,w.curry(Ir,e))},contains:zr,is:Br.is},Hr=function(e){return rr.fromDom(e.dom().ownerDocument)},Fr=function(e){var t=e.dom();return E.from(t.parentNode).map(rr.fromDom)},jr=function(e){var t=e.dom();return E.from(t.previousSibling).map(rr.fromDom)},Ur=function(e){var t=e.dom();return E.from(t.nextSibling).map(rr.fromDom)},Wr=function(e){var t=e.dom();return L(t.childNodes,rr.fromDom)},$r=function(e,t){var n=e.dom().childNodes;return E.from(n[t]).map(rr.fromDom)},qr=(Dr("element","offset"),Hr),Vr=function(e){var t=e.dom().ownerDocument.defaultView;return rr.fromDom(t)},Gr=function(e){var t=Hr(e);return rr.fromDom(t.dom().documentElement)},Yr=Fr,Xr=function(e,t){for(var n=tr.isFunction(t)?t:w.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=rr.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Jr=jr,Kr=Ur,Zr=function(e){return Pr(e,Ur)},Qr=Wr,eo=$r,to=function(e){return $r(e,0)},no=function(e){return $r(e,e.dom().childNodes.length-1)},ro=function(e){return e.dom().childNodes.length},oo=er.detect().browser,io=function(e){return V(e,ur.isElement)},ao=function e(t){var n=E.none(),r=[],o=function(e){c()?a(e):r.push(e)},c=function(){return n.isSome()},a=function(e){n.each((function(t){setTimeout((function(){e(t)}),0)}))};return t((function(e){n=E.some(e),function(e){H(e,a)}(r),r=[]})),{get:o,map:function(t){return e((function(e){o((function(n){e(t(n))}))}))},isReady:c}},so=ao,co=function e(t){var n=function(e){t(function(e){return function(){var t=Array.prototype.slice.call(arguments),n=this;setTimeout((function(){e.apply(n,t)}),0)}}(e))};return{map:function(t){return e((function(e){n((function(n){var r=t(n);e(r)}))}))},bind:function(t){return e((function(e){n((function(n){t(n).get(e)}))}))},anonBind:function(t){return e((function(e){n((function(n){t.get(e)}))}))},toLazy:function(){return so(n)},get:n}},lo=co,uo=function(e){return function(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):H(e,(function(o,i){var a;o.get((a=i,function(o){n[a]=o,++r>=e.length&&t(n)}))}))}))}(e,lo)},fo=function e(t){return{is:function(e){return t===e},isValue:w.constant(!0),isError:w.constant(!1),getOr:w.constant(t),getOrThunk:w.constant(t),getOrDie:w.constant(t),or:function(n){return e(t)},orThunk:function(n){return e(t)},fold:function(e,n){return n(t)},map:function(n){return e(n(t))},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return E.some(t)}}},po=function e(t){return{is:w.constant(!1),isValue:w.constant(!1),isError:w.constant(!0),getOr:w.identity,getOrThunk:function(e){return e()},getOrDie:function(){return w.die(t)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,n){return e(t)},map:function(n){return e(t)},each:w.noop,bind:function(n){return e(t)},exists:w.constant(!1),forall:w.constant(!0),toOption:E.none}},mo=function(e,t){var n=e,r=function(e,n,r,o){var i,a;if(e){if(!o&&e[n])return e[n];if(e!==t){if(i=e[r])return i;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(i=a[r])return i}}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,r,o){var i,a,s;if(e){if(i=e.previousSibling,t&&i===t)return;if(i){if(!o)for(s=i[n];s;s=s[n])if(!s[n])return s;return i}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild",0,e)}},ho=function(e){var t;return function(n){return(t=t||Q(e,w.constant(!0))).hasOwnProperty(ur.name(n))}},go=ho(["h1","h2","h3","h4","h5","h6"]),bo=ho(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),vo={isBlock:bo,isInline:function(e){return ur.isElement(e)&&!bo(e)},isHeading:go,isTextBlock:ho(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isList:ho(["ul","ol","dl"]),isListItem:ho(["li","dd","dt"]),isVoid:ho(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableSection:ho(["thead","tbody","tfoot"]),isTableCell:ho(["td","th"]),isBr:function(e){return ur.isElement(e)&&"br"===ur.name(e)}},xo=function(e){return function(t){return!!t&&t.nodeType===e}},yo=xo(1),wo=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},ko=function(e){return function(t){if(yo(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Co=xo(3),_o=xo(8),So=xo(9),Eo=wo("br"),To=ko("true"),No=ko("false"),Ro={isText:Co,isElement:yo,isComment:_o,isDocument:So,isBr:Eo,isContentEditableTrue:To,isContentEditableFalse:No,matchNodeNames:wo,hasPropValue:function(e,t){return function(n){return yo(n)&&n[e]===t}},hasAttribute:function(e,t){return function(t){return yo(t)&&t.hasAttribute(e)}},hasAttributeValue:function(e,t){return function(n){return yo(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(yo(t))for(r=0;r<n.length;r++)if(t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(e)===n[r])return!0;return!1}},isBogus:function(e){return yo(e)&&e.hasAttribute("data-mce-bogus")}},Ao=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Do=function e(t,n){var r,o=n.childNodes;if(!Ro.isElement(n)||!Ao(n)){for(r=o.length-1;r>=0;r--)e(t,o[r]);if(!1===Ro.isDocument(n)){if(Ro.isText(n)&&n.nodeValue.length>0){var c=Gt.trim(n.nodeValue).length;if(t.isBlock(n.parentNode)||c>0)return;if(0===c&&(a=(i=n).previousSibling&&"SPAN"===i.previousSibling.nodeName,s=i.nextSibling&&"SPAN"===i.nextSibling.nodeName,a&&s))return}else if(Ro.isElement(n)&&(1===(o=n.childNodes).length&&Ao(o[0])&&n.parentNode.insertBefore(o[0],n),o.length||vo.isVoid(rr.fromDom(n))))return;t.remove(n)}var i,a,s;return n}},Po=Gt.makeMap,Oo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bo=/[<>&\"\']/g,Io=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,zo={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};Sn={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},En={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Lo=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Sn[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};_n=Lo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Ho={encodeRaw:function(e,t){return e.replace(t?Oo:Mo,(function(e){return Sn[e]||e}))},encodeAllRaw:function(e){return(""+e).replace(Bo,(function(e){return Sn[e]||e}))},encodeNumeric:function(e,t){return e.replace(t?Oo:Mo,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Sn[e]||"&#"+e.charCodeAt(0)+";"}))},encodeNamed:function(e,t,n){return n=n||_n,e.replace(t?Oo:Mo,(function(e){return Sn[e]||n[e]||e}))},getEncodeFunc:function(e,t){return t=Lo(t)||_n,(e=Po(e.replace(/\+/g,","))).named&&e.numeric?function(e,n){return e.replace(n?Oo:Mo,(function(e){return void 0!==Sn[e]?Sn[e]:void 0!==t[e]?t[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:e.named?t?function(e,n){return Ho.encodeNamed(e,n,t)}:Ho.encodeNamed:e.numeric?Ho.encodeNumeric:Ho.encodeRaw},decode:function(e){return e.replace(Io,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):zo[t]||String.fromCharCode(t):En[e]||_n[e]||(n=e,(r=rr.fromTag("div").dom()).innerHTML=n,r.textContent||r.innerText||n);var n,r}))}},Fo={},jo={},Uo=Gt.makeMap,Wo=Gt.each,$o=Gt.extend,qo=Gt.explode,Vo=Gt.inArray,Go=function(e,t){return(e=Gt.trim(e))?e.split(t||" "):[]},Yo=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Wo(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Uo(e,/[, ]/):qo(e,/[, ]/)}))),n},Xo=function(e){var t,n,r,o,i,a,s,u,c,l,d,f,m,p,g,h,v,x,b,y,w,k,C,_={},S={},E={},T=[],N={},R={},A=function(t,n,r){var o=e[t];return o?o=Uo(o,/[, ]/,Uo(o.toUpperCase(),/[, ]/)):(o=Fo[t])||(o=Uo(n," ",Uo(n.toUpperCase()," ")),o=$o(o,r),Fo[t]=o),o};p=(e=e||{}).schema,w={},k=function(e,t,n){var r,o,i,a=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(t=t||"","string"==typeof(n=n||[])&&(n=Go(n)),r=(e=Go(e)).length;r--;)i={attributes:a(o=Go([g,t].join(" "))),attributesOrder:o,children:a(n,jo)},w[e[r]]=i},C=function(e,t){var n,r,o,i;for(n=(e=Go(e)).length,t=Go(t);n--;)for(r=w[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])},r=Fo[p]?Fo[p]:(g="id accesskey class dir lang style tabindex title role",h="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",v="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==p&&(g+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",h+=" article aside details dialog figure header footer hgroup section nav",v+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==p&&(g+=" xml:lang",v=[v,y="acronym applet basefont big font strike tt"].join(" "),Wo(Go(y),(function(e){k(e,"",v)})),h=[h,b="center dir isindex noframes"].join(" "),x=[h,v].join(" "),Wo(Go(b),(function(e){k(e,"",x)}))),x=x||[h,v].join(" "),k("html","manifest","head body"),k("head","","base command link meta noscript script style title"),k("title hr noscript br"),k("base","href target"),k("link","href rel media hreflang type sizes hreflang"),k("meta","name http-equiv content charset"),k("style","media type scoped"),k("script","src async defer type charset"),k("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",x),k("address dt dd div caption","",x),k("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",v),k("blockquote","cite",x),k("ol","reversed start type","li"),k("ul","","li"),k("li","value",x),k("dl","","dt dd"),k("a","href target rel media hreflang type",v),k("q","cite",v),k("ins del","cite datetime",x),k("img","src sizes srcset alt usemap ismap width height"),k("iframe","src name width height",x),k("embed","src type width height"),k("object","data type typemustmatch name usemap form width height",[x,"param"].join(" ")),k("param","name value"),k("map","name",[x,"area"].join(" ")),k("area","alt coords shape href target rel media hreflang type"),k("table","border","caption colgroup thead tfoot tbody tr"+("html4"===p?" col":"")),k("colgroup","span","col"),k("col","span"),k("tbody thead tfoot","","tr"),k("tr","","td th"),k("td","colspan rowspan headers",x),k("th","colspan rowspan headers scope abbr",x),k("form","accept-charset action autocomplete enctype method name novalidate target",x),k("fieldset","disabled form name",[x,"legend"].join(" ")),k("label","form for",v),k("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),k("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===p?x:v),k("select","disabled form multiple name required size","option optgroup"),k("optgroup","disabled label","option"),k("option","disabled label selected value"),k("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),k("menu","type label",[x,"li"].join(" ")),k("noscript","",x),"html4"!==p&&(k("wbr"),k("ruby","",[v,"rt rp"].join(" ")),k("figcaption","",x),k("mark rt rp summary bdi","",v),k("canvas","width height",x),k("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[x,"track source"].join(" ")),k("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[x,"track source"].join(" ")),k("picture","","img source"),k("source","src srcset type media sizes"),k("track","kind src srclang label default"),k("datalist","",[v,"option"].join(" ")),k("article section nav aside header footer","",x),k("hgroup","","h1 h2 h3 h4 h5 h6"),k("figure","",[x,"figcaption"].join(" ")),k("time","datetime",v),k("dialog","open",x),k("command","type label icon disabled checked radiogroup command"),k("output","for form name",v),k("progress","value max",v),k("meter","value min max low high optimum",v),k("details","open",[x,"summary"].join(" ")),k("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==p&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select","onchange"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),"html4"!==p&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("iframe","sandbox seamless allowfullscreen")),Wo(Go("a form meter progress dfn"),(function(e){w[e]&&delete w[e].children[e]})),delete w.caption.children.table,delete w.script,Fo[p]=w,w),!1===e.verify_html&&(e.valid_elements="*[*]"),t=Yo(e.valid_styles),n=Yo(e.invalid_styles,"map"),u=Yo(e.valid_classes,"map"),o=A("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=A("non_empty_elements","td th iframe video audio object script pre code",a),d=A("move_caret_before_on_enter_elements","table",l),f=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),c=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",f),m=A("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Wo((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(e){R[e]=new RegExp("</"+e+"[^>]*>","gi")}));var D=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},P=function(e){var t,n,r,o,i,a,s,u,c,l,d,f,m,p,g,h,v,x,b,y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,w=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=Go(e,","),S["@"]&&(h=S["@"].attributes,v=S["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=y.exec(e[t])){if(p=i[1],c=i[2],g=i[3],u=i[5],a={attributes:f={},attributesOrder:m=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),h){for(x in h)f[x]=h[x];m.push.apply(m,v)}if(u)for(r=0,o=(u=Go(u,"|")).length;r<o;r++)if(i=w.exec(u[r])){if(s={},d=i[1],l=i[2].replace(/[\\:]:/g,":"),p=i[3],b=i[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),s.required=!0),"-"===d){delete f[l],m.splice(Vo(m,l),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=Uo(b,"?"))),k.test(l)?(a.attributePatterns=a.attributePatterns||[],s.pattern=D(l),a.attributePatterns.push(s)):(f[l]||m.push(l),f[l]=s)}h||"@"!==c||(h=f,v=m),g&&(a.outputName=c,S[g]=a),k.test(c)?(a.pattern=D(c),T.push(a)):S[c]=a}},O=function(e){S={},T=[],P(e),Wo(r,(function(e,t){E[t]=e.children}))},M=function(e){var t=/^(~)?(.+)$/;e&&(Fo.text_block_elements=Fo.block_elements=null,Wo(Go(e,","),(function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(E[i]=E[o],N[i]=o,r||(c[i.toUpperCase()]={},c[i]={}),!S[i]){var a=S[o];delete(a=$o({},a)).removeEmptyAttrs,delete a.removeEmpty,S[i]=a}Wo(E,(function(e,t){e[o]&&(E[t]=e=$o({},E[t]),e[i]=e[o])}))})))},B=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Fo[e.schema]=null,t&&Wo(Go(t,","),(function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?E[o[2]]:E[o[2]]={"#comment":{}},t=E[o[2]],Wo(Go(o[3],"|"),(function(e){"-"===r?delete t[e]:t[e]={}})))}))},I=function(e){var t,n=S[e];if(n)return n;for(t=T.length;t--;)if((n=T[t]).pattern.test(e))return n};return e.valid_elements?O(e.valid_elements):(Wo(r,(function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},E[t]=e.children})),"html5"!==e.schema&&Wo(Go("strong/b em/i"),(function(e){e=Go(e,"/"),S[e[1]].outputName=e[0]})),Wo(Go("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){S[e]&&(S[e].removeEmpty=!0)})),Wo(Go("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){S[e].paddEmpty=!0})),Wo(Go("span"),(function(e){S[e].removeEmptyAttrs=!0}))),M(e.custom_elements),B(e.valid_children),P(e.extended_valid_elements),B("+ol[ul|ol],+ul[ul|ol]"),Wo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){S[t]&&(S[t].parentsRequired=Go(e))})),e.invalid_elements&&Wo(qo(e.invalid_elements),(function(e){S[e]&&delete S[e]})),I("span")||P("span[!data-mce-type|*]"),_.children=E,_.getValidStyles=function(){return t},_.getInvalidStyles=function(){return n},_.getValidClasses=function(){return u},_.getBoolAttrs=function(){return s},_.getBlockElements=function(){return c},_.getTextBlockElements=function(){return f},_.getTextInlineElements=function(){return m},_.getShortEndedElements=function(){return a},_.getSelfClosingElements=function(){return i},_.getNonEmptyElements=function(){return l},_.getMoveCaretBeforeOnEnterElements=function(){return d},_.getWhiteSpaceElements=function(){return o},_.getSpecialElements=function(){return R},_.isValidChild=function(e,t){var n=E[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},_.isValid=function(e,t){var n,r,o=I(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},_.getElementRule=I,_.getCustomElements=function(){return N},_.addValidElements=P,_.setValidElements=O,_.addCustomElements=M,_.addValidChildren=B,_.elements=S,_},Jo=function(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},d="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)l[r[n]]=d+n,l[d+n]=r[n];var f=function(e,t,n,r){var o=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)};return{toHex:function(e){return e.replace(a,f)},parse:function(t){var r,o,i,m,g,h,v,x={},b=e.url_converter,y=e.url_converter_scope||this,w=function(e,t,r){var o,i,a,s;if((o=x[e+"-top"+t])&&(i=x[e+"-right"+t])&&(a=x[e+"-bottom"+t])&&(s=x[e+"-left"+t])){var u=[o,i,a,s];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(x[e+t]=-1===n?u[0]:u.join(" "),delete x[e+"-top"+t],delete x[e+"-right"+t],delete x[e+"-bottom"+t],delete x[e+"-left"+t])}},k=function(e){var t,n=x[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return x[e]=n[0],!0}},C=function(e){return m=!0,l[e]},_=function(e,t){return m&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return l[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},S=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},E=function(e){return e.replace(/\\[0-9a-f]+/gi,S)},T=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=_(i)).replace(/\'/g,"\\'")+"'";if(n=_(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return b&&(n=b.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,C)}));r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),i=r[2].replace(c,""),o&&i){if(o=E(o),i=E(i),-1!==o.indexOf(d)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=(i=i.replace(a,f)).replace(s,T),x[o]=m?_(i,!0):i}w("border","",!0),w("border","-width"),w("border","-color"),w("border","-style"),w("padding",""),w("margin",""),"border",h="border-style",v="border-color",k(g="border-width")&&k(h)&&k(v)&&(x.border=x[g]+" "+x[h]+" "+x[v],delete x[g],delete x[h],delete x[v]),"medium none"===x.border&&delete x.border,"none"===x["border-image"]&&delete x["border-image"]}return x},serialize:function(e,t){var n,r,a,s,u,c="",l=function(t){var n,r,i,a;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],(a=e[t])&&(c+=(c.length>0?" ":"")+t+": "+a+";")};if(t&&o)l("*"),l(t);else for(n in e)!(r=e[n])||i&&(a=n,s=t,u=void 0,(u=i["*"])&&u[a]||(u=i[s])&&u[a])||(c+=(c.length>0?" ":"")+n+": "+r+";");return c}}},Ko=Gt.each,Zo=Gt.is,Qo=Gt.grep,ei=Ne.ie,ti=/^([a-z0-9],?)+$/i,ni=/^[ \t\r\n]*$/,ri=function(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)},oi=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},ii=function(e,t){var n,r,c,i,a,s,u=this;u.doc=e,u.win=window,u.files={},u.counter=0,u.stdMode=!ei||e.documentMode>=8,u.boxModel=!ei||"CSS1Compat"===e.compatMode||u.stdMode,u.styleSheetLoader=function(e,t){var n,r=0,o={};n=(t=t||{}).maxLoadTime||5e3;var i=function(t){e.getElementsByTagName("head")[0].appendChild(t)},a=function(t,c,s){var u,l,d,f,m=function(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],f.failed=[]},h=function(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]},p=function(e,t){e()||((new Date).getTime()-d<n?Oe.setTimeout(t):h())},g=function g(){p((function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if((n=(t=r[o]).ownerNode?t.ownerNode:t.owningElement)&&n.id===u.id)return m(),!0}),g)};if(t=Gt._addCacheSuffix(t),o[t]?f=o[t]:(f={passed:[],failed:[]},o[t]=f),c&&f.passed.push(c),s&&f.failed.push(s),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(u=e.createElement("link")).rel="stylesheet",u.type="text/css",u.id="u"+r++,u.async=!1,u.defer=!1,d=(new Date).getTime(),!("onload"in u)||(v=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(v[1],10)<536){if(navigator.userAgent.indexOf("Firefox")>0)return(l=e.createElement("style")).textContent='@import "'+t+'"',function e(){p((function(){try{var e=l.sheet.cssRules;return m(),!!e}catch(e){}}),e)}(),void i(l);g()}else u.onload=g,u.onerror=h;var v;i(u),u.href=t}else h();else m()},s=function(e){return lo((function(t){a(e,w.compose(t,w.constant(fo(e))),w.compose(t,w.constant(po(e))))}))},u=function(e){return e.fold(w.identity,w.identity)};return{load:a,loadAll:function(e,t,n){uo(L(e,s)).get((function(e){var r=F(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(u)):t(r.pass.map(u))}))}}}(e),u.boundEvents=[],u.settings=t=t||{},u.schema=t.schema?t.schema:Xo({}),u.styles=Jo({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),u.fixDoc(e),u.events=t.ownEvents?new Ue(t.proxy):Ue.Event,u.attrHooks=(r=u,a={},i={set:function(e,t,n){c.url_converter&&(t=c.url_converter.call(c.url_converter_scope||r,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},a={style:{set:function(e,t){null===t||"object"!=o(t)?(s&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return r.serializeStyle(r.parseStyle(t),e[0].nodeName)}}},(s=(c=t).keep_values)&&(a.href=a.src=i),a),n=u.schema.getBlockElements(),u.$=pn.overrideDefaults((function(){return{context:e,element:u.getRoot()}})),u.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}};ii.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){},clone:function(e,t){var n,r,o=this;return!ei||1!==e.nodeType||t?e.cloneNode(t):(r=o.doc,t?n.firstChild:(n=r.createElement(e.nodeName),Ko(o.getAttribs(e),(function(t){o.setAttrib(n,t.nodeName,o.getAttrib(e,t.nodeName))})),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var o,i=this,a=[];for(e=i.get(e),r=void 0===r,n=n||("BODY"!==i.getRoot().nodeName?i.getRoot().parentNode:null),Zo(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return i.is(e,o)});e&&e!==n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return Et(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1===e.nodeType;if(ti.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}}if(e.nodeType&&1!==e.nodeType)return!1;var r=e.nodeType?[e]:e;return Et(t,r[0].ownerDocument||r[0],null,r).length>0},add:function(e,t,n,r,o){var i=this;return this.run(e,(function(e){var a;return a=Zo(t,"string")?i.doc.createElement(t):t,i.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):i.setHTML(a,r)),o?a:e.appendChild(a)}))},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n,r,o=this.doc;for(r=o.createElement("div"),t=o.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&ri(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=Ne.ie&&Ne.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&ri(this,e)},removeAllAttribs:function(e){return this.run(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:function(e,t,n){var r,o,i=this.settings;""===n&&(n=null),r=(e=this.$$(e)).attr(t),e.length&&((o=this.attrHooks[t])&&o.set?o.set(e,n,t):e.attr(t,n),r!==n&&i.onSetAttrib&&i.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each((function(e,r){Ko(t,(function(e,t){n.setAttrib(r,t,e)}))}))},getAttrib:function(e,t,n){var r,o;return(e=this.$$(e)).length&&(o=(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===o&&(o=n||""),o},getPos:function(e,t){return function(e,t,n){var r,o,i,a=0,s=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Ar(rr.fromDom(e),"position"))return{x:a=(o=t.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:s=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType;)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=(i=rr.fromDom(t),oo.isFirefox()&&"table"===ur.name(i)?io(Qr(i)).filter((function(e){return"caption"===ur.name(e)})).bind((function(e){return io(Zr(e)).map((function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0}))})).getOr(0):0)}return{x:a,y:s}}(this.doc.body,this.get(e),t)},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this.doc;if(this!==ii.DOM&&r===document){var o=ii.DOM.addedStyles;if((o=o||[])[e])return;o[e]=!0,ii.DOM.addedStyles=o}(n=r.getElementById("mceDefaultStyles"))||((n=r.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=r.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,r=n.doc;n===ii.DOM||r!==document?(e||(e=""),t=r.getElementsByTagName("head")[0],Ko(e.split(","),(function(e){var o;e=Gt._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,o=n.create("link",{rel:"stylesheet",href:e}),ei&&r.documentMode&&r.recalc&&(o.onload=function(){r.recalc&&r.recalc(),o.onload=null}),t.appendChild(o))}))):ii.DOM.loadCSS(e)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each((function(){""===this.className&&pn(this).attr("class",null)}))},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"===this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),ei?e.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){pn("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):e.html(t)},getOuterHTML:function(e){return 1===(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:pn("<div></div>").append(pn(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(pn(this).html(t),!0)}))},decode:Ho.decode,encode:Ho.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,(function(e){var n,r;return n=t.parentNode,(r=t.nextSibling)?n.insertBefore(e,r):n.appendChild(e),e}))},replace:function(e,t,n){return this.run(t,(function(t){return Zo(t,"array")&&(e=e.cloneNode(!0)),n&&Ko(Qo(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},rename:function(e,t){var n,r=this;return e.nodeName!==t.toUpperCase()&&(n=r.create(t),Ko(r.getAttribs(e),(function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))})),r.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(Gt.trim(e))},run:function(e,t,n){var r,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(r=[],Ko(e,(function(e,i){e&&("string"==typeof e&&(e=o.get(e)),r.push(t.call(n,e,i)))})),r))},getAttribs:function(e){var t;return(e=this.get(e))?ei?(t=[],"OBJECT"===e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,(function(e){t.push({specified:1,nodeName:e})})),t)):e.attributes:[]},isEmpty:function(e,t){var n,r,o,i,a,s,u=0;if(e=e.firstChild){a=new mo(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null),i=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(o=e.nodeType)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=a.next();continue}return!1}for(n=(r=this.getAttribs(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===o)return!1;if(3===o&&!ni.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&ni.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},createRng:function(){return this.doc.createRange()},nodeIndex:oi,split:function(e,t,n){var r,o,i,a=this.createRng();if(e&&t)return a.setStart(e.parentNode,this.nodeIndex(e)),a.setEnd(t.parentNode,this.nodeIndex(t)),r=a.extractContents(),(a=this.createRng()).setStart(t.parentNode,this.nodeIndex(t)+1),a.setEnd(e.parentNode,this.nodeIndex(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(Do(this,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Do(this,o),e),this.remove(e),n||t},bind:function(e,t,n,r){if(Gt.isArray(e)){for(var o=e.length;o--;)e[o]=this.bind(e[o],t,n,r);return e}return!this.settings.collect||e!==this.doc&&e!==this.win||this.boundEvents.push([e,t,n,r]),this.events.bind(e,t,n,r||this)},unbind:function(e,t,n){var r;if(Gt.isArray(e)){for(r=e.length;r--;)e[r]=this.unbind(e[r],t,n);return e}if(this.boundEvents&&(e===this.doc||e===this.win))for(r=this.boundEvents.length;r--;){var o=this.boundEvents[r];e!==o[0]||t&&t!==o[1]||n&&n!==o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1===e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){if(this.boundEvents){for(var e=this.boundEvents.length;e--;){var t=this.boundEvents[e];this.events.unbind(t[0],t[1],t[2])}this.boundEvents=null}Et.setDocument&&Et.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,o=t;if(e)for("string"==typeof o&&(o=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(o(e))return e;return null}},ii.DOM=new ii(document),ii.nodeIndex=oi;var ai=ii.DOM,si=Gt.each,ci=Gt.grep,ui=function(e){return"function"==typeof e},di=function(){var e={},t=[],n={},r=[],o=0;this.isDone=function(t){return 2===e[t]},this.markDone=function(t){e[t]=2},this.add=this.load=function(r,o,i,a){void 0===e[r]&&(t.push(r),e[r]=0),o&&(n[r]||(n[r]=[]),n[r].push({success:o,failure:a,scope:i||this}))},this.remove=function(t){delete e[t],delete n[t]},this.loadQueue=function(e,n,r){this.loadScripts(t,e,n,r)},this.loadScripts=function(t,i,a,s){var c,l=[],d=function(e,t){si(n[t],(function(t){ui(t[e])&&t[e].call(t.scope)})),n[t]=void 0};r.push({success:i,failure:s,scope:a||this}),(c=function(){var n=ci(t);if(t.length=0,si(n,(function(t){var n,r,i,a,s,f,m;2!==e[t]?3!==e[t]?1!==e[t]&&(e[t]=1,o++,n=t,r=function(){e[t]=2,o--,d("success",t),c()},i=function(){e[t]=3,o--,l.push(t),d("failure",t),c()},m=function(){f.remove(s),a&&(a.onreadystatechange=a.onload=a=null),r()},s=(f=ai).uniqueId(),(a=document.createElement("script")).id=s,a.type="text/javascript",a.src=Gt._addCacheSuffix(n),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&m()}:a.onload=m,a.onerror=function(){ui(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+n)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)):d("failure",t):d("success",t)})),!o){var i=r.slice(0);r.length=0,si(i,(function(e){0===l.length?ui(e.success)&&e.success.call(e.scope):ui(e.failure)&&e.failure.call(e.scope,l)}))}})()}};di.ScriptLoader=new di;var fi=Gt.each,pi=function(){this.items=[],this.urls={},this.lookup={},this._listeners=[]};pi.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=pi.language;if(n&&!1!==pi.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===t.indexOf(","+n+","))return;di.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){this.items.push(t),this.lookup[e]={instance:t,dependencies:n};var r=F(this._listeners,(function(t){return t.name===e}));return this._listeners=r.fail,fi(r.pass,(function(e){e.callback()})),t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==o(t)?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];fi(t,(function(e){di.ScriptLoader.add(n+"/"+e)}))},load:function(e,t,n,r,c){var i=this,a=t,s=function(){var o=i.dependencies(e);fi(o,(function(e){var n=i.createUrl(t,e);i.load(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(di))};i.urls[e]||("object"==o(t)&&(a=t.prefix+t.resource+t.suffix),0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=pi.baseURL+"/"+a),i.urls[e]=a.substring(0,a.lastIndexOf("/")),i.lookup[e]?s():di.ScriptLoader.add(a,s,r,c))},waitFor:function(e,t){this.lookup.hasOwnProperty(e)?t():this._listeners.push({name:e,callback:t})}},pi.PluginManager=new pi,pi.ThemeManager=new pi;var mi="\ufeff",hi=function(e){return e.replace(new RegExp("\ufeff","g"),"")},gi=Ro.isElement,bi=Ro.isText,vi=function(e){return bi(e)&&(e=e.parentNode),gi(e)&&e.hasAttribute("data-mce-caret")},xi=function(e){return bi(e)&&function(e){return"\ufeff"===e}(e.data)},li=function(e){return vi(e)||xi(e)},yi=function(e){return bi(e)&&e.data[0]===mi},wi=function(e){return bi(e)&&e.data[e.data.length-1]===mi},ki=li,Ci=vi,_i=xi,Si=function(e){return e&&e.hasAttribute("data-mce-caret")?(n=(t=e.getElementsByTagName("br"))[t.length-1],Ro.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Ei=function(e,t){var n,r,o;if(r=e.ownerDocument.createTextNode(mi),o=e.parentNode,t){if(n=e.previousSibling,bi(n)){if(li(n))return n;if(wi(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,bi(n)){if(li(n))return n;if(yi(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r},Ti=function(e){return e&&Ro.isText(e.container())&&e.container().data.charAt(e.offset())===mi},Ni=function(e){return e&&Ro.isText(e.container())&&e.container().data.charAt(e.offset()-1)===mi},Ri=function(e,t,n){var r,o,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((i=document.createElement("br")).setAttribute("data-mce-bogus","1"),i)),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r},Ai=function(e){return e.firstChild!==e.lastChild||!Ro.isBr(e.firstChild)},Di=yi,Pi=wi,Oi=Ro.isContentEditableTrue,Mi=Ro.isContentEditableFalse,Bi=Ro.isBr,Ii=Ro.isText,zi=Ro.matchNodeNames("script style textarea"),Li=Ro.matchNodeNames("img input textarea hr iframe video audio object"),Hi=Ro.matchNodeNames("table"),Fi=ki,ji=function(e){return!Fi(e)&&(Ii(e)?!zi(e.parentNode):Li(e)||Bi(e)||Hi(e)||Mi(e))},Ui=ji,Wi=function(e,t){return ji(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Mi(e))return!1;if(Oi(e))return!0}return!0}(e,t)},$i=Math.round,qi=function(e){return e?{left:$i(e.left),top:$i(e.top),bottom:$i(e.bottom),right:$i(e.right),width:$i(e.width),height:$i(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Vi=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Gi=qi,Yi=function(e,t){return e=qi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Xi=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Vi(t.top-e.bottom,e,t)},Ji=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Vi(t.bottom-e.top,e,t)},Ki=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Zi=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Qi=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ea=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Qi.test(e)},ta=[].slice,na={constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ta.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ta.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=ta.call(arguments);return o.length-1>=t.length?t.apply(this,o.slice(1)):function(){var t=o.concat([].slice.call(arguments));return e.apply(this,t)}},compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}},ra=Ro.isElement,oa=Ui,ia=Ro.matchStyleValues("display","block table"),aa=Ro.matchStyleValues("float","left right"),sa=na.and(ra,oa,na.negate(aa)),ca=na.negate(Ro.matchStyleValues("white-space","pre pre-line pre-wrap")),la=Ro.isText,ua=Ro.isBr,da=ii.nodeIndex,fa=Zi,pa=function(e){return"createRange"in e?e.createRange():ii.DOM.createRng()},ma=function(e){return e&&/[\r\n\t ]/.test(e)},ha=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(ma(e.toString())&&ca(n.parentNode)&&(t=n.data,ma(t[r-1])||ma(t[r+1])))},ga=function e(t,n,r){var o=function(){return r||(r=function(e){var t,n,r=[],o=function(e){var t,n,r,o,i,a,s,u;return t=(n=e.getClientRects()).length>0?Gi(n[0]):Gi(e.getBoundingClientRect()),ua(e)&&0===t.left?(i=(r=e).ownerDocument,a=pa(i),s=i.createTextNode(" "),(u=r.parentNode).insertBefore(s,r),a.setStart(s,0),a.setEnd(s,1),o=Gi(a.getBoundingClientRect()),u.removeChild(s),o):t},i=function(e,t){return(e=Yi(e,t)).width=1,e.right=e.left+1,e},a=function(e){0!==e.height&&(r.length>0&&function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}(e,r[r.length-1])||r.push(e))},s=function(e,t){var n=pa(e.ownerDocument);if(t<e.data.length){if(ea(e.data[t]))return r;if(ea(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ha(n)))return a(i(o(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),ha(n)||a(i(o(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ha(n)||a(i(o(n),!0)))};if(la(e.container()))return s(e.container(),e.offset()),r;if(ra(e.container()))if(e.isAtEnd())n=fa(e.container(),e.offset()),la(n)&&s(n,n.data.length),sa(n)&&!ua(n)&&a(i(o(n),!1));else{if(n=fa(e.container(),e.offset()),la(n)&&s(n,0),sa(n)&&e.isAtEnd())return a(i(o(n),!1)),r;t=fa(e.container(),e.offset()-1),sa(t)&&!ua(t)&&(ia(t)||ia(n)||!sa(n))&&a(i(o(t),!1)),sa(n)&&a(i(o(n),!0))}return r}(new e(t,n))),r};return{container:na.constant(t),offset:na.constant(n),toRange:function(){var e;return(e=pa(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:o,isVisible:function(){return o().length>0},isAtStart:function(){return la(t),0===n},isAtEnd:function(){return la(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return fa(t,e?n-1:n)}}};ga.fromRangeStart=function(e){return new ga(e.startContainer,e.startOffset)},ga.fromRangeEnd=function(e){return new ga(e.endContainer,e.endOffset)},ga.after=function(e){return new ga(e.parentNode,da(e)+1)},ga.before=function(e){return new ga(e.parentNode,da(e))},ga.isAtStart=function(e){return!!e&&e.isAtStart()},ga.isAtEnd=function(e){return!!e&&e.isAtEnd()},ga.isTextPosition=function(e){return!!e&&Ro.isText(e.container())};var ba,va,xa,ya,wa=Ro.isContentEditableTrue,ka=Ro.isContentEditableFalse,Ca=Ro.matchStyleValues("display","block table table-cell table-caption list-item"),_a=ki,Sa=Ci,Ea=na.curry,Ta=Ro.isElement,Na=Ui,Ra=function(e){return e>0},Aa=function(e){return e<0},Da=function(e,t){for(var n;n=e(t);)if(!Sa(n))return n;return null},Pa=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode)if(wa(e))return e;return t},Oa=function(e,t){for(;e&&e!==t;){if(Ca(e))return e;e=e.parentNode}return null},Ma=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Ba=function(e,t,n){var r,o,i,a;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],_a(r)&&(r=r[o]),ka(r)){if(a=n,Oa(r,i=t)===Oa(a,i))return r;break}if(Na(r))break;n=n.parentNode}return null},Ia=Ea(Ma,!0),za=Ea(Ma,!1),La=function(e,t){return ka((n=e,(r=t)?(o=r.container(),i=r.offset(),Ta(o)?o.childNodes[i+n]:null):null));var n,r,o,i},Ha={isForwards:Ra,isBackwards:Aa,findNode:function(e,t,n,r,o){var i=new mo(e,r);if(Aa(t)){if((ka(e)||Sa(e))&&n(e=Da(i.prev,!0)))return e;for(;e=Da(i.prev,o);)if(n(e))return e}if(Ra(t)){if((ka(e)||Sa(e))&&n(e=Da(i.next,!0)))return e;for(;e=Da(i.next,o);)if(n(e))return e}return null},getEditingHost:Pa,getParentBlock:Oa,isInSameBlock:function(e,t,n){return Oa(e.container(),n)===Oa(t.container(),n)},isInSameEditingHost:function(e,t,n){return Pa(e.container(),n)===Pa(t.container(),n)},isBeforeContentEditableFalse:Ea(La,0),isAfterContentEditableFalse:Ea(La,-1),normalizeRange:function(e,t,n){var r,o,i,a,s=Ea(Ba,!0,t),u=Ea(Ba,!1,t);if(o=n.startContainer,i=n.startOffset,Ci(o)){if(Ta(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,ka(r)))return Ia(r);if("after"===a&&(r=o.previousSibling,ka(r)))return za(r)}if(!n.collapsed)return n;if(Ro.isText(o)){if(_a(o)){if(1===e){if(r=u(o))return Ia(r);if(r=s(o))return za(r)}if(-1===e){if(r=s(o))return za(r);if(r=u(o))return Ia(r)}return n}if(Pi(o)&&i>=o.data.length-1)return 1===e&&(r=u(o))?Ia(r):n;if(Di(o)&&i<=1)return-1===e&&(r=s(o))?za(r):n;if(i===o.data.length)return(r=u(o))?Ia(r):n;if(0===i)return(r=s(o))?za(r):n}return n}},Fa=Ro.isContentEditableFalse,ja=Ro.isText,Ua=Ro.isElement,Wa=Ro.isBr,$a=Ha.isForwards,qa=Ha.isBackwards,Va=Ui,Ga=function(e){return Li(e)||!!Mi(t=e)&&!0!==Wt.reduce(t.getElementsByTagName("*"),(function(e,t){return e||Oi(t)}),!1);var t},Ya=Wi,Xa=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Ja=function(e,t){if($a(e)){if(Va(t.previousSibling)&&!ja(t.previousSibling))return ga.before(t);if(ja(t))return ga(t,0)}if(qa(e)){if(Va(t.nextSibling)&&!ja(t.nextSibling))return ga.after(t);if(ja(t))return ga(t,t.data.length)}return qa(e)?Wa(t)?ga.before(t):ga.after(t):ga.before(t)},Ka=function e(t,n,r){var o,c,i,a,s,u,l,d,f,m;if(!Ua(r)||!n)return null;if(n.isEqual(ga.after(r))&&r.lastChild){if(l=ga.after(r.lastChild),qa(t)&&Va(r.lastChild)&&Ua(r.lastChild))return Wa(r.lastChild)?ga.before(r.lastChild):l}else l=n;if(o=l.container(),c=l.offset(),ja(o)){if(qa(t)&&c>0)return ga(o,--c);if($a(t)&&c<o.length)return ga(o,++c);i=o}else{if(qa(t)&&c>0&&(a=Xa(o,c-1),Va(a)))return!Ga(a)&&(s=Ha.findNode(a,t,Ya,a))?ja(s)?ga(s,s.data.length):ga.after(s):ja(a)?ga(a,a.data.length):ga.before(a);if($a(t)&&c<o.childNodes.length&&(a=Xa(o,c),Va(a)))return d=a,f=r,Ro.isBr(d)&&(m=e(1,ga.after(d),f))&&!Ha.isInSameBlock(ga.before(d),ga.before(m),f)?e(t,ga.after(a),r):!Ga(a)&&(s=Ha.findNode(a,t,Ya,a))?ja(s)?ga(s,0):ga.before(s):ja(a)?ga(a,0):ga.after(a);i=l.getNode()}return($a(t)&&l.isAtEnd()||qa(t)&&l.isAtStart())&&(i=Ha.findNode(i,t,na.constant(!0),r,!0),Ya(i,r))?Ja(t,i):(a=Ha.findNode(i,t,Ya,r),!(u=Wt.last(Wt.filter(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(o,r),Fa)))||a&&u.contains(a)?a?Ja(t,a):null:l=$a(t)?ga.after(u):ga.before(u))},Za=function(e){return{next:function(t){return Ka(1,t,e)},prev:function(t){return Ka(-1,t,e)}}},Qa=function(e){return e.length>0&&(!(t=e[e.length-1]).firstChild||function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&(" "===(t=e.firstChild).data||Ro.isBr(t));var t}(t))?e.slice(0,-1):e;var t},es=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},ts=function(e,t){var n=ga.after(e),r=Za(t).prev(n);return r?r.toRange():null},ns=function(e,t,n,r){var o,i,a,s,u,c,l,d,f,p,g,m,h,v,b,x,y,w,k=(o=t,i=r,c=e.serialize(i),s=(a=o.createFragment(c)).firstChild,u=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),u&&"mce_marker"===u.id&&u.parentNode.removeChild(u),a),C=es(t,n.startContainer),_=Qa(function(e){return Gt.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))}(k.firstChild)),S=t.getRoot(),E=function(e){var r=ga.fromRangeStart(n),o=Za(t.getRoot()),i=1===e?o.prev(r):o.next(r);return!i||es(t,i.getNode())!==C};return E(1)?function(e,t,n){var r,i,a,s=e.parentNode;return Gt.each(t,(function(t){s.insertBefore(t,e)})),r=n,i=ga.before(e),(a=Za(r).next(i))?a.toRange():null}(C,_,S):E(2)?(l=C,d=_,f=S,t.insertAfter(d.reverse(),l),ts(d[0],f)):(g=_,m=S,h=p=C,b=(v=n).cloneRange(),x=v.cloneRange(),b.setStartBefore(h),x.setEndAfter(h),y=[b.cloneContents(),x.cloneContents()],(w=p.parentNode).insertBefore(y[0],p),Gt.each(g,(function(e){w.insertBefore(e,p)})),w.insertBefore(y[1],p),w.removeChild(p),ts(g[g.length-1],m))},rs=Ro.isText,os=Ro.isBogus,is=ii.nodeIndex,as=function e(t){var n=t.parentNode;return os(n)?e(n):n},ss=function e(t){return t?Wt.reduce(t.childNodes,(function(t,n){return os(n)&&"BR"!==n.nodeName?t=t.concat(e(n)):t.push(n),t}),[]):[]},cs=function(e){return function(t){return e===t}},ls=function(e){var t,n,r,o;return(rs(e)?"text()":e.nodeName.toLowerCase())+"["+(n=ss(as(t=e)),r=Wt.findIndex(n,cs(t),t),n=n.slice(0,r+1),o=Wt.reduce(n,(function(e,t,r){return rs(t)&&rs(n[r-1])&&e++,e}),0),n=Wt.filter(n,Ro.matchNodeNames(t.nodeName)),(r=Wt.findIndex(n,cs(t),t))-o+"]")},us=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),rs(n)?o=function(e,t){for(;(e=e.previousSibling)&&rs(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(ls(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode)r.push(t);return r}(e,n),a=Wt.filter(a,na.negate(Ro.isBogus)),(s=s.concat(Wt.map(a,(function(e){return ls(e)})))).reverse().join("/")+","+o},ds=function(e,t){var n,r,o;return t?(t=(n=t.split(","))[0].split("/"),o=n.length>1?n[1]:"before",(r=Wt.reduce(t,(function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,r=t[1],o=parseInt(t[2],10),i=ss(n),i=Wt.filter(i,(function(e,t){return!rs(e)||!rs(i[t-1])})),(i=Wt.filter(i,Ro.matchNodeNames(r)))[o]):null;var n,r,o,i}),e))?rs(r)?function(e,t){for(var n,r=e,o=0;rs(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!rs(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return t>e.data.length&&(t=e.data.length),new ga(e,t)}(r,parseInt(o,10)):(o="after"===o?is(r)+1:is(r),new ga(r.parentNode,o)):null):null},fs=Ro.isContentEditableFalse,ps=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Ro.isText(a)?u.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Ro.isText(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(c=1,s=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},ms=function(e){Ro.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},hs=function(e,t,n){var r=0;return Gt.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},gs=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Ro.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},bs=function(e){return gs(e,!0),gs(e,!1),e},vs=function(e,t){var n;if(Ro.isElement(e)&&(e=Zi(e,t),fs(e)))return e;if(ki(e)){if(Ro.isText(e)&&Ci(e)&&(e=e.parentNode),n=e.previousSibling,fs(n))return n;if(n=e.nextSibling,fs(n))return n}},xs=function(e,t,n){var r,o,i,a,s,u,c,l=n.getNode(),d=l?l.nodeName:null,f=n.getRng();return fs(l)||"IMG"===d?{name:d,index:hs(n.dom,d,l)}:(l=vs((r=f).startContainer,r.startOffset)||vs(r.endContainer,r.endOffset))?{name:d=l.tagName,index:hs(n.dom,d,l)}:(o=e,a=t,s=f,u=(i=n).dom,(c={}).start=ps(u,o,a,s,!0),i.isCollapsed()||(c.end=ps(u,o,a,s,!1)),c)},ys={getBookmark:function(e,t,n){return 2===t?xs(hi,n,e):3===t?(o=(r=e).getRng(),{start:us(r.dom.getRoot(),ga.fromRangeStart(o)),end:us(r.dom.getRoot(),ga.fromRangeEnd(o))}):t?{rng:e.getRng()}:function(e){var t=e.dom,n=e.getRng(),r=t.uniqueId(),o=e.isCollapsed(),i="overflow:hidden;line-height:0px",a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:hs(t,s,a)};var u=bs(n.cloneRange());if(!o){u.collapse(!1);var c=t.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:i},"&#xFEFF;");u.insertNode(c),ms(c.nextSibling)}(n=bs(n)).collapse(!0);var l=t.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:i},"&#xFEFF;");return n.insertNode(l),ms(l.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}}(e);var r,o},getUndoBookmark:w.curry(xs,w.identity,!0)},ws=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return E.none();n.push(o.getOrDie())}return E.some(t.apply(null,n))},ks=function(e,t){return!e.isBlock(t)||t.innerHTML||Ne.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},Cs=function(e,t,n,r){var o,i,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],i=c,o=u.length-1;o>=1;o--){if(s=i.childNodes,u[o]>s.length-1)return;i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},_s=function(e,t,n){var r,o,i,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,l?(r=c.firstChild,o=1):o=e.nodeIndex(c),s=r,u=o,!l){for(a=c.previousSibling,i=c.nextSibling,Gt.each(Gt.grep(c.childNodes),(function(e){Ro.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));c=e.get(n.id+"_"+t);)e.remove(c,1);a&&i&&a.nodeType===i.nodeType&&Ro.isText(a)&&!Ne.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,u=o)}return E.some(ga(s,u))}return E.none()},Ss=function(e,t,n){return ys.getBookmark(e,t,n)},Es=function(e,t){(function(e,t){var n,r,o,i,a,s,u,c,l,d,f,m,p,g,h,v=e.dom;if(t){if(Gt.isArray(t.start))return g=t,h=(p=v).createRng(),Cs(p,!0,g,h)&&Cs(p,!1,g,h)?E.some(h):E.none();if("string"==typeof t.start)return E.some((d=t,f=(l=v).createRng(),m=ds(l.getRoot(),d.start),f.setStart(m.container(),m.offset()),m=ds(l.getRoot(),d.end),f.setEnd(m.container(),m.offset()),f));if(t.id)return u=_s(o=v,"start",i=t),c=_s(o,"end",i),ws([u,(a=c,s=u,a.isSome()?a:s)],(function(e,t){var n=o.createRng();return n.setStart(ks(o,e.container()),e.offset()),n.setEnd(ks(o,t.container()),t.offset()),n}));if(t.name)return r=t,E.from((n=v).select(r.name)[r.index]).map((function(e){var t=n.createRng();return t.selectNode(e),t}));if(t.rng)return E.some(t.rng)}return E.none()})(e,t).each((function(t){e.setRng(t)}))},Ts=function(e){return Ro.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Ns=Gt.each,Rs=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Ns(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))})),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!o(r(t),r(n))||!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||Ts(t)||Ts(n))}},As=function(e,t){Yr(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},Ds=function(e,t){e.dom().appendChild(t.dom())},Ps=As,Os=function(e,t){Kr(e).fold((function(){Yr(e).each((function(e){Ds(e,t)}))}),(function(e){As(e,t)}))},Ms=Ds,Bs=function(e,t){H(t,(function(t){Ms(e,t)}))},Is=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},zs=function(e){e.dom().textContent="",H(Qr(e),(function(e){Is(e)}))},Ls=Is,Hs=(ba=ur.isText,"text",va=function(e){return ba(e)?E.from(e.dom().nodeValue):E.none()},xa=er.detect().browser,{get:function(e){if(!ba(e))throw new Error("Can only get text value of a text node");return ya(e).getOr("")},getOption:ya=xa.isIE()&&10===xa.version.major?function(e){try{return va(e)}catch(e){return E.none()}}:va,set:function(e,t){if(!ba(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=t}}),Fs=function(e,t){return Br.all(t,e)},js=function(e){zs(e),Ms(e,rr.fromHtml('<br data-mce-bogus="1">'))},Us=function(e){no(e).each((function(t){Jr(t).each((function(n){vo.isBlock(e)&&vo.isBr(t)&&vo.isBlock(n)&&Ls(t)}))}))},Ws=Gt.makeMap,$s=function(e){var t,n,r,o,i,a=[];return t=(e=e||{}).indent,n=Ws(e.indent_before||""),r=Ws(e.indent_after||""),o=Ho.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,s,u){var c,l,d,f;if(t&&n[e]&&a.length>0&&(f=a[a.length-1]).length>0&&"\n"!==f&&a.push("\n"),a.push("<",e),s)for(c=0,l=s.length;c<l;c++)d=s[c],a.push(" ",d.name,'="',o(d.value,!0),'"');a[a.length]=!u||i?">":" />",u&&t&&r[e]&&a.length>0&&(f=a[a.length-1]).length>0&&"\n"!==f&&a.push("\n")},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1]).length>0&&"\n"!==n&&a.push("\n")},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},qs=function(e,t){var n={},r=$s(e);return(e=e||{}).validate=!("validate"in e)||e.validate,n.schema=t=t||Xo(),n.writer=r,n.serialize=function(n){var o,i;i=e.validate,o={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},r.reset();var a=function a(e){var n,s,u,c,l,d,f,m,p,g=o[e.type];if(g)g(e);else{if(n=e.name,s=e.shortEnded,u=e.attributes,i&&u&&u.length>1&&((d=[]).map={},p=t.getElementRule(e.name))){for(f=0,m=p.attributesOrder.length;f<m;f++)(c=p.attributesOrder[f])in u.map&&(l=u.map[c],d.map[c]=l,d.push({name:c,value:l}));for(f=0,m=u.length;f<m;f++)(c=u[f].name)in d.map||(l=u.map[c],d.map[c]=l,d.push({name:c,value:l}));u=d}if(r.start(e.name,u,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);r.end(n)}}};return 1!==n.type||e.inner?o[11](n):a(n),r.getContent()},n},Vs=function(e){return ga.isTextPosition(e)?0===e.offset():Ui(e.getNode())},Gs=function(e){return ga.isTextPosition(e)?e.offset()===e.container().data.length:Ui(e.getNode(!0))},Ys=function(e,t){return!ga.isTextPosition(e)&&!ga.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Xs=function(e,t,n){var r=Za(t);return E.from(e?r.next(n):r.prev(n))},Js=function(e,t){var n,r,o,i,a,s=e?t.firstChild:t.lastChild;return Ro.isText(s)?E.some(new ga(s,e?0:s.data.length)):s?Ui(s)?E.some(e?ga.before(s):(a=s,Ro.isBr(a)?ga.before(a):ga.after(a))):(r=t,o=s,i=(n=e)?ga.before(o):ga.after(o),Xs(n,r,i)):E.none()},Ks={fromPosition:Xs,nextPosition:w.curry(Xs,!0),prevPosition:w.curry(Xs,!1),navigate:function(e,t,n){return Xs(e,t,n).bind((function(r){return Ha.isInSameBlock(n,r,t)&&function(e,t,n){return e?!Ys(t,n)&&!(!ga.isTextPosition(r=t)&&Ro.isBr(r.getNode()))&&Gs(t)&&Vs(n):!Ys(n,t)&&Vs(t)&&Gs(n);var r}(e,n,r)?Xs(e,t,r):E.some(r)}))},positionIn:Js,firstPositionIn:w.curry(Js,!0),lastPositionIn:w.curry(Js,!1)},Zs=function(e){return(t=e).collapsed?t:function(e){var t=ga.fromRangeStart(e),n=ga.fromRangeEnd(e),r=e.commonAncestorContainer;return Ks.fromPosition(!1,r,n).map((function(o){return!Ha.isInSameBlock(t,n,r)&&Ha.isInSameBlock(t,o,r)?(i=t.container(),a=t.offset(),s=o.container(),u=o.offset(),(c=document.createRange()).setStart(i,a),c.setEnd(s,u),c):e;var i,a,s,u,c})).getOr(e)}(t);var t},Qs=Ro.matchNodeNames("td th"),ec=function(e,t,n){var r,o,i,a,s,u,c,l,d,f,m,p,g=e.schema.getTextInlineElements(),h=e.selection,v=e.dom;if(/^ | $/.test(t)&&(t=function(e){var t,n,r;t=h.getRng(),n=t.startContainer,r=t.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(t)),r=e.parser,p=n.merge,o=qs({validate:e.settings.validate},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:t,format:"html",selection:!0,paste:n.paste},(u=e.fire("BeforeSetContent",u)).isDefaultPrevented())e.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=u.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m);var x,b,y,w,k=(l=h.getRng()).startContainer||(l.parentElement?l.parentElement():null),C=e.getBody();k===C&&h.isCollapsed()&&v.isBlock(C.firstChild)&&(x=C.firstChild)&&!e.schema.getShortEndedElements()[x.nodeName]&&v.isEmpty(C.firstChild)&&((l=v.createRng()).setStart(C.firstChild,0),l.setEnd(C.firstChild,0),h.setRng(l)),h.isCollapsed()||(e.selection.setRng(Zs(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),y=(b=h.getRng()).startContainer,w=b.startOffset,3===y.nodeType&&b.collapsed&&(" "===y.data[w]?(y.deleteData(w,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===y.data[w-1]&&(y.deleteData(w-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))));var _,S,T,N={context:(i=h.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=r.parse(t,N),!0===n.paste&&function(e,t){var n,r,o,i,a,s,u=t.firstChild,c=t.lastChild;return u&&"meta"===u.name&&(u=u.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,s=(n=e).getNonEmptyElements(),r&&(r.isEmpty(s)||(o=r,n.getBlockElements()[o.name]&&(a=o).firstChild&&a.firstChild===a.lastChild&&("br"===(i=o.firstChild).name||" "===i.value)))&&(c=c.prev),!(!u||u!==c||"ul"!==u.name&&"ol"!==u.name)}(e.schema,s)&&function(e,t){return!!es(e,t)}(v,i))return l=ns(o,v,e.selection.getRng(!0),s),e.selection.setRng(l),void e.fire("SetContent",u);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(s),"mce_marker"===(d=s.lastChild).attr("id"))for(c=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!v.isBlock(d.name)){e.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(c,d,"br"===d.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),N.invalid){for(h.setContent(m),i=h.getNode(),a=e.getBody(),9===i.nodeType?i=d=a:d=i;d!==a;)i=d,d=d.parentNode;t=i===a?a.innerHTML:v.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return o.serialize(s)})))),i===a?v.setHTML(a,t):v.setOuterHTML(i,t)}else t=o.serialize(s),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(e,t,i);!function(){if(p){var t=e.getBody(),n=new Rs(v);Gt.each(v.select("*[data-mce-fragment]"),(function(e){for(var r=e.parentNode;r&&r!==t;r=r.parentNode)g[e.nodeName.toLowerCase()]&&n.compare(r,e)&&v.remove(e,!0)}))}}(),function(t){var n,r,o;if(t){if(h.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return v.remove(t),void h.select(n);l=v.createRng(),(d=t.previousSibling)&&3===d.nodeType?(l.setStart(d,d.nodeValue.length),Ne.ie||(f=t.nextSibling)&&3===f.nodeType&&(d.appendData(f.data),f.parentNode.removeChild(f))):(l.setStartBefore(t),l.setEndBefore(t)),r=v.getParent(t,v.isBlock),v.remove(t),r&&v.isEmpty(r)&&(e.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),Qs(r)||r.getAttribute("data-mce-fragment")||!(o=function(t){var n=ga.fromRangeStart(t);if(n=Za(e.getBody()).next(n))return n.toRange()}(l))?v.add(r,v.create("br",{"data-mce-bogus":"1"})):(l=o,v.remove(r))),h.setRng(l)}}(v.get("mce_marker")),_=e.getBody(),Gt.each(_.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),S=e.dom,T=e.selection.getStart(),E.from(S.getParent(T,"td,th")).map(rr.fromDom).each(Us),e.fire("SetContent",u),e.addVisual()}},tc=function(e,t,n,r,o){return e(n,r)?E.some(n):tr.isFunction(o)&&o(n)?E.none():t(n,r,o)},nc=function(e,t,n){for(var r=e.dom(),o=tr.isFunction(n)?n:w.constant(!1);r.parentNode;){r=r.parentNode;var i=rr.fromDom(r);if(t(i))return E.some(i);if(o(i))break}return E.none()},rc=nc,oc=function(e,t,n){return tc((function(e){return t(e)}),nc,e,t,n)},ic=Dr("sections","settings"),ac=er.detect().deviceType.isTouch(),sc=["lists","autolink","autosave"],cc={theme:"mobile"},lc=function(e){var t=tr.isArray(e)?e.join(" "):e,n=L(tr.isString(t)?t.split(" "):[],Gn);return j(n,(function(e){return e.length>0}))},uc=function(e,t){return e.sections().hasOwnProperty(t)},dc=function(e,t,n,r){var i,a=lc(n.forced_plugins),s=lc(r.plugins),o=(i=e&&uc(t,"mobile")?j(s,w.curry(K,sc)):s,[].concat(lc(a)).concat(lc(i)));return Gt.extend(r,{plugins:o.join(" ")})},fc=function(e,t,n){return E.from(t.settings[n]).filter(e)},pc=w.curry(fc,tr.isString),mc=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,hc=function(e,t){var n=t.container(),r=t.offset();return e?_i(n)?Ro.isText(n.nextSibling)?new ga(n.nextSibling,0):ga.after(n):Ti(t)?new ga(n,r+1):t:_i(n)?Ro.isText(n.previousSibling)?new ga(n.previousSibling,n.previousSibling.data.length):ga.before(n):Ni(t)?new ga(n,r-1):t},gc={isInlineTarget:function(e,t){var n=pc(e,"inline_boundaries_selector").getOr("a[href],code");return Br.is(rr.fromDom(t),n)},findRootInline:function(e,t,n){var r,o,i,a=(r=e,o=t,i=n,j(ii.DOM.getParents(i.container(),"*",o),r));return E.from(a[a.length-1])},isRtl:function(e){return"rtl"===ii.DOM.getStyle(e,"direction",!0)||function(e){return mc.test(e)}(e.textContent)},isAtZwsp:function(e){return Ti(e)||Ni(e)},normalizePosition:hc,normalizeForwards:w.curry(hc,!0),normalizeBackwards:w.curry(hc,!1),hasSameParentBlock:function(e,t,n){var r=Ha.getParentBlock(t,e),o=Ha.getParentBlock(n,e);return r&&r===o}},bc=function(e,t){return Lr.contains(e,t)?oc(t,(function(e){return vo.isTextBlock(e)||vo.isListItem(e)}),(n=e,function(e){return Lr.eq(n,rr.fromDom(e.dom().parentNode))})):E.none();var n},vc=function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),r=(n=(t=e).getBody()).firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},xc=function(e,t,n){return rc(e,(function(e){return Br.is(e,t)}),n)},yc=xc,wc=function(e,t){return Br.one(t,e)},kc=function(e,t){return Ro.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===(n=t,r=rr.fromDom(e),function(e,t,n){return yc(e,t,n).isSome()}(rr.fromDom(n),"pre,code",w.curry(Lr.eq,r)));var n,r},Cc=function(e,t){return Ui(t)&&!1===kc(e,t)||(n=t,Ro.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||_c(t);var n},_c=Ro.hasAttribute("data-mce-bookmark"),Sc=Ro.hasAttribute("data-mce-bogus"),Ec=Ro.hasAttributeValue("data-mce-bogus","all"),Tc=function(e){return function(e){var t,n,r=0;if(Cc(e,e))return!1;if(!(n=e.firstChild))return!0;t=new mo(n,e);do{if(Ec(n))n=t.next(!0);else if(Sc(n))n=t.next();else if(Ro.isBr(n))r++,n=t.next();else{if(Cc(e,n))return!1;n=t.next()}}while(n);return r<=1}(e.dom())},Nc=Dr("block","position"),Rc=Dr("from","to"),Ac=function(e,t){var n=rr.fromDom(e),r=rr.fromDom(t.container());return bc(n,r).map((function(e){return Nc(e,t)}))},Dc=function(e,t,n){return n.collapsed?function(e,t,n){var r=Ac(e,ga.fromRangeStart(n)),o=r.bind((function(n){return Ks.fromPosition(t,e,n.position()).bind((function(n){return Ac(e,n).map((function(n){return r=e,o=t,i=n,Ro.isBr(i.position().getNode())&&!1===Tc(i.block())?Ks.positionIn(!1,i.block().dom()).bind((function(e){return e.isEqual(i.position())?Ks.fromPosition(o,r,e).bind((function(e){return Ac(r,e)})):E.some(i)})).getOr(i):i;var r,o,i}))}))}));return ws([r,o],Rc).filter((function(e){return r=e,!1===Lr.eq(r.from().block(),r.to().block())&&Yr((n=e).from().block()).bind((function(e){return Yr(n.to().block()).filter((function(t){return Lr.eq(e,t)}))})).isSome()&&(t=e,!1===Ro.isContentEditableFalse(t.from().block())&&!1===Ro.isContentEditableFalse(t.to().block()));var t,n,r}))}(e,t,n):E.none()},Pc=function(e,t){return function(e,t,n){return Lr.contains(t,e)?Xr(e,(function(e){return n(e)||Lr.eq(e,t)})).slice(0,-1):[]}(e,t,w.constant(!1))},Oc=Pc,Mc=function(e,t){return[e].concat(Pc(e,t))},Bc=function(e,t){Ks.positionIn(e,t.dom()).each((function(e){var t=e.getNode();Ro.isBr(t)&&Ls(rr.fromDom(t))}))},Ic=function(e,t){var n=Mc(t,e);return V(n.reverse(),Tc).each(Ls)},zc=function(e,t,n){if(Tc(n))return Ls(n),Tc(t)&&js(t),Ks.firstPositionIn(t.dom());Bc(!0,t),Bc(!1,n);var r=function(e){var t,n=(t=Qr(e),G(t,vo.isBlock).fold((function(){return t}),(function(e){return t.slice(0,e)})));return H(n,(function(e){Ls(e)})),n}(t);return function(e,t){return Lr.contains(t,e)?Yr(e).bind((function(n){return Lr.eq(n,t)?E.some(e):(r=t,i=Xr(e,(function(e){return Lr.eq(e,r)})),E.from(i[i.length-2]));var r,i})):E.none()}(t,n).fold((function(){Ic(e,t);var o=Ks.lastPositionIn(n.dom());return H(r,(function(e){Ms(n,e)})),o}),(function(o){var i=Ks.prevPosition(n.dom(),ga.before(o.dom()));return H(r,(function(e){Ps(o,e)})),Ic(e,t),i}))},Lc=function(e,t,n,r){return t?zc(e,r,n):zc(e,n,r)},Hc=function(e,t){var n,r=rr.fromDom(e.getBody());return(n=Dc(r.dom(),t,e.selection.getRng()).bind((function(e){return Lc(r,t,e.from().block(),e.to().block())}))).each((function(t){e.selection.setRng(t.toRange())})),n.isSome()},Fc=function(e,t){var n=rr.fromDom(t),r=w.curry(Lr.eq,e);return rc(n,vo.isTableCell,r).isSome()},jc=function(e){var t,n,r,o,i=rr.fromDom(e.getBody());return function(e,t){var n,r,o=Ks.prevPosition(e.dom(),ga.fromRangeStart(t)).isNone(),i=Ks.nextPosition(e.dom(),ga.fromRangeEnd(t)).isNone();return!(Fc(n=e,(r=t).startContainer)||Fc(n,r.endContainer))&&o&&i}(i,e.selection.getRng())?((o=e).setContent(""),o.selection.setCursorLocation(),!0):(t=i,n=e.selection,r=n.getRng(),ws([bc(t,rr.fromDom(r.startContainer)),bc(t,rr.fromDom(r.endContainer))],(function(e,o){return!1===Lr.eq(e,o)&&(r.deleteContents(),Lc(t,!0,e,o).each((function(e){n.setRng(e.toRange())})),!0)})).getOr(!1))},Uc=function(e,t){return!e.selection.isCollapsed()&&jc(e)},Wc=function(e){if(!tr.isArray(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return H(e,(function(r,o){var i=xr.keys(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!tr.isArray(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var n=xr.keys(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!X(t,(function(e){return K(n,e)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)},log:function(e){console.log(e,{constructors:t,constructor:a,params:r})}}}})),n},$c=Wc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),qc=function(e,t,n,r){var o=r.getNode(!1===t);return bc(rr.fromDom(e),rr.fromDom(n.getNode())).map((function(e){return Tc(e)?$c.remove(e.dom()):$c.moveToElement(o)})).orThunk((function(){return E.some($c.moveToElement(o))}))},Vc=function(e,t,n){return Ks.fromPosition(t,e,n).bind((function(r){return t&&Ro.isContentEditableFalse(r.getNode())||!1===t&&Ro.isContentEditableFalse(r.getNode(!0))?qc(e,t,n,r):t&&Ha.isAfterContentEditableFalse(n)||!1===t&&Ha.isBeforeContentEditableFalse(n)?E.some($c.moveToPosition(r)):E.none()}))},Gc=function(e,t,n){var r=Ha.normalizeRange(t?1:-1,e,n),o=ga.fromRangeStart(r);return!1===t&&Ha.isAfterContentEditableFalse(o)?E.some($c.remove(o.getNode(!0))):t&&Ha.isBeforeContentEditableFalse(o)?E.some($c.remove(o.getNode())):function(e,t,n){return i=t,a=n.getNode(!1===i),s=i?"after":"before",Ro.isElement(a)&&a.getAttribute("data-mce-caret")===s?(r=t,o=n.getNode(!1===t),r&&Ro.isContentEditableFalse(o.nextSibling)?E.some($c.moveToElement(o.nextSibling)):!1===r&&Ro.isContentEditableFalse(o.previousSibling)?E.some($c.moveToElement(o.previousSibling)):E.none()).fold((function(){return Vc(e,t,n)}),E.some):Vc(e,t,n).bind((function(t){return r=e,o=n,t.fold((function(e){return E.some($c.remove(e))}),(function(e){return E.some($c.moveToElement(e))}),(function(e){return Ha.isInSameBlock(o,e,r)?E.none():E.some($c.moveToPosition(e))}));var r,o}));var r,o,i,a,s}(e,t,o)},Yc=function(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===ga.isTextPosition(n)&&o===r.parentNode&&i>ga.before(r).offset()?new ga(t.container(),t.offset()-1):t;var n,r,o,i},Xc=function(e){return Ui(e.previousSibling)?E.some((t=e.previousSibling,Ro.isText(t)?new ga(t,t.data.length):ga.after(t))):e.previousSibling?Ks.lastPositionIn(e.previousSibling):E.none();var t},Jc=function(e){return Ui(e.nextSibling)?E.some((t=e.nextSibling,Ro.isText(t)?new ga(t,0):ga.before(t))):e.nextSibling?Ks.firstPositionIn(e.nextSibling):E.none();var t},Kc=function(e,t,n){return(r=e,o=t,i=n,r?function(e,t){return Jc(t).orThunk((function(){return Xc(t)})).orThunk((function(){return n=e,r=t,Ks.nextPosition(n,ga.after(r)).fold((function(){return Ks.prevPosition(n,ga.before(r))}),E.some);var n,r}))}(o,i):function(e,t){return Xc(t).orThunk((function(){return Jc(t)})).orThunk((function(){return n=e,o=ga.before((r=t).previousSibling?r.previousSibling:r.parentNode),Ks.prevPosition(n,o).fold((function(){return Ks.nextPosition(n,ga.after(r))}),E.some);var n,r,o}))}(o,i)).map(w.curry(Yc,n));var r,o,i},Zc=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},Qc=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(ur.name(t))},el=function(e){if(Tc(e)){var t=rr.fromHtml('<br data-mce-bogus="1">');return zs(e),Ms(e,t),E.some(ga.before(t.dom()))}return E.none()},tl=function(e,t,n){var r,o,i,a=Kc(t,e.getBody(),n.dom()),s=rc(n,w.curry(Qc,e),(r=e.getBody(),function(e){return e.dom()===r})),u=(i=a,ws([Jr(o=n),Kr(o),i],(function(e,t,n){var r,i=e.dom(),a=t.dom();return Ro.isText(i)&&Ro.isText(a)?(r=i.data.length,i.appendData(a.data),Ls(t),Ls(o),n.container()===a?new ga(i,r):n):(Ls(o),n)})).orThunk((function(){return Ls(o),i})));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind(el).fold((function(){Zc(e,t,u)}),(function(n){Zc(e,t,E.some(n))}))},nl=function(e,t){return e.selection.isCollapsed()?function(e,t){return Gc(e.getBody(),t,e.selection.getRng()).map((function(n){return n.fold((a=e,s=t,function(e){return a._selectionOverrides.hideFakeCaret(),tl(a,s,rr.fromDom(e)),!0}),(o=e,i=t,function(e){var t=i?ga.before(e):ga.after(e);return o.selection.setRng(t.toRange()),!0}),(r=e,function(e){return r.selection.setRng(e.toRange()),!0}));var r,o,i,a,s})).getOr(!1)}(e,t):function(e,t){var n,r=e.selection.getNode();return!!Ro.isContentEditableFalse(r)&&(n=rr.fromDom(e.getBody()),H(Fs(n,".mce-offscreen-selection"),Ls),tl(e,t,rr.fromDom(e.selection.getNode())),vc(e),!0)}(e,t)},rl=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(Ro.isContentEditableTrue(t)||Ro.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return Ro.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(ga.before(t).toRange())),!0},il=Ro.isText,al=function(e){return il(e)&&e.data[0]===mi},sl=function(e){return il(e)&&e.data[e.data.length-1]===mi},cl=function(e){return e.ownerDocument.createTextNode(mi)},ll=function(e,t){return e?function(e){if(il(e.previousSibling))return sl(e.previousSibling)||e.previousSibling.appendData(mi),e.previousSibling;if(il(e))return al(e)||e.insertData(0,mi),e;var t=cl(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(il(e.nextSibling))return al(e.nextSibling)||e.nextSibling.insertData(0,mi),e.nextSibling;if(il(e))return sl(e)||e.appendData(mi),e;var t=cl(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},fl={insertInline:ll,insertInlineBefore:w.curry(ll,!0),insertInlineAfter:w.curry(ll,!1)},pl=Ro.isElement,ml=Ro.isText,hl=function(e){var t=e.parentNode;t&&t.removeChild(e)},gl=function(e,t){0===t.length?hl(e):e.nodeValue=t},bl=function(e){var t=hi(e);return{count:e.length-t.length,text:t}},vl=function(e,t){return xl(e),t},xl=function(e){if(pl(e)&&ki(e)&&(Ai(e)?e.removeAttribute("data-mce-caret"):hl(e)),ml(e)){var t=hi(function(e){try{return e.nodeValue}catch(e){return""}}(e));gl(e,t)}},yl={removeAndReposition:function(e,t){return ga.isTextPosition(t)?function(e,t){return t.container()===e?(r=t,o=bl((n=e).data.substr(0,r.offset())),i=bl(n.data.substr(r.offset())),(a=o.text+i.text).length>0?(gl(n,a),new ga(n,r.offset()-o.count)):r):vl(e,t);var n,r,o,i,a}(e,t):function(e,t){return t.container()===e.parentNode?(n=e,o=(r=t).container(),i=U(o.childNodes,n).map((function(e){return e<r.offset()?new ga(o,r.offset()-1):r})).getOr(r),xl(n),i):vl(e,t);var n,r,o,i}(e,t)},remove:xl},wl=function(e,t){return Ro.isText(e.container())?fl.insertInline(t,e.container()):fl.insertInline(t,e.getNode())},kl=function(e,t){var n=t.get();return n&&e.container()===n&&_i(n)},Cl=function(e,t){return t.fold((function(t){yl.remove(e.get());var n=fl.insertInlineBefore(t);return e.set(n),E.some(new ga(n,n.length-1))}),(function(t){return Ks.firstPositionIn(t).map((function(t){if(kl(t,e))return new ga(e.get(),1);yl.remove(e.get());var n=wl(t,!0);return e.set(n),new ga(n,1)}))}),(function(t){return Ks.lastPositionIn(t).map((function(t){if(kl(t,e))return new ga(e.get(),e.get().length-1);yl.remove(e.get());var n=wl(t,!1);return e.set(n),new ga(n,n.length-1)}))}),(function(t){yl.remove(e.get());var n=fl.insertInlineAfter(t);return e.set(n),E.some(new ga(n,1))}))},_l=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Sl=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},El=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Tl=function(e,t,n){var r,o,i,a=n.startContainer,s=n.startOffset;if((n.startContainer!==n.endContainer||!_l(n.startContainer.childNodes[n.startOffset]))&&(3===a.nodeType&&s>=a.nodeValue.length&&(s=e.nodeIndex(a),a=a.parentNode),1===a.nodeType))for(s<(i=a.childNodes).length?(a=i[s],r=new mo(a,e.getParent(a,e.isBlock))):(a=i[i.length-1],(r=new mo(a,e.getParent(a,e.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!Sl(o))return n.setStart(o,0),void t.setRng(n)},Nl=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!Sl(e))return e},Rl=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Al=function(e,t,n){return e.schema.isValidChild(t,n)},Dl=Sl,Pl=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},Ol=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Ml=El,Bl=function(e,t,n){return El(e,e.getStyle(t,n),n)},Il=function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},zl=function(e,t,n){return e.getParents(t,n,e.getRoot())},Ll=Ts,Hl=zl,Fl=Dl,jl=Rl,Ul=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},Wl=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},$l=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?-1===(o=(o=a.lastIndexOf(" ",r))>(i=a.lastIndexOf(" ",r))?o:i)||t||o++:(o=a.indexOf(" ",r),i=a.indexOf(" ",r),o=-1!==o&&(-1===i||o<i)?o:i),o},ql=function(e,t,n,r,o,i){var a,s,u,c;if(3===n.nodeType){if(-1!==(u=$l(o,i,n,r)))return{container:n,offset:u};c=n}for(a=new mo(n,e.getParent(n,e.isBlock)||t);s=a[o?"prev":"next"]();)if(3===s.nodeType){if(c=s,-1!==(u=$l(o,i,s)))return{container:s,offset:u}}else if(e.isBlock(s))break;if(c)return{container:c,offset:r=o?0:c.length}},Vl=function(e,t,n,r,o){var i,a,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=Hl(e,r),a=0;a<i.length;a++)for(s=0;s<t.length;s++)if((!("collapsed"in(u=t[s]))||u.collapsed===n.collapsed)&&e.is(i[a],u.selector))return i[a];return r},Gl=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,(function(t){return t!==a&&jl(e,t)}),s)}if(o&&t[0].wrapper&&(o=Hl(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!Ol(o,"br")););return o||n},Yl=function(e,t,n,r,o,i,a){var s,u,c,l,d,f;if(s=u=a?n:o,l=a?"previousSibling":"nextSibling",d=e.getRoot(),3===s.nodeType&&!Fl(s)&&(a?r>0:i<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(c=u[l];c;c=c[l])if(!Ll(c)&&!Fl(c)&&("BR"!==(f=c).nodeName||!f.getAttribute("data-mce-bogus")||f.nextSibling))return u;if(u===d||u.parentNode===d){s=u;break}u=u.parentNode}return s},Xl=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset,c=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&3===(i=Zi(i,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=Zi(s,t.collapsed?u:u-1)).nodeType&&(u=s.nodeValue.length),i=Wl(c,i),s=Wl(c,s),(Ll(i.parentNode)||Ll(i))&&3===(i=(i=Ll(i)?i:i.parentNode).nextSibling||i).nodeType&&(a=0),(Ll(s.parentNode)||Ll(s))&&3===(s=(s=Ll(s)?s:s.parentNode).previousSibling||s).nodeType&&(u=s.length),n[0].inline&&(t.collapsed&&((o=ql(c,e.getBody(),i,a,!0,r))&&(i=o.container,a=o.offset),(o=ql(c,e.getBody(),s,u,!1,r))&&(s=o.container,u=o.offset)),s=r?s:function(e,t){var n=Ul(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Ul(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node).splitText(n.offset-1)}return e}(s,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Yl(c,n,i,a,s,u,!0)),n[0].inline&&3===s.nodeType&&u!==s.nodeValue.length||(s=Yl(c,n,i,a,s,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=Vl(c,n,t,i,"previousSibling"),s=Vl(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(i=Gl(e,n,i,"previousSibling"),s=Gl(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(i)||(i=Yl(c,n,i,a,s,u,!0)),c.isBlock(s)||(s=Yl(c,n,i,a,s,u,!1)))),1===i.nodeType&&(a=c.nodeIndex(i),i=i.parentNode),1===s.nodeType&&(u=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:a,endContainer:s,endOffset:u}},Jl=Ol,Kl=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Zl=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,(function(t){return!!Kl(e,t,n)||t.parentNode===o||!!ol(e,t,n,r,!0)})),ol(e,t,n,r))},Ql=function(e,t,n){return!!Jl(t,n.inline)||!!Jl(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},eu=function(e,t,n,r,o,i){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Bl(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!Jl(s,Ml(e,Pl(c[a],i),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):Bl(e,t,c[u]))return n;return n},ol=function(e,t,n,r,o){var i,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Ql(e.dom,t,i)&&eu(l,t,i,"attributes",o,r)&&eu(l,t,i,"styles",o,r)){if(u=i.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return i}},tu={matchNode:ol,matchName:Ql,match:function(e,t,n,r){var o;return r?Zl(e,r,t,n):(r=e.selection.getNode(),!!Zl(e,r,t,n)||!((o=e.selection.getStart())===r||!Zl(e,o,t,n)))},matchAll:function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,(function(r){var a,s;for(a=0;a<t.length;a++)s=t[a],!i[s]&&ol(e,r,s,n)&&(i[s]=!0,o.push(s))}),e.dom.getRoot()),o},canApply:function(e,t){var n,r,o,i,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=zl(u,n),i=s.length-1;i>=0;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(u.is(r[o],a))return!0}return!1},matchesUnInheritedFormatSelector:Kl},nu=function(e,t){return e.splitText(t)},ru={split:function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Ro.isText(t)?n>0&&n<t.nodeValue.length&&(t=(r=nu(t,n)).previousSibling,o>n?(t=r=nu(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(Ro.isText(t)&&n>0&&n<t.nodeValue.length&&(t=nu(t,n),n=0),Ro.isText(r)&&o>0&&o<r.nodeValue.length&&(o=(r=nu(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}}},ul=mi,ou="_mce_caret",iu=function(e){return 1===e.nodeType&&e.id===ou},dl=function(e){var t;if(e)for(e=(t=new mo(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},au=function(e){var t=rr.fromTag("span");return _r(t,{id:ou,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ms(t,rr.fromText(ul)),t},su=function(e,t){for(;t&&t!==e;){if(t.id===ou)return t;t=t.parentNode}return null},cu=function(e,t,n,r){var o,i,a,s;o=t.getRng(!0),i=e.getParent(n,e.isBlock),function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==ul||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0}(n)?(!1!==r&&(o.setStartBefore(n),o.setEndBefore(n)),e.remove(n)):((s=dl(n))&&s.nodeValue.charAt(0)===ul&&s.deleteData(0,1),a=s,o.startContainer===a&&o.startOffset>0&&o.setStart(a,o.startOffset-1),o.endContainer===a&&o.endOffset>0&&o.setEnd(a,o.endOffset-1),e.remove(n,!0)),i&&e.isEmpty(i)&&js(rr.fromDom(i)),t.setRng(o)},lu=function(e,t,n,r,o){if(r)cu(t,n,r,o);else if(!(r=su(e,n.getStart())))for(;r=t.get(ou);)cu(t,n,r,!1)},uu=function(e,t,n){var r=e.dom,o=r.getParent(n,na.curry(Rl,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(function(e){var t=Fs(e,"br"),n=j(function(e){for(var t=[],n=e.dom();n;)t.push(rr.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),vo.isBr);t.length===n.length&&H(n,Ls)}(rr.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},du=function(e,t){return e.appendChild(t),t},fu=function(e,t){var n=W(e,(function(e,t){return du(e,t.cloneNode(!1))}),t);return du(n,n.ownerDocument.createTextNode(ul))},pu=iu,mu=su,hu=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(ur.name(t))&&!iu(t.dom())&&!Ro.isBogus(t.dom())},gu=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return E.none()},bu=Wc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),vu=function(e,t){return Ha.getParentBlock(t,e)||e},xu=function(e,t,n){var r=gc.normalizeForwards(n),o=vu(t,r.container());return gc.findRootInline(e,o,r).fold((function(){return Ks.nextPosition(o,r).bind(w.curry(gc.findRootInline,e,o)).map((function(e){return bu.before(e)}))}),E.none)},yu=function(e,t){return null===mu(e,t)},wu=function(e,t,n){return gc.findRootInline(e,t,n).filter(w.curry(yu,t))},ku=function(e,t,n){var r=gc.normalizeBackwards(n);return wu(e,t,r).bind((function(e){return Ks.prevPosition(e,r).isNone()?E.some(bu.start(e)):E.none()}))},Cu=function(e,t,n){var r=gc.normalizeForwards(n);return wu(e,t,r).bind((function(e){return Ks.nextPosition(e,r).isNone()?E.some(bu.end(e)):E.none()}))},_u=function(e,t,n){var r=gc.normalizeBackwards(n),o=vu(t,r.container());return gc.findRootInline(e,o,r).fold((function(){return Ks.prevPosition(o,r).bind(w.curry(gc.findRootInline,e,o)).map((function(e){return bu.after(e)}))}),E.none)},Su=function(e){return!1===gc.isRtl(Tu(e))},Eu=function(e,t,n){return gu([xu,ku,Cu,_u],[e,t,n]).filter(Su)},Tu=function(e){return e.fold(w.identity,w.identity,w.identity,w.identity)},Nu=function(e){return e.fold(w.constant("before"),w.constant("start"),w.constant("end"),w.constant("after"))},Ru=function(e){return e.fold(bu.before,bu.before,bu.after,bu.after)},Au=function(e,t,n,r,o,i){return ws([gc.findRootInline(t,n,r),gc.findRootInline(t,n,o)],(function(t,r){return t!==r&&gc.hasSameParentBlock(n,t,r)?bu.after(e?t:r):i})).getOr(i)},Du=function(e,t){return e.fold(w.constant(!0),(function(e){return r=t,!(Nu(n=e)===Nu(r)&&Tu(n)===Tu(r));var n,r}))},Pu=function(e,t){return e?t.fold(w.compose(E.some,bu.start),E.none,w.compose(E.some,bu.after),E.none):t.fold(E.none,w.compose(E.some,bu.before),E.none,w.compose(E.some,bu.end))},Ou=function(e,t,n,r){var o=gc.normalizePosition(e,r),i=Eu(t,n,o);return Eu(t,n,o).bind(w.curry(Pu,e)).orThunk((function(){return o=e,a=t,s=n,u=i,c=r,l=gc.normalizePosition(o,c),Ks.fromPosition(o,s,l).map(w.curry(gc.normalizePosition,o)).fold((function(){return u.map(Ru)}),(function(e){return Eu(a,s,e).map(w.curry(Au,o,a,s,l,e)).filter(w.curry(Du,u))})).filter(Su);var o,a,s,u,c,l}))},Mu=Eu,Bu=Ou,Iu=(w.curry(Ou,!1),w.curry(Ou,!0),Ru),zu=function(e){return e.fold(bu.start,bu.start,bu.end,bu.end)},Lu=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},Hu=function(e,t,n){var r=e?1:-1;return t.setRng(ga(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Fu=function(e,t){var n=t.selection.getRng(),r=e?ga.fromRangeEnd(n):ga.fromRangeStart(n);return!!function(e){return tr.isFunction(e.selection.getSel().modify)}(t)&&(e&&Ti(r)?Hu(!0,t.selection,r):!(e||!Ni(r))&&Hu(!1,t.selection,r))},ju=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Uu=function(e){return!1!==e.settings.inline_boundaries},Wu=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},$u=function(e,t,n){return Cl(t,n).map((function(t){return ju(e,t),n}))},qu=function(e,t,n){return function(){return!!Uu(t)&&Fu(e,t)}},Vu={move:function(e,t,n){return function(){return!!Uu(e)&&(r=e,o=t,i=n,a=r.getBody(),s=ga.fromRangeStart(r.selection.getRng()),u=w.curry(gc.isInlineTarget,r),Bu(i,u,a,s).bind((function(e){return $u(r,o,e)}))).isSome();var r,o,i,a,s,u}},moveNextWord:w.curry(qu,!0),movePrevWord:w.curry(qu,!1),setupSelectedState:function(e){var t=new Lu(null),n=w.curry(gc.isInlineTarget,e);return e.on("NodeChange",(function(r){var o,i,a,s,u;Uu(e)&&(o=n,i=e.dom,a=r.parents,s=j(i.select('*[data-mce-selected="inline-boundary"]'),o),u=j(a,o),H(Z(s,u),w.curry(Wu,!1)),H(Z(u,s),w.curry(Wu,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=ga.fromRangeStart(e.selection.getRng());ga.isTextPosition(n)&&!1===gc.isAtZwsp(n)&&(ju(e,yl.removeAndReposition(t.get(),n)),t.set(null))}}(e,t),function(e,t,n,r){if(t.selection.isCollapsed()){var o=j(r,e);H(o,(function(r){var o=ga.fromRangeStart(t.selection.getRng());Mu(e,t.getBody(),o).bind((function(e){return $u(t,n,e)}))}))}}(n,e,t,r.parents))})),t},setCaretPosition:ju},Gu=function(e,t){return function(n){return Cl(t,n).map((function(t){return Vu.setCaretPosition(e,t),!0})).getOr(!1)}},Yu=function(e,t,n,r){var o=e.getBody(),i=w.curry(gc.isInlineTarget,e);e.undoManager.ignore((function(){var a,s,u;e.selection.setRng((a=n,s=r,(u=document.createRange()).setStart(a.container(),a.offset()),u.setEnd(s.container(),s.offset()),u)),e.execCommand("Delete"),Mu(i,o,ga.fromRangeStart(e.selection.getRng())).map(zu).map(Gu(e,t))})),e.nodeChanged()},Xu=function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=ga.fromRangeStart(e.selection.getRng());return function(e,t,n,r){var o,i,a=(o=e.getBody(),i=r.container(),Ha.getParentBlock(i,o)||o),s=w.curry(gc.isInlineTarget,e),u=Mu(s,a,r);return u.bind((function(e){return n?e.fold(w.constant(E.some(zu(e))),E.none,w.constant(E.some(Iu(e))),E.none):e.fold(E.none,w.constant(E.some(Iu(e))),E.none,w.constant(E.some(zu(e))))})).map(Gu(e,t)).getOrThunk((function(){var o=Ks.navigate(n,a,r),i=o.bind((function(e){return Mu(s,a,e)}));return u.isSome()&&i.isSome()?gc.findRootInline(s,a,r).map((function(t){return r=t,!!ws([Ks.firstPositionIn(r),Ks.lastPositionIn(r)],(function(e,t){var n=gc.normalizePosition(!0,e),o=gc.normalizePosition(!1,t);return Ks.nextPosition(r,n).map((function(e){return e.isEqual(o)})).getOr(!0)})).getOr(!0)&&(tl(e,n,rr.fromDom(t)),!0);var r})).getOr(!1):i.bind((function(i){return o.map((function(o){return n?Yu(e,t,r,o):Yu(e,t,o,r),!0}))})).getOr(!1)}))}(e,t,n,r)}return!1},Ju=Dr("start","end"),Ku=Dr("rng","table","cells"),Zu=Wc([{removeTable:["element"]},{emptyCells:["cells"]}]),Qu=function(e,t){return function(e,t,n){return tc(Br.is,xc,e,t,n)}(rr.fromDom(e),"td,th",t)},ed=function(e,t){return yc(e,"table",t)},nd=function(e){return!1===Lr.eq(e.start(),e.end())},rd=function(e,t){var n,r,o=w.curry(Lr.eq,e);return(n=t,r=o,ws([Qu(n.startContainer,r),Qu(n.endContainer,r)],Ju).filter(nd)).map((function(e){return function(e,t){return(n=e,r=t,ed(n.start(),r).bind((function(e){return ed(n.end(),r).bind((function(t){return Lr.eq(e,t)?E.some(e):E.none()}))}))).bind((function(t){var n=Fs(t,"td,th");return Ku(e,t,n)}));var n,r}(e,o)}))},od=function(e,t){return G(e,(function(e){return Lr.eq(e,t)}))},id=function(e){return(t=e,ws([od(t.cells(),t.rng().start()),od(t.cells(),t.rng().end())],(function(e,n){return t.cells().slice(e,n+1)}))).bind((function(t){var n=e.cells();return t.length===n.length?Zu.removeTable(e.table()):Zu.emptyCells(t)}));var t},ad=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},sd=ad,cd=function(e){return j(function(e){return Y(e,(function(e){var t=Ki(e);return t?[rr.fromDom(t)]:[]}))}(e),vo.isTableCell)},ld=function(e,t){var n=function(e){return Fs(e,"td[data-mce-selected],th[data-mce-selected]")}(t),r=cd(e);return n.length>0?n:r},ud=ld,fd=function(e,t){return H(t,js),e.selection.setCursorLocation(t[0].dom(),0),!0},pd=function(e,t){return tl(e,!1,t),!0},md=function(e,t,n,r){return gd(t,r).fold((function(){return r=e,function(e,t){return rd(e,t).map(id)}(t,n).map((function(e){return e.fold(w.curry(pd,r),w.curry(fd,r))}));var r}),(function(t){return bd(e,t)})).getOr(!1)},hd=function(e,t){return V(Mc(t,e),vo.isTableCell)},gd=function(e,t){return V(Mc(t,e),(function(e){return"caption"===ur.name(e)}))},bd=function(e,t){return js(t),e.selection.setCursorLocation(t.dom(),0),E.some(!0)},vd=function(e,t,n){var r=rr.fromDom(e.getBody());return gd(r,n).fold((function(){return function(e,t,n,r){var o=ga.fromRangeStart(e.selection.getRng());return hd(n,r).bind((function(r){return Tc(r)?bd(e,r):(i=e,a=n,s=t,u=r,c=o,Ks.navigate(s,i.getBody(),c).bind((function(e){return hd(a,rr.fromDom(e.getNode())).map((function(e){return!1===Lr.eq(e,u)}))})));var i,a,s,u,c}))}(e,t,r,n)}),(function(n){return i=t,a=r,s=n,u=ga.fromRangeStart((o=e).selection.getRng()),Tc(s)?bd(o,s):function(e,t,n,r,o){return Ks.navigate(n,e.getBody(),o).bind((function(i){return u=r,c=n,l=o,d=i,Ks.firstPositionIn(u.dom()).bind((function(e){return Ks.lastPositionIn(u.dom()).map((function(t){return c?l.isEqual(e)&&d.isEqual(t):l.isEqual(t)&&d.isEqual(e)}))})).getOr(!0)?bd(e,r):(a=r,gd(t,rr.fromDom(i.getNode())).map((function(e){return!1===Lr.eq(e,a)})));var a,u,c,l,d})).or(E.some(!0))}(o,a,i,s,u);var o,i,a,s,u})).getOr(!1)},xd=function(e,t){var n,r,o,i,a,s=rr.fromDom(e.selection.getStart(!0));return e.selection.isCollapsed()?vd(e,t,s):(r=s,o=rr.fromDom((n=e).getBody()),i=n.selection.getRng(),0!==(a=function(e){return ld(sd(e.selection.getSel()),rr.fromDom(e.getBody()))}(n)).length?fd(n,a):md(n,o,i,r))},yd=function(e,t){e.getDoc().execCommand(t,!1,null)},wd=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},kd=Dr("container","offset"),Cd=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},_d=function(e,t,n){return Cd(e,t,(function(e){return e.nodeName===n}))},Sd=function(e){return e&&"TABLE"===e.nodeName},Ed=function(e,t,n){for(var r=new mo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Ro.isBr(t))return!0},Td=function(e,t,n,r,o){var i,a,s,u,c,l,d=e.getRoot(),f=e.schema.getNonEmptyElements();if(s=e.getParent(o.parentNode,e.isBlock)||d,r&&Ro.isBr(o)&&t&&e.isEmpty(s))return E.some(kd(o.parentNode,e.nodeIndex(o)));for(i=new mo(o,s);u=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(u)||(l=d,ki(c=u)&&!1===Cd(c,l,pu)))return E.none();if(Ro.isText(u)&&u.nodeValue.length>0)return!1===_d(u,d,"A")?E.some(kd(u,r?u.nodeValue.length:0)):E.none();if(e.isBlock(u)||f[u.nodeName.toLowerCase()])return E.none();a=u}return n&&a?E.some(kd(a,0)):E.none()},Nd=function(e,t,n,r){var o,i,a,s,u,c,l,d,f,p=e.getRoot(),g=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=Ro.isElement(o)&&i===o.childNodes.length,u=e.schema.getNonEmptyElements(),c=n,ki(o))return E.none();if(Ro.isElement(o)&&i>o.childNodes.length-1&&(c=!1),Ro.isDocument(o)&&(o=p,i=0),o===p){if(c&&(s=o.childNodes[i>0?i-1:0])){if(ki(s))return E.none();if(u[s.nodeName]||Sd(s))return E.none()}if(o.hasChildNodes()){if(i=Math.min(!c&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Ro.isText(o)&&l?o.data.length:0,!t&&o===p.lastChild&&Sd(o))return E.none();if(function(e,t){for(;t&&t!==e;){if(Ro.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(p,o)||ki(o))return E.none();if(o.hasChildNodes()&&!1===Sd(o)){s=o,a=new mo(o,p);do{if(Ro.isContentEditableFalse(s)||ki(s)){g=!1;break}if(Ro.isText(s)&&s.nodeValue.length>0){i=c?0:s.nodeValue.length,o=s,g=!0;break}if(u[s.nodeName.toLowerCase()]&&(!(d=s)||!/^(TD|TH|CAPTION)$/.test(d.nodeName))){i=e.nodeIndex(s),o=s.parentNode,"IMG"!==s.nodeName&&"PRE"!==s.nodeName||c||i++,g=!0;break}}while(s=c?a.next():a.prev())}}}return t&&(Ro.isText(o)&&0===i&&Td(e,l,t,!0,o).each((function(e){o=e.container(),i=e.offset(),g=!0})),Ro.isElement(o)&&((s=o.childNodes[i])||(s=o.childNodes[i-1]),!s||!Ro.isBr(s)||("A",(f=s).previousSibling&&"A"===f.previousSibling.nodeName)||Ed(e,s,!1)||Ed(e,s,!0)||Td(e,l,t,!0,s).each((function(e){o=e.container(),i=e.offset(),g=!0})))),c&&!t&&Ro.isText(o)&&i===o.nodeValue.length&&Td(e,l,t,!1,o).each((function(e){o=e.container(),i=e.offset(),g=!0})),g?E.some(kd(o,i)):E.none()},Rd=function(e,t){var n=t.collapsed,r=t.cloneRange();return Nd(e,n,!0,r).each((function(e){r.setStart(e.container(),e.offset())})),n||Nd(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),wd(t,r)?E.none():E.some(r)},Ad=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},Dd=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},td=function(e,t){var n=rr.fromTag("br");Ps(rr.fromDom(t),n),e.undoManager.add()},Pd=function(e,t){Od(e.getBody(),t)||Os(rr.fromDom(t),rr.fromTag("br"));var n=rr.fromTag("br");Os(rr.fromDom(t),n),Ad(e.dom,e.selection,n.dom()),Dd(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Od=function(e,t){return n=ga.after(t),!!Ro.isBr(n.getNode())||Ks.nextPosition(e,ga.after(t)).map((function(e){return Ro.isBr(e.getNode())})).getOr(!1);var n},Md=function(e){return e&&"A"===e.nodeName&&"href"in e},Bd=function(e){return e.fold(w.constant(!1),Md,Md,w.constant(!1))},Id=function(e,t){t.fold(w.noop,w.curry(td,e),w.curry(Pd,e),w.noop)},zd=function(e,t){var n,r,o,i=(n=e,r=w.curry(gc.isInlineTarget,n),o=ga.fromRangeStart(n.selection.getRng()),Mu(r,n.getBody(),o).filter(Bd));i.isSome()?i.each(w.curry(Id,e)):function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Rd(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=i.getParent(u,i.isBlock),d=l?i.getParent(l.parentNode,i.isBlock):null,f=d?d.nodeName.toUpperCase():"",m=t&&t.ctrlKey;"LI"!==f||m||(l=d),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(e,t,n){for(var r,o=new mo(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(e.schema,u,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),a.insertNode(n),Ad(i,o,n),Dd(i,o,n,r),e.undoManager.add()}(e,t)},Ld=Wc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Hd=(Ld.before,Ld.on,Ld.after,function(e){return e.fold(w.identity,w.identity,w.identity)}),Fd=Wc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jd=Dr("start","soffset","finish","foffset"),dd={domRange:Fd.domRange,relative:Fd.relative,exact:Fd.exact,exactFromRange:function(e){return Fd.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:jd,getWin:function(e){var t=e.match({domRange:function(e){return rr.fromDom(e.startContainer)},relative:function(e,t){return Hd(e)},exact:function(e,t,n,r){return e}});return Vr(t)}},Ud=er.detect().browser,Wd=function(e,t){var n=ur.isText(t)?function(e){return Hs.get(e)}(t).length:Qr(t).length+1;return e>n?n:e<0?0:e},$d=function(e){return dd.range(e.start(),Wd(e.soffset(),e.start()),e.finish(),Wd(e.foffset(),e.finish()))},qd=function(e,t){return Lr.contains(e,t)||Lr.eq(e,t)},Vd=function(e){return function(t){return qd(e,t.start())&&qd(e,t.finish())}},Gd=function(e){return dd.range(rr.fromDom(e.startContainer),e.startOffset,rr.fromDom(e.endContainer),e.endOffset)},Yd=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?E.from(t.getRangeAt(0)):E.none()).map(Gd)}(Vr(e).dom()).filter(Vd(e))},Xd=function(e,t){return E.from(t).filter(Vd(e)).map($d)},Jd=function(e){var t=document.createRange();return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),E.some(t)},Kd=function(e){return(e.bookmark?e.bookmark:E.none()).bind(w.curry(Xd,rr.fromDom(e.getBody()))).bind(Jd)},Zd=function(e){var t=function(e){return!0===e.inline||Ud.isIE()}(e)?Yd(rr.fromDom(e.getBody())):E.none();e.bookmark=t.isSome()?t:e.bookmark},Qd=Kd,ef=Gt.each,tf=Gt.extend,nf=Gt.map,rf=Gt.inArray,of=Gt.explode,af=function(e){var t,n,r,o,i={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",(function(){t=e.dom,n=e.selection,a=e.settings,r=e.formatter}));var s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(e){}return!1}},u=function(e,t){t=t||"exec",ef(e,(function(e,n){ef(n.toLowerCase().split(","),(function(n){i[t][n]=e}))}))};tf(this,{execCommand:function(t,n,r,o){var a,s,u=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?function(e){Kd(e).each((function(t){e.selection.setRng(t)}))}(e):e.focus(),(o=e.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(s=t.toLowerCase(),a=i.exec[s])return a(s,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(ef(e.plugins,(function(o){if(o.execCommand&&o.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),u=!0,!1})),u)return u;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{u=e.getDoc().execCommand(t,n,r)}catch(e){}return!!u&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},queryCommandState:s,queryCommandValue:function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(e){}}},queryCommandSupported:function(t){if(t=t.toLowerCase(),i.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(e){}return!1},addCommands:u,addCommand:function(t,n,r){t=t.toLowerCase(),i.exec[t]=function(t,o,i,a){return n.call(r||e,o,i,a)}},addQueryStateHandler:function(t,n,r){t=t.toLowerCase(),i.state[t]=function(){return n.call(r||e)}},addQueryValueHandler:function(t,n,r){t=t.toLowerCase(),i.value[t]=function(){return n.call(r||e)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!i.exec[e]}});var c=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},l=function(e){return r.match(e)},d=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},f=function(e){o=n.getBookmark(e)},m=function(){n.moveToBookmark(o)};u({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{c(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ne.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),ef("left,center,right,justify".split(","),(function(e){t!==e&&r.remove("align"+e)})),"none"!==t&&d("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var r,o;c(e),(r=t.getParent(n.getNode(),"ol,ul"))&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(f(),t.split(o,r),m()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){d(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){d(e,n)},FontSize:function(e,t,n){var r,o;n>=1&&n<=7&&(o=of(a.font_size_style_values),n=(r=of(a.font_size_classes))?r[n-1]||n:o[n-1]||n),d(e,n)},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){d("blockquote")},FormatBlock:function(e,t,n){return d(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent({cleanup:!0}),{cleanup:!0}),n.moveToBookmark(t)},mceRemoveNode:function(t,r,o){var i=o||n.getNode();i!==e.getBody()&&(f(),e.dom.remove(i,!0),m())},mceSelectNodeDepth:function(r,o,i){var a=0;t.getParent(n.getNode(),(function(e){if(1===e.nodeType&&a++===i)return n.select(e),!1}),e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){!function(e,t){var n,r,o="string"!=typeof(n=t)?(r=Gt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};ec(e,o.content,o.details)}(e,r)},mceInsertRawHTML:function(t,r,o){n.setContent("tiny_mce_marker"),e.setContent(e.getContent().replace(/tiny_mce_marker/g,(function(){return o})))},mceToggleFormat:function(e,t,n){d(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(o){var i,u,l;i=a.indentation,u=/[a-z%]+$/i.exec(i),i=parseInt(i,10),s("InsertUnorderedList")||s("InsertOrderedList")?c(o):(a.forced_root_block||t.getParent(n.getNode(),t.isBlock)||r.apply("div"),ef(n.getSelectedBlocks(),(function(n){if("false"!==t.getContentEditable(n)&&"LI"!==n.nodeName){var r=e.getParam("indent_use_margin",!1)?"margin":"padding";r="TABLE"===n.nodeName?"margin":r,r+="rtl"===t.getStyle(n,"direction",!0)?"Right":"Left","outdent"===o?(l=Math.max(0,parseInt(n.style[r]||0,10)-i),t.setStyle(n,r,l?l+u:"")):(l=parseInt(n.style[r]||0,10)+i+u,t.setStyle(n,r,l))}})))},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,o,i){var a;"string"==typeof i&&(i={href:i}),a=t.getParent(n.getNode(),"a"),i.href=i.href.replace(" ","%20"),a&&i.href||r.remove("link"),i.href&&r.apply("link",i,a)},selectAll:function(){var e=t.getParent(n.getStart(),Ro.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},delete:function(){!function(e){nl(e,!1)||Xu(e,!1)||Hc(e,!1)||xd(e)||Uc(e)||(yd(e,"Delete"),vc(e))}(e)},forwardDelete:function(){!function(e){nl(e,!0)||Xu(e,!0)||Hc(e,!0)||xd(e)||Uc(e)||yd(e,"ForwardDelete")}(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return zd(e,r),!0}}),u({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var o="align"+e.substring(7),i=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),a=nf(i,(function(e){return!!r.matchNode(e,o)}));return-1!==rf(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return l(e)},mceBlockQuote:function(){return l("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return s("InsertUnorderedList")||s("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),u({"FontSize,FontName":function(e){var r,o=0;return(r=t.getParent(n.getNode(),"span"))&&(o="fontsize"===e?r.style.fontSize:r.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),o}},"value"),u({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})},sf=Gt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),cf=function(e){var t,n,r=this,o={},i=function(){return!1},a=function(){return!0};t=(e=e||{}).scope||r,n=e.toggleEvent||i;var s=function(e,t,a,c){var u,l,d;if(!1===t&&(t=i),t)for(t={func:t},c&&Gt.extend(t,c),d=(l=e.toLowerCase().split(" ")).length;d--;)e=l[d],(u=o[e])||(u=o[e]=[],n(e,!0)),a?u.unshift(t):u.push(t);return r},u=function(e,t){var i,a,s,u,c;if(e)for(i=(u=e.toLowerCase().split(" ")).length;i--;){if(e=u[i],a=o[e],!e){for(s in o)n(s,!1),delete o[s];return r}if(a){if(t)for(c=a.length;c--;)a[c].func===t&&(a=a.slice(0,c).concat(a.slice(c+1)),o[e]=a);else a.length=0;a.length||(n(e,!1),delete o[e])}}else{for(e in o)n(e,!1);o={}}return r};r.fire=function(n,r){var s,c,l,d;if(n=n.toLowerCase(),(r=r||{}).type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=a},r.stopPropagation=function(){r.isPropagationStopped=a},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=a},r.isDefaultPrevented=i,r.isPropagationStopped=i,r.isImmediatePropagationStopped=i),e.beforeFire&&e.beforeFire(r),s=o[n])for(c=0,l=s.length;c<l;c++){if((d=s[c]).once&&u(n,d.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===d.func.call(t,r))return r.preventDefault(),r}return r},r.on=s,r.off=u,r.once=function(e,t,n){return s(e,t,n,{once:!0})},r.has=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)}};cf.isNative=function(e){return!!sf[e.toLowerCase()]};var lf,uf=function(e){return e._eventDispatcher||(e._eventDispatcher=new cf({scope:e,toggleEvent:function(t,n){cf.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},df={fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=uf(this).fire(e,t,n),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return uf(this).on(e,t,n)},off:function(e,t){return uf(this).off(e,t)},once:function(e,t){return uf(this).once(e,t)},hasEventListeners:function(e){return uf(this).has(e)}},ff=ii.DOM,pf=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=ff.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},mf=function(e,t){var n,r,o=function(e){return!e.hidden&&!e.readonly};if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=pf(e,t),e.settings.event_root){if(lf||(lf={},e.editorManager.on("removeEditor",(function(){var t;if(!e.editorManager.activeEditor&&lf){for(t in lf)e.dom.unbind(pf(e,t));lf=null}}))),lf[t])return;r=function(n){for(var r=n.target,i=e.editorManager.get(),a=i.length;a--;){var s=i[a].getBody();(s===r||ff.isChildOf(r,s))&&o(i[a])&&i[a].fire(t,n)}},lf[t]=r,ff.bind(n,t,r)}else r=function(n){o(e)&&e.fire(t,n)},ff.bind(n,t,r),e.delegates[t]=r},hf={bindPendingEventDelegates:function(){var e=this;Gt.each(e._pendingNativeEvents,(function(t){mf(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?mf(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(pf(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(pf(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}},gf=hf=Gt.extend({},df,hf),bf=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},vf=function(e,t){var n,r,o;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(r=(n=e).getBody(),o=function(e){n.dom.getParents(e.target,"a").length>0&&e.preventDefault()},n.dom.bind(r,"click",o),{unbind:function(){n.dom.unbind(r,"click",o)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,bf(e,"StyleWithCSS",!1),bf(e,"enableInlineTableEditing",!1),bf(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},xf=Gt.each,yf=Gt.explode,wf={f9:120,f10:121,f11:122},kf=Gt.makeMap("alt,ctrl,shift,meta,access"),Cf=function(e){var t={},n=[],r=function(e){var t,n,r={};for(n in xf(yf(e,"+"),(function(e){e in kf?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=wf[e]||e.toUpperCase().charCodeAt(0))})),t=[r.keyCode],kf)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,Ne.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Ne.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},o=function(t,n,o,i){var a;return(a=Gt.map(yf(t,">"),r))[a.length-1]=Gt.extend(a[a.length-1],{func:o,scope:i||e}),Gt.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},i=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},a=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",(function(e){var r,o;((o=e).altKey||o.ctrlKey||o.metaKey||"keydown"===(r=e).type&&r.keyCode>=112&&r.keyCode<=123)&&!e.isDefaultPrevented()&&(xf(t,(function(t){if(i(e,t))return n=t.subpatterns.slice(0),"keydown"===e.type&&a(t),!0})),i(e,n[0])&&(1===n.length&&"keydown"===e.type&&a(n[0]),n.shift()))})),this.add=function(n,r,i,a){var s;return s=i,"string"==typeof i?i=function(){e.execCommand(s,!1,null)}:Gt.isArray(s)&&(i=function(){e.execCommand(s[0],s[1],s[2])}),xf(yf(Gt.trim(n.toLowerCase())),(function(e){var n=o(e,r,i,a);t[n.id]=n})),!0},this.remove=function(e){var n=o(e);return!!t[n.id]&&(delete t[n.id],!0)}},_f=Gt.each,Sf=function(e,t,n){var r,o,i,a,s=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in a)continue;s++}if(0===s)break}return r},em=function(e,t){var n=this,r=function(){};e=e||{},n.schema=t=t||Xo(),!1!==e.fix_self_closing&&(e.fix_self_closing=!0),_f("comment cdata text start end pi doctype".split(" "),(function(t){t&&(n[t]=e[t]||r)})),n.parse=function(n){var r,o,i,a,s,u,c,l,d,f,m,p,g,h,v,x,b,y,w,k,C,_,S,E,T,N,R,A,D,P=this,O=0,M=[],B=0,I=Ho.decode,z=Gt.makeMap("src,href,data,background,formaction,poster"),L=/((java|vb)script|mhtml):/i,H=/^data:/i,F=function(e){var t,n;for(t=M.length;t--&&M[t].name!==e;);if(t>=0){for(n=M.length-1;n>=t;n--)(e=M[n]).valid&&P.end(e.name);M.length=t}},j=function(t,n,r,o,i){var s,u,c;if(r=(n=n.toLowerCase())in m?n:I(r||o||i||""),g&&!l&&0==(0===(c=n).indexOf("data-")||0===c.indexOf("aria-"))){if(!(s=y[n])&&w){for(u=w.length;u--&&!(s=w[u]).pattern.test(n););-1===u&&(s=null)}if(!s)return;if(s.validValues&&!(r in s.validValues))return}if(z[n]&&!e.allow_script_urls){var d=r.replace(/[\s\u0000-\u001F]+/g,"");try{d=decodeURIComponent(d)}catch(e){d=unescape(d)}if(L.test(d))return;if(!e.allow_html_data_urls&&H.test(d)&&!/^data:image\//i.test(d))return}l&&(n in z||0===n.indexOf("on"))||(a.map[n]=r,a.push({name:n,value:r}))};for(T=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,f=t.getShortEndedElements(),E=e.self_closing_elements||t.getSelfClosingElements(),m=t.getBoolAttrs(),g=e.validate,d=e.remove_internals,D=e.fix_self_closing,R=t.getSpecialElements(),S=n+">";r=T.exec(S);){if(O<r.index&&P.text(I(n.substr(O,r.index-O))),o=r[6])":"===(o=o.toLowerCase()).charAt(0)&&(o=o.substr(1)),F(o);else if(o=r[7]){if(r.index+r[0].length>n.length){P.text(I(n.substr(r.index))),O=r.index+r[0].length;continue}if(":"===(o=o.toLowerCase()).charAt(0)&&(o=o.substr(1)),p=o in f,D&&E[o]&&M.length>0&&M[M.length-1].name===o&&F(o),!g||(h=t.getElementRule(o))){if(v=!0,g&&(y=h.attributes,w=h.attributePatterns),(b=r[8])?((l=-1!==b.indexOf("data-mce-type"))&&d&&(v=!1),(a=[]).map={},b.replace(N,j)):(a=[]).map={},g&&!l){if(k=h.attributesRequired,C=h.attributesDefault,_=h.attributesForced,h.removeEmptyAttrs&&!a.length&&(v=!1),_)for(s=_.length;s--;)c=(x=_[s]).name,"{$uid}"===(A=x.value)&&(A="mce_"+B++),a.map[c]=A,a.push({name:c,value:A});if(C)for(s=C.length;s--;)(c=(x=C[s]).name)in a.map||("{$uid}"===(A=x.value)&&(A="mce_"+B++),a.map[c]=A,a.push({name:c,value:A}));if(k){for(s=k.length;s--&&!(k[s]in a.map););-1===s&&(v=!1)}if(x=a.map["data-mce-bogus"]){if("all"===x){O=Sf(t,n,T.lastIndex),T.lastIndex=O;continue}v=!1}}v&&P.start(o,a,p)}else v=!1;if(i=R[o]){i.lastIndex=O=r.index+r[0].length,(r=i.exec(n))?(v&&(u=n.substr(O,r.index-O)),O=r.index+r[0].length):(u=n.substr(O),O=n.length),v&&(u.length>0&&P.text(u,!0),P.end(o)),T.lastIndex=O;continue}p||(b&&b.indexOf("/")===b.length-1?v&&P.end(o):M.push({name:o,valid:v}))}else(o=r[1])?(">"===o.charAt(0)&&(o=" "+o),e.allow_conditional_comments||"[if"!==o.substr(0,3).toLowerCase()||(o=" "+o),P.comment(o)):(o=r[2])?P.cdata(o.replace(/<!--|-->/g,"")):(o=r[3])?P.doctype(o):(o=r[4])&&P.pi(o,r[5]);O=r.index+r[0].length}for(O<n.length&&P.text(I(n.substr(O))),s=M.length-1;s>=0;s--)(o=M[s]).valid&&P.end(o.name)}};em.findEndTag=Sf;var Ef,Tf=function(e,t){var n,r,o,i,a,s,u,c,l=t,d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,f=e.schema;for(s=e.getTempAttrs(),u=l,c=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),l=u.replace(c,""),a=f.getShortEndedElements();i=d.exec(l);)r=d.lastIndex,o=i[0].length,n=a[i[1]]?r:em.findEndTag(f,l,r),l=l.substring(0,r-o)+l.substring(n),d.lastIndex=r-o;return l},Nf=Tf,Rf=function(e){var t=qr(e).dom();return e.dom()===t.activeElement},Af=function(e){return function(e){var t=void 0!==e?e.dom():document;return E.from(t.activeElement).map(rr.fromDom)}(qr(e)).filter((function(t){return e.dom().contains(t.dom())}))},Df=function(e,t){(function(e,t){return(n=t,n.collapsed?E.from(Zi(n.startContainer,n.startOffset)).map(rr.fromDom):E.none()).bind((function(t){return vo.isTableSection(t)?E.some(t):!1===Lr.contains(e,t)?E.some(e):E.none()}));var n})(rr.fromDom(e.getBody()),t).bind((function(e){return Ks.firstPositionIn(e.dom())})).fold((function(){e.selection.normalize()}),(function(t){e.selection.setRng(t.toRange())}))},Pf=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Of=function(e){return e.inline?function(e){var t,n=e.getBody();return n&&(t=rr.fromDom(n),Rf(t)||Af(t).isSome())}(e):(t=e).iframeElement&&Rf(rr.fromDom(t.iframeElement));var t},Mf=function(e){e.editorManager.setActive(e)},Bf=Of,If=function(e,t){return t.dom()[e]},zf=function(e,t){return parseInt(Ar(t,e),10)},Lf=w.curry(If,"clientWidth"),Hf=w.curry(If,"clientHeight"),Ff=w.curry(zf,"margin-top"),jf=w.curry(zf,"margin-left"),Uf=function(e,t,n){var r,o,i,a,s,u,c,l,d,f,m=rr.fromDom(e.getBody()),p=e.inline?m:Gr(m),g=(r=e.inline,i=t,a=n,s=(o=p).dom().getBoundingClientRect(),{x:i-(r?s.left+o.dom().clientLeft+jf(o):0),y:a-(r?s.top+o.dom().clientTop+Ff(o):0)});return c=g.x,l=g.y,d=Lf(u=p),f=Hf(u),c>=0&&l>=0&&c<=d&&l<=f},Wf=function(e){var t,n=[],r=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},o=function(){n.length>0&&r().reposition(n)},i=function(e){G(n,(function(t){return t===e})).each((function(e){n.splice(e,1)}))},a=function(t){if(!e.removed&&function(e){var t;return(t=e.inline?e.getBody():e.getContentAreaContainer(),E.from(t).map(rr.fromDom)).map((function(e){return Lr.contains(qr(e),e)})).getOr(!1)}(e))return V(n,(function(e){return n=r().getArgs(e),o=t,!(n.type!==o.type||n.text!==o.text||n.progressBar||n.timeout||o.progressBar||o.timeout);var n,o})).getOrThunk((function(){e.editorManager.setActive(e);var a,s=r().open(t,(function(){i(s),o()}));return a=s,n.push(a),o(),s}))};return(t=e).on("SkinLoaded",(function(){var e=t.settings.service_message;e&&a({text:e,type:"warning",timeout:0,icon:""})})),t.on("ResizeEditor ResizeWindow",(function(){Oe.requestAnimationFrame(o)})),t.on("remove",(function(){H(n,(function(e){r().close(e)}))})),{open:a,close:function(){E.from(n[0]).each((function(e){r().close(e),i(e),o()}))},getNotifications:function(){return n}}},$f=function(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:t,confirm:t,close:t,getParams:t,setParams:t}},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(n){var r;t.push(n),r=n,e.fire("OpenWindow",{win:r})},i=function(n){G(t,(function(e){return e===n})).each((function(r){var o;t.splice(r,1),o=n,e.fire("CloseWindow",{win:o}),0===t.length&&e.focus()}))},a=function(){return E.from(t[t.length-1])};return e.on("remove",(function(){H(t.slice(0),(function(e){n().close(e)}))})),{windows:t,open:function(t,r){e.editorManager.setActive(e),Zd(e);var a=n().open(t,r,i);return o(a),a},alert:function(e,t,a){var s=n().alert(e,r(a||this,t),i);o(s)},confirm:function(e,t,a){var s=n().confirm(e,r(a||this,t),i);o(s)},close:function(){a().each((function(e){n().close(e),i(e)}))},getParams:function(){return a().map(n().getParams).getOr(null)},setParams:function(e){a().each((function(t){n().setParams(t,e)}))},getWindows:function(){return t}}},qf=pi.PluginManager,Vf=function(e,t){e.notificationManager.open({type:"error",text:t})},Gf=function(e,t){e._skinLoaded?Vf(e,t):e.on("SkinLoaded",(function(){Vf(e,t)}))},Yf=function(e,t){Gf(e,function(e,t){var n=function(e,t){for(var n in qf.urls)if(qf.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t}(e,t))},Xf=Gf,Jf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},Kf=pi.PluginManager,Zf=pi.ThemeManager,Qf=function(){return new(re("XMLHttpRequest"))},ep=function(e,t){return new(re("Blob"))(e,t)},tp=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},np=function(e){return new Re((function(t){var n,r,o;e=tp(e);try{n=function(e){return re("atob")(e)}(e.data)}catch(e){return void t(new ep([]))}for(r=new function(e){return new(re("Uint8Array"))(e)}(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);t(new ep([r],{type:e.type}))}))},op=function(e){return 0===e.indexOf("blob:")?(t=e,new Re((function(e,n){var r=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new Qf;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===this.status?e(this.response):r()},o.onerror=r,o.send()}catch(e){r()}}))):0===e.indexOf("data:")?np(e):null;var t},ip=tp,ap=0,sp=function(e){return(e||"blobid")+ap++},cp=function(e,t){var n={};return{findAll:function(r,o){var i,a,s;return o||(o=na.constant(!0)),i=Wt.filter((s=r)?s.getElementsByTagName("img"):[],(function(t){var n=t.src;return!!Ne.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===Ne.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n):0===n.indexOf("data:")&&o(t))})),a=Wt.map(i,(function(e){var r;return n[e.src]?new Re((function(t){n[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))})):(r=new Re((function(n,r){var o,i,a,s,u,c;o=t,a=n,s=r,0!==(i=e).src.indexOf("blob:")?(u=ip(i.src).data,(c=o.findFirst((function(e){return e.base64()===u})))?a({image:i,blobInfo:c}):op(i.src).then((function(e){c=o.create(sp(),e,u),o.add(c),a({image:i,blobInfo:c})}),(function(e){s(e)}))):(c=o.getByUri(i.src))?a({image:i,blobInfo:c}):op(i.src).then((function(e){(function(e){return new Re((function(t){var n=new function(){return new(re("FileReader"))};n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))})(e).then((function(t){u=ip(t).data,c=o.create(sp(),e,u),o.add(c),a({image:i,blobInfo:c})}))}),(function(e){s(e)}))})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t})),n[e.src]=r,r)})),Re.all(a)}}},lp=0,up=function(e){return e+lp+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t},dp=function(e){var t,n,r,c,i,a,s,u,l,d,f=(t=[],n=na.constant,r=function(e){var t,r,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||up("blobid"),r=e.name||t,{id:n(t),name:n(r),filename:n(r+"."+(o=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[o.toLowerCase()]||"dat")),blob:n(e.blob),base64:n(e.base64),blobUri:n(e.blobUri||q(e.blob)),uri:n(e.uri)}},{create:function(e,t,n,c){return r("object"==o(e)?e:{id:e,name:c,blob:t,base64:n})},add:function(e){c(e.id())||t.push(e)},get:c=function(e){return i((function(t){return t.id()===e}))},getByUri:function(e){return i((function(t){return t.blobUri()===e}))},findFirst:i=function(e){return Wt.filter(t,e)[0]},removeByUri:function(e){t=Wt.filter(t,(function(t){return t.blobUri()!==e||(ie(t.blobUri()),!1)}))},destroy:function(){Wt.each(t,(function(e){ie(e.blobUri())})),t=[]}}),m=e.settings,h=(u={},l=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:d=function(e){return e in u},getResultUri:function(e){var t=u[e];return t?t.resultUri:null},isPending:function(e){return!!d(e)&&1===u[e].status},isUploaded:function(e){return!!d(e)&&2===u[e].status},markPending:function(e){u[e]=l(1,null)},markUploaded:function(e,t){u[e]=l(2,t)},removeFailed:function(e){delete u[e]},destroy:function(){u={}}}),p=function(t){return function(n){return e.selection?t(n):[]}},g=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},v=function(e,t,n){return e=g(e,'src="'+t+'"','src="'+n+'"'),g(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},x=function(t,n){Wt.each(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=Wt.map(e.fragments,(function(e){return v(e,t,n)})):e.content=v(e.content,t,n)}))},y=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},w=function(t){return a||(a=function(e,t){var n={},r=function(e,n,r,o){var i,a;(i=new Qf).open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,o,a;i.status<200||i.status>=300?r("HTTP Error: "+i.status):(e=JSON.parse(i.responseText))&&"string"==typeof e.location?n((o=t.basePath,a=e.location,o?o.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a)):r("Invalid JSON: "+i.responseText)},(a=new FormData).append("file",e.blob(),e.filename()),i.send(a)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},i=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},a=function(e,t){Gt.each(n[e],(function(e){e(t)})),delete n[e]},s=function(r,c){return r=Gt.grep(r,(function(t){return!e.isUploaded(t.blobUri())})),Re.all(Gt.map(r,(function(r){return e.isPending(r.blobUri())?(f=r.blobUri(),new Re((function(e){n[f]=n[f]||[],n[f].push(e)}))):(u=r,l=t.handler,d=c,e.markPending(u.blobUri()),new Re((function(t){var n;try{var r=function(){n&&n.close()};l(u,(function(n){r(),e.markUploaded(u.blobUri(),n),a(u.blobUri(),o(u,n)),t(o(u,n))}),(function(n){r(),e.removeFailed(u.blobUri()),a(u.blobUri(),i(u,n)),t(i(u,n))}),(function(e){e<0||e>100||(n||(n=d()),n.progressBar.value(e))}))}catch(e){t(i(u,e.message))}})));var u,l,d,f})))};return t=Gt.extend({credentials:!1,handler:r},t),{upload:function(e,n){return t.url||t.handler!==r?s(e,n):new Re((function(e){e([])}))}}}(h,{url:m.images_upload_url,basePath:m.images_upload_base_path,credentials:m.images_upload_credentials,handler:m.images_upload_handler})),_().then(p((function(n){var r;return r=Wt.map(n,(function(e){return e.blobInfo})),a.upload(r,y).then(p((function(r){var o=Wt.map(r,(function(t,r){var o=n[r].image;return t.status&&!1!==e.settings.images_replace_blob_uris?function(t,n){f.removeByUri(t.src),x(t.src,n),e.$(t).attr({src:m.images_reuse_filename?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}(o,t.url):t.error&&function(e,t){Gf(e,"Failed to upload image: "+t)}(e,t.error),{element:o,status:t.status}}));return t&&t(o),o})))})))},k=function(e){if(!1!==m.automatic_uploads)return w(e)},C=function(e){return!m.images_dataimg_filter||m.images_dataimg_filter(e)},_=function(){return s||(s=cp(h,f)),s.findAll(e.getBody(),C).then(p((function(t){return t=Wt.filter(t,(function(t){return"string"!=typeof t||(Xf(e,t),!1)})),Wt.each(t,(function(e){x(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},S=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=h.getResultUri(n);if(r)return'src="'+r+'"';var o=f.getByUri(n);return o||(o=Wt.reduce(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':t}))};return e.on("setContent",(function(){!1!==e.settings.automatic_uploads?k():_()})),e.on("RawSaveContent",(function(e){e.content=S(e.content)})),e.on("getContent",(function(e){e.source_view||"raw"===e.format||(e.content=S(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){Wt.each(e,(function(e){var t=e.attr("src");if(!f.getByUri(t)){var n=h.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:f,uploadImages:w,uploadImagesAuto:k,scanForImages:_,destroy:function(){f.destroy(),h.destroy(),s=a=null}}},fp=function(e,t){return e.hasOwnProperty(t.nodeName)},pp=function(e){var t,n,r,o,i,a,s,u,c,l,d,f=e.settings,m=e.dom,p=e.selection,g=e.schema,h=g.getBlockElements(),v=p.getStart(),x=e.getBody();if(d=f.forced_root_block,v&&Ro.isElement(v)&&d&&(l=x.nodeName.toLowerCase(),g.isValidChild(l,d.toLowerCase())&&(b=h,y=x,!J(Oc(rr.fromDom(v),rr.fromDom(y)),(function(e){return fp(b,e.dom())}))))){var b,y,w,k;for(n=(t=p.getRng()).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,c=Bf(e),v=x.firstChild;v;)if(w=h,k=v,Ro.isText(k)||Ro.isElement(k)&&!fp(w,k)&&!Ts(k)){if(Ro.isText(v)&&0===v.nodeValue.length){s=v,v=v.nextSibling,m.remove(s);continue}a||(a=m.create(d,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),u=!0),s=v,v=v.nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;u&&c&&(t.setStart(n,r),t.setEnd(o,i),p.setRng(t),e.nodeChanged())}},mp=function(e){var t,n=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",(function(n){var r,o;o={startContainer:(r=e.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&wd(o,t)||e.fire("SelectionChange"),t=o})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!Ne.range&&e.selection.isCollapsed()||!function(t){var r,o;if((o=e.$(t).parentsUntil(e.getBody()).add(t)).length===n.length){for(r=o.length;r>=0&&o[r]===n[r];r--);if(-1===r)return n=o,!0}return n=o,!1}(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("MouseUp",(function(t){t.isDefaultPrevented()||("IMG"===e.selection.getNode().nodeName?Oe.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())})),this.nodeChanged=function(t){var n,r,o,i=e.selection;e.initialized&&i&&!e.settings.disable_nodechange&&!e.readonly&&(o=e.getBody(),(n=i.getStart(!0)||o).ownerDocument===e.getDoc()&&e.dom.isChildOf(n,o)||(n=o),r=[],e.dom.getParent(n,(function(e){if(e===o)return!0;r.push(e)})),(t=t||{}).element=n,t.parents=r,e.fire("NodeChange",t))}},hp=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},rp=function(e,t){return n=(s=e).inline?hp(s.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=hp(e.getContentAreaContainer()),r=(i=(o=e).getBody(),a=o.getDoc().documentElement,s={left:i.scrollLeft,top:i.scrollTop},u={left:i.scrollLeft||a.scrollLeft,top:i.scrollTop||a.scrollTop},o.inline?s:u);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}var o,i,a,s,u;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,s},gp=Ro.isContentEditableFalse,bp=Ro.isContentEditableTrue,vp=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},xp=function(e){e.dragging=!1,e.element=null,vp(e.ghost)},yp=function(e){var t,n,r,o,i,a,s,u,c,l,d,f={};t=ii.DOM,a=document,n=function(e,t){return function(n){if(0===n.button){var r=Wt.find(t.dom.getParents(n.target),na.or(gp,bp));if(s=t.getBody(),gp(u=r)&&u!==s){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(t,r,e.width,e.height)}}var s,u}}(f,e),s=f,u=e,c=Oe.throttle((function(e,t){u._selectionOverrides.hideFakeCaret(),u.selection.placeCaretAt(e,t)}),0),r=function(e){var t,n,r,o,i,a,l,d,f,m,p,g,h=Math.max(Math.abs(e.screenX-s.screenX),Math.abs(e.screenY-s.screenY));if(s.element&&!s.dragging&&h>10){if(u.fire("dragstart",{target:s.element}).isDefaultPrevented())return;s.dragging=!0,u.focus()}if(s.dragging){var v=(p=s,{pageX:(g=rp(u,e)).pageX-p.relX,pageY:g.pageY+5});f=s.ghost,m=u.getBody(),f.parentNode!==m&&m.appendChild(f),t=s.ghost,n=v,r=s.width,o=s.height,i=s.maxX,a=s.maxY,l=0,d=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+r>i&&(l=n.pageX+r-i),n.pageY+o>a&&(d=n.pageY+o-a),t.style.width=r-l+"px",t.style.height=o-d+"px",c(e.clientX,e.clientY)}},o=function(e,t){return function(n){if(e.dragging&&(s=t,(u=3===(l=t.selection.getSel().getRangeAt(0).startContainer).nodeType?l.parentNode:l)!==(c=e.element)&&!s.dom.isChildOf(u,c)&&!gp(u))){var r=((a=e.element.cloneNode(!0)).removeAttribute("data-mce-selected"),a),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact((function(){vp(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})))}var a,s,u,c,l;xp(e)}}(f,e),l=f,d=e,i=function(){xp(l),l.dragging&&d.fire("dragend")},e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",(function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i)}))},wp=Ro.isContentEditableFalse,kp=function e(t){var n=function(e){return Wt.map(e,(function(e){return(e=Gi(e)).node=t,e}))};if(Wt.isArray(t))return Wt.reduce(t,(function(t,n){return t.concat(e(n))}),[]);if(Ro.isElement(t))return n(t.getClientRects());if(Ro.isText(t)){var r=t.ownerDocument.createRange();return r.setStart(t,0),r.setEnd(t,t.data.length),n(r.getClientRects())}},Cp=Ro.isContentEditableFalse,_p=Ha.findNode,Sp=na.curry,Ep=function(e,t){return Math.abs(e.left-t)},Tp=function(e,t){return Math.abs(e.right-t)},Np=function(e,t){var n=function(e,t){return e>=t.left&&e<=t.right};return Wt.reduce(e,(function(e,r){var o,i;return o=Math.min(Ep(e,t),Tp(e,t)),i=Math.min(Ep(r,t),Tp(r,t)),n(t,r)?r:n(t,e)?e:i===o&&Cp(r.node)||i<o?r:e}))},Rp=function(e,t,n,r){for(;r=_p(r,e,Wi,t);)if(n(r))return},Ap=Np,Dp=function(e,t,n){var r,o,i,a,s;return r=kp((i=e,Wt.filter(Wt.toArray(i.getElementsByTagName("*")),Cp))),r=Wt.filter(r,(function(e){return n>=e.top&&n<=e.bottom})),(o=Np(r,t))&&(o=Np(function(e,t){var n=[],r=function(e,r){var o;return o=Wt.filter(kp(r),(function(n){return!e(n,t)})),n=n.concat(o),0===o.length};return n.push(t),Rp(-1,e,Sp(r,Xi),t.node),Rp(1,e,Sp(r,Ji),t.node),n}(e,o),t))&&Cp(o.node)?(s=t,{node:(a=o).node,before:Ep(a,s)<Tp(a,s)}):null},Pp=function(e,t,n){return!n.collapsed&&$(n.getClientRects(),(function(n,r){return n||function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}(r,e,t)}),!1)},Op=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var r=arguments;null===n&&(n=setTimeout((function(){e.apply(null,r),n=null,r=null}),t))}}},Mp=Ro.isContentEditableTrue,Bp=Ro.isContentEditableFalse,Ip=function(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)},zp=function(e,t){var n,r;return t=Ha.normalizeRange(1,e.getBody(),t),n=ga.fromRangeStart(t),Bp(n.getNode())?Ip(1,e,n.getNode(),!n.isAtEnd()):Bp(n.getNode(!0))?Ip(1,e,n.getNode(!0),!1):(r=e.dom.getParent(n.getNode(),na.or(Bp,Mp)),Bp(r)?Ip(1,e,r,!1):null)},Lp=Ip,Hp=function(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((r=(n=t).ownerDocument.createRange()).selectNode(n),r)},Fp=zp,jp=function(e,t){return t&&t.collapsed&&zp(e,t)||t},Up={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Ne.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Wp=Ro.isContentEditableTrue,$p=Ro.isContentEditableFalse,qp=Ha.isAfterContentEditableFalse,Vp=Ha.isBeforeContentEditableFalse,Gp=function(e){var t,n,r,o=e.getBody(),i=function(e,t){var n,r,o=null,i=function(){!function(){var t,n,r,o,i;for(t=pn("*[contentEditable=false]",e),o=0;o<t.length;o++)r=(n=t[o]).previousSibling,Pi(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,Di(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(),r&&(yl.remove(r),r=null),o&&(o.remove(),o=null),clearInterval(n)},a=function(){n=Oe.setInterval((function(){e.ownerDocument.activeElement===e?pn("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):pn("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")}),500)};return{show:function(n,s){var u,c,l,d,f,m,p,g,h,v,x;return i(),(l=s)&&/^(TD|TH)$/i.test(l.nodeName)?null:t(s)?(r=Ri("p",s,n),f=n,x=Yi((d=s).getBoundingClientRect(),f),"BODY"===e.tagName?(m=e.ownerDocument.documentElement,p=e.scrollLeft||m.scrollLeft,g=e.scrollTop||m.scrollTop):(v=e.getBoundingClientRect(),p=e.scrollLeft-v.left,g=e.scrollTop-v.top),x.left+=p,x.right+=p,x.top+=g,x.bottom+=g,x.width=1,(h=d.offsetWidth-d.clientWidth)>0&&(f&&(h*=-1),x.left+=h,x.right+=h),u=x,pn(r).css("top",u.top),o=pn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(e),n&&o.addClass("mce-visual-caret-before"),a(),(c=s.ownerDocument.createRange()).setStart(r,0),c.setEnd(r,0),c):(r=Ei(s,n),c=s.ownerDocument.createRange(),wp(r.nextSibling)?(c.setStart(r,0),c.setEnd(r,0)):(c.setStart(r,1),c.setEnd(r,1)),c)},hide:i,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){Oe.clearInterval(n)}}}(e.getBody(),(function(t){return e.dom.isBlock(t)})),a="sel-"+e.dom.uniqueId(),s=function(t){t&&e.selection.setRng(t)},u=function(){return e.selection.getRng()},c=function(t,n){e.selection.scrollIntoView(t,n)},l=function(t,n,r){return e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(c(n,-1===t),i.show(r,n))},d=function(e,t){return t=Ha.normalizeRange(e,o,t),-1===e?ga.fromRangeStart(t):ga.fromRangeEnd(t)},f=function(e){return ki(e)||Di(e)||Pi(e)},m=function(e){return f(e.startContainer)||f(e.endContainer)},p=function(n,r){var o,i,s,u,c,f,p,g,v,x,b=e.$,y=e.dom;if(!n)return null;if(n.collapsed){if(!m(n))if(!1===r){if(g=d(-1,n),$p(g.getNode(!0)))return l(-1,g.getNode(!0),!1);if($p(g.getNode()))return l(-1,g.getNode(),!g.isAtEnd())}else{if(g=d(1,n),$p(g.getNode()))return l(1,g.getNode(),!g.isAtEnd());if($p(g.getNode(!0)))return l(1,g.getNode(!0),!1)}return null}return u=n.startContainer,c=n.startOffset,f=n.endOffset,3===u.nodeType&&0===c&&$p(u.parentNode)&&(u=u.parentNode,c=y.nodeIndex(u),u=u.parentNode),1!==u.nodeType?null:(f===c+1&&(o=u.childNodes[c]),$p(o)?(v=x=o.cloneNode(!0),(p=e.fire("ObjectSelected",{target:o,targetClone:v})).isDefaultPrevented()?null:(i=wc(rr.fromDom(e.getBody()),"#"+a).fold((function(){return b([])}),(function(e){return b([e.dom()])})),v=p.targetClone,0===i.length&&(i=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",a)).appendTo(e.getBody()),n=e.dom.createRng(),v===x&&Ne.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(v),n.setStartAfter(i[0].firstChild.firstChild),n.setEndAfter(v)):(i.empty().append(" ").append(v).append(" "),n.setStart(i[0].firstChild,1),n.setEnd(i[0].lastChild,0)),i.css({top:y.getPos(o,e.getBody()).y}),i[0].focus(),(s=e.selection.getSel()).removeAllRanges(),s.addRange(n),H(Fs(rr.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Er(e,"data-mce-selected")})),o.setAttribute("data-mce-selected","1"),t=o,h(),n)):null)},g=function(){t&&(t.removeAttribute("data-mce-selected"),wc(rr.fromDom(e.getBody()),"#"+a).each(Ls),t=null)},h=function(){i.hide()};return Ne.ceFalse&&(function(){var n=function(t){for(var n=e.getBody();t&&t!==n;){if(Wp(t)||$p(t))return t;t=t.parentNode}return null};e.on("mouseup",(function(t){var n=u();n.collapsed&&Uf(e,t.clientX,t.clientY)&&s(Fp(e,n))})),e.on("click",(function(t){var r;(r=n(t.target))&&($p(r)&&(t.preventDefault(),e.focus()),Wp(r)&&e.dom.isChildOf(r,e.selection.getNode())&&g())})),e.on("blur NewBlock",(function(){g()}));var r,i;i=!1,(r=e).on("touchstart",(function(){i=!1})),r.on("touchmove",(function(){i=!0})),r.on("touchend",(function(e){var t=n(e.target);$p(t)&&(i||(e.preventDefault(),p(Hp(r,t))))})),e.on("mousedown",(function(t){var r;if(!1!==Uf(e,t.clientX,t.clientY))if(r=n(t.target))$p(r)?(t.preventDefault(),p(Hp(e,r))):(g(),Wp(r)&&t.shiftKey||Pp(t.clientX,t.clientY,e.selection.getRng())||e.selection.placeCaretAt(t.clientX,t.clientY));else{g(),h();var i=Dp(o,t.clientX,t.clientY);i&&(function(t,n){var r,o,i=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(n,e.dom.isBlock);return i&&(r=i,o=a,!(e.dom.getParent(r,e.dom.isBlock)===e.dom.getParent(o,e.dom.isBlock)))&&function(e){var t=Za(e);if(!e.firstChild)return!1;var n=ga.before(e.firstChild),r=t.next(n);return r&&!Vp(r)&&!qp(r)}(i)}(t.target,i.node)||(t.preventDefault(),e.getBody().focus(),s(l(1,i.node,i.before))))}})),e.on("keypress",(function(t){Up.modifierPressed(t)||(t.keyCode,$p(e.selection.getNode())&&t.preventDefault())})),e.on("getSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}})),e.on("setSelectionRange",(function(e){var t;(t=p(e.range,e.forward))&&(e.range=t)})),e.on("AfterSetSelectionRange",(function(t){var n,r=t.range;m(r)||h(),n=r.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||g()})),e.on("copy",(function(t){var n,r=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Ne.ie){var o=(n=e.dom.get(a))?n.getElementsByTagName("*")[0]:n;o&&(t.preventDefault(),r.clearData(),r.setData("text/html",o.outerHTML),r.setData("text/plain",o.outerText))}})),function(e){var t;yp(e),(t=e).on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(gp(n)||gp(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(e),function(e){var t=Op((function(){if(!e.removed){var t=jp(e,e.selection.getRng());e.selection.setRng(t)}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))}(e)}(),r=".mce-content-body",(n=e.contentStyles).push(i.getCss()),n.push(r+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+r+" *[contentEditable=false] {cursor: default;}"+r+" *[contentEditable=true] {cursor: text;}")),{showCaret:l,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Si(e),s(u()),c(e[0]))},hideFakeCaret:h,destroy:function(){i.destroy(),t=null}}},Yp=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?Ho.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},Xp=function(e,t){var n,r,o;return n=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&e[a]===t[a-r];)++a;return{start:n,end:a,diag:r}},s=function(n,i,c,u){var l=i-n,d=u-c;if(0===l||0===d)return null;var f,m,h,p,g,v=l-d,x=d+l,y=(x%2==0?x:x+1)/2;for(r[1+y]=n,o[1+y]=i+1,f=0;f<=y;++f){for(m=-f;m<=f;m+=2){for(h=m+y,m===-f||m!==f&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,g=(p=r[h])-n+c-m;p<i&&g<u&&e[p]===t[g];)r[h]=++p,++g;if(v%2!=0&&v-f<=m&&m<=v+f&&o[h-v]<=r[h])return a(o[h-v],m+n-c,i,u)}for(m=v-f;m<=v+f;m+=2){for(h=m+y-v,m===v-f||m!==v+f&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],g=(p=o[h]-1)-n+c-m;p>=n&&g>=c&&e[p]===t[g];)o[h]=p--,g--;if(v%2==0&&-f<=m&&m<=f&&o[h]<=r[h+v])return a(o[h],m+n-c,i,u)}}},u=[];return function i(n,r,o,a,u){var c=s(n,r,o,a);if(null===c||c.start===r&&c.diag===r-a||c.end===n&&c.diag===n-o)for(var l=n,d=o;l<r||d<a;)l<r&&d<a&&e[l]===t[d]?(u.push([0,e[l]]),++l,++d):r-n>a-o?(u.push([2,e[l]]),++l):(u.push([1,t[d]]),++d);else{i(n,c.start,o,c.start-c.diag,u);for(var f=c.start;f<c.end;++f)u.push([0,e[f]]);i(c.end,r,c.end-c.diag,a,u)}}(0,e.length,0,t.length,u),u}(Wt.map(t.childNodes,Yp),e),r=t,o=0,Wt.each(n,(function(e){0===e[0]?o++:1===e[0]?(function(e,t,n){var r=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)}(r,e[1],o),o++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,o)})),t},Jp=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Kp=function(e){var t,n,r;return t=function(e){return Wt.filter(Wt.map(e.childNodes,Yp),(function(e){return e.length>0}))}(e.getBody()),-1!==(n=(r=Y(t,(function(t){var n=Nf(e.serializer,t);return n.length>0?[n]:[]}))).join("")).indexOf("</iframe>")?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(r):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(n)},Zp=function(e,t,n){"fragmented"===t.type?Xp(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Qp=function(e,t){return!!e&&!!t&&Jp(e)===Jp(t)},tm=function(e){var t,n,r=this,o=0,i=[],a=0,s=function(){return 0===a},u=function(e){s()&&(r.typing=e)},c=function(t){e.setDirty(t)},l=function(e){u(!1),r.add({},e)},d=function(){r.typing&&(u(!1),r.add())};return e.on("init",(function(){r.add()})),e.on("BeforeExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(d(),r.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)})),e.on("ObjectResizeStart Cut",(function(){r.beforeChange()})),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",(function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(l(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&!1===Qp(Kp(e),i[0])&&(!1===e.isDirty()&&(c(!0),e.fire("change",{level:i[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))})),e.on("KeyDown",(function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(t>=33&&t<=36||t>=37&&t<=40||45===t)r.typing&&l(e);else{var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||o||(r.beforeChange(),u(!0),r.add({},e),n=!0)}})),e.on("MouseDown",(function(e){r.typing&&l(e)})),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()})),r={data:i,typing:!1,beforeChange:function(){s()&&(t=ys.getUndoBookmark(e.selection))},add:function(n,r){var a,u,l,d=e.settings;if(l=Kp(e),n=n||{},n=Gt.extend(n,l),!1===s()||e.removed)return null;if(u=i[o],e.fire("BeforeAddUndo",{level:n,lastLevel:u,originalEvent:r}).isDefaultPrevented())return null;if(u&&Qp(u,n))return null;if(i[o]&&(i[o].beforeBookmark=t),d.custom_undo_redo_levels&&i.length>d.custom_undo_redo_levels){for(a=0;a<i.length-1;a++)i[a]=i[a+1];i.length--,o=i.length}n.bookmark=ys.getUndoBookmark(e.selection),o<i.length-1&&(i.length=o+1),i.push(n),o=i.length-1;var f={level:n,lastLevel:u,originalEvent:r};return e.fire("AddUndo",f),o>0&&(c(!0),e.fire("change",f)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,u(!1)),o>0&&(t=i[--o],Zp(e,t,!0),c(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<i.length-1&&(t=i[++o],Zp(e,t,!1),c(!0),e.fire("redo",{level:t})),t},clear:function(){i=[],o=0,r.typing=!1,r.data=i,e.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&i[0]&&!Qp(Kp(e),i[0])},hasRedo:function(){return o<i.length-1&&!r.typing},transact:function(e){return d(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,s;r.transact(t)&&(s=i[o].bookmark,a=i[o-1],Zp(e,a,!0),r.transact(n)&&(i[o-1].beforeBookmark=s))}}},nm={},rm=Wt.filter,om=Wt.each;Ef=function(e){var t,n,r=e.selection.getRng();t=Ro.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),om(rm(rm(n,t),(function(e){return t(e.previousSibling)&&-1!==Wt.indexOf(n,e.previousSibling)})),(function(e){var t,n;t=e.previousSibling,pn(n=e).remove(),pn(t).append("<br><br>").append(n.childNodes)})))},nm["pre"]||(nm.pre=[]),nm.pre.push(Ef);var im=Gt.each,am=function(e,t,n){var r,o,i,a,s,u,c,l=t.startContainer,d=t.startOffset,f=t.endContainer,m=t.endOffset;if((c=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)im(c,(function(e){n([e])}));else{var p,g,h,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===l&&d>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&e.length>0&&t===f&&3===t.nodeType&&e.splice(e.length-1,1),e},x=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},b=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},y=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(s=(a=e).parentNode;a&&a!==t;a=s)s=a.parentNode,(u=x(a===e?a:a[o],o)).length&&(r||u.reverse(),n(v(u)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(g=m,--g>(h=(p=f).childNodes).length-1?g=h.length-1:g<0&&(g=0),f=h[g]||p),l===f)return n(v([l]));for(r=e.findCommonAncestor(l,f),a=l;a;a=a.parentNode){if(a===f)return y(l,r,!0);if(a===r)break}for(a=f;a;a=a.parentNode){if(a===l)return y(f,r);if(a===r)break}o=b(l,r)||l,i=b(f,r)||f,y(l,o,!0),(u=x(o===l?o:o.nextSibling,"nextSibling",i===f?i.nextSibling:i)).length&&n(v(u)),y(f,i)}},sm=/^(src|href|style)$/,cm=Gt.each,lm=Ol,um=function(e){return/^(TH|TD)$/.test(e.nodeName)},dm=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],Ro.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>i?i:o]),Ro.isText(r)&&n&&o>=r.nodeValue.length&&(r=new mo(r,e.getBody()).next()||r),Ro.isText(r)&&!n&&0===o&&(r=new mo(r,e.getBody()).prev()||r),r},fm=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},pm=function(e,t,n,r){return!(t=Nl(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},mm=function(e,t,n,r,o){var i,a,s,u,c,l,d,f,m,p,g,h,v,x,b,y=e.dom;if(l=y,!(lm(d=r,(f=t).inline)||lm(d,f.block)||(f.selector?Ro.isElement(d)&&l.is(d,f.selector):void 0)||(u=r,c=t,c.links&&"A"===u.tagName)))return!1;if("all"!==t.remove)for(cm(t.styles,(function(e,i){e=Ml(y,Pl(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||lm(Bl(y,o,i),e))&&y.setStyle(r,i,""),s=1})),s&&""===y.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),cm(t.attributes,(function(e,t){var i;if(e=Pl(e,n),"number"==typeof t&&(t=e,o=0),!o||lm(y.getAttrib(o,t),e)){if("class"===t&&(e=y.getAttrib(r,t))&&(i="",cm(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i))return void y.setAttrib(r,t,i);"class"===t&&r.removeAttribute("className"),sm.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}})),cm(t.classes,(function(e){e=Pl(e,n),o&&!y.hasClass(o,e)||y.removeClass(r,e)})),a=y.getAttribs(r),i=0;i<a.length;i++){var w=a[i].nodeName;if(0!==w.indexOf("_")&&0!==w.indexOf("data-"))return!1}return"none"!==t.remove?(m=e,g=t,v=(p=r).parentNode,x=m.dom,b=m.settings.forced_root_block,g.block&&(b?v===x.getRoot()&&(g.list_block&&lm(p,g.list_block)||cm(Gt.grep(p.childNodes),(function(e){Al(m,b,e.nodeName.toLowerCase())?h?h.appendChild(e):(h=fm(x,e,b),x.setAttribs(h,m.settings.forced_root_block_attrs)):h=0}))):x.isBlock(p)&&!x.isBlock(v)&&(pm(x,p,!1)||pm(x,p.firstChild,!0,1)||p.insertBefore(x.create("br"),p.firstChild),pm(x,p,!0)||pm(x,p.lastChild,!1,1)||p.appendChild(x.create("br")))),g.selector&&g.inline&&!lm(g.inline,p)||x.remove(p,1),!0):void 0},hm=mm,gm=function(e,t,n,r,o){var i,a,s=e.formatter.get(t),u=s[0],c=!0,l=e.dom,d=e.selection,f=function(r){var i,a,c,l,d,f,m=(a=r,c=t,l=n,d=o,cm(zl((i=e).dom,a.parentNode).reverse(),(function(e){var t;f||"_start"===e.id||"_end"===e.id||(t=tu.matchNode(i,e,c,l,d))&&!1!==t.split&&(f=e)})),f);return function(e,t,n,r,o,i,a,s){var u,c,l,d,f,m,p=e.dom;if(n){for(m=n.parentNode,u=r.parentNode;u&&u!==m;u=u.parentNode){for(c=p.clone(u,!1),f=0;f<t.length;f++)if(mm(e,t[f],s,c,c)){c=0;break}c&&(l&&c.appendChild(l),d||(d=c),l=c)}a.mixed&&p.isBlock(n)||(r=p.split(n,r)),l&&(o.parentNode.insertBefore(l,o),d.appendChild(o))}return r}(e,s,m,r,r,0,u,n)},m=function t(r){var o,d,i,a,f;if(Ro.isElement(r)&&l.getContentEditable(r)&&(a=c,c="true"===l.getContentEditable(r),f=!0),o=Gt.grep(r.childNodes),c&&!f)for(d=0,i=s.length;d<i&&!mm(e,s[d],n,r,r);d++);if(u.deep&&o.length){for(d=0,i=o.length;d<i;d++)t(o[d]);f&&(c=a)}},p=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Ts(n)&&(n=n[e?"firstChild":"lastChild"]),Ro.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},g=function(t){var n,r,o=t.commonAncestorContainer;if(t=Xl(e,t,s,!0),u.split){if((n=dm(e,t,!0))!==(r=dm(e,t))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&um(r)&&r.firstChild&&(r=r.firstChild||r),l.isChildOf(n,r)&&n!==r&&!l.isBlock(r)&&!um(n)&&!um(r))return n=fm(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),f(n),void(n=p(!0));n=fm(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=fm(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),f(n),f(r),n=p(!0),r=p()}else n=r=f(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}am(l,t,(function(t){cm(t,(function(t){m(t),Ro.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===Il(l,t.parentNode)&&mm(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)}))}))};if(r)r.nodeType?((a=l.createRng()).setStartBefore(r),a.setEndAfter(r),g(a)):g(r);else if("false"!==l.getContentEditable(d.getNode()))d.isCollapsed()&&u.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,r){var o,i,a,s,u,c,l,d=e.dom,f=e.selection,m=[],p=f.getRng();for(o=p.startContainer,i=p.startOffset,u=o,3===o.nodeType&&(i!==o.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(tu.matchNode(e,u,t,n,r)){c=u;break}u.nextSibling&&(s=!0),m.push(u),u=u.parentNode}if(c)if(s){a=f.getBookmark(),p.collapse(!0);var g=Xl(e,p,e.formatter.get(t),!0);g=ru.split(g),e.formatter.remove(t,n,g),f.moveToBookmark(a)}else{l=su(e.getBody(),c);var h=au(!1).dom(),v=fu(m,h);uu(e,h,l||c),cu(d,f,l,!1),f.setCursorLocation(v,1),d.isEmpty(c)&&d.remove(c)}}(e,t,n,o):(i=d.getBookmark(),g(d.getRng()),d.moveToBookmark(i),u.inline&&tu.match(e,t,n,d.getStart())&&Tl(l,d,d.getRng()),e.nodeChanged());else{r=d.getNode();for(var h=0,v=s.length;h<v&&(!s[h].ceFalseOverride||!mm(e,s[h],n,r,r));h++);}},bm=Gt.each,vm=function(e){return e&&1===e.nodeType&&!Ts(e)&&!pu(e)&&!Ro.isBogus(e)},xm=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Ts(n))return n}return e},ym=function(e,t,n){var r,o,i=new Rs(e);if(t&&n&&(t=xm(t,"previousSibling"),n=xm(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),Gt.each(Gt.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},wm=function e(t,n,r){bm(t.childNodes,(function(t){vm(t)&&(n(t)&&r(t),t.hasChildNodes()&&e(t,n,r))}))},km=function(e,t){return w.curry((function(t,n){return!(!n||!Bl(e,n,t))}),t)},Cm=function(e,t,n){return w.curry((function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),_m(e,r)}),t,n)},_m=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Sm=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=Il(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Em=Gt.each,Tm=function e(t,n,r,o){var c,i,a=t.formatter.get(n),s=a[0],u=!o&&t.selection.isCollapsed(),l=t.dom,d=t.selection,f=function(e,t){if(t=t||s,e){if(t.onformat&&t.onformat(e,t,r,o),Em(t.styles,(function(t,n){l.setStyle(e,n,Pl(t,r))})),t.styles){var n=l.getAttrib(e,"style");n&&e.setAttribute("data-mce-style",n)}Em(t.attributes,(function(t,n){l.setAttrib(e,n,Pl(t,r))})),Em(t.classes,(function(t){t=Pl(t,r),l.hasClass(e,t)||l.addClass(e,t)}))}},m=function(e,t){var n=!1;return!!s.selector&&(Em(e,(function(e){if(!("collapsed"in e)||e.collapsed===u)return l.is(t,e.selector)&&!pu(t)?(f(t,e),n=!0,!1):void 0})),n)},h=function(e,o,i,u){var c,l,d=[],p=!0;c=s.inline||s.block,l=e.create(c),f(l),am(e,o,(function(o){var i;Em(o,(function g(o){var h,v,x,b;if(b=p,h=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&e.getContentEditable(o)&&(b=p,p="true"===e.getContentEditable(o),x=!0),Ol(h,"br"))return i=0,void(s.block&&e.remove(o));if(s.wrapper&&tu.matchNode(t,o,n,r))i=0;else{if(p&&!x&&s.block&&!s.wrapper&&Rl(t,h)&&Al(t,v,c))return o=e.rename(o,c),f(o),d.push(o),void(i=0);if(s.selector){var y=m(a,o);if(!s.inline||y)return void(i=0)}!p||x||!Al(t,c,h)||!Al(t,v,c)||!u&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||pu(o)||s.inline&&e.isBlock(o)?(i=0,Em(Gt.grep(o.childNodes),g),x&&(p=b),i=0):(i||(i=e.clone(l,!1),o.parentNode.insertBefore(i,o),d.push(i)),i.appendChild(o))}}))})),!0===s.links&&Em(d,(function(e){!function e(t){"A"===t.nodeName&&f(t,s),Em(Gt.grep(t.childNodes),e)}(e)})),Em(d,(function(o){var i,u,c,l,m;u=0,Em(o.childNodes,(function(e){Dl(e)||Ts(e)||u++})),i=u,!(d.length>1)&&e.isBlock(o)||0!==i?(s.inline||s.wrapper)&&(s.exact||1!==i||((l=function(e){var t=!1;return Em(e.childNodes,(function(e){if((n=e)&&1===n.nodeType&&!Ts(n)&&!pu(n)&&!Ro.isBogus(n))return t=e,!1;var n})),t}(c=o))&&!Ts(l)&&tu.matchName(e,l,s)&&(m=e.clone(l,!1),f(m),e.replace(m,c,!0),e.remove(l,1)),o=m||c),function(e,t,n,r){bm(t,(function(t){bm(e.dom.select(t.inline,r),(function(r){vm(r)&&hm(e,t,n,r,t.exact?r:null)})),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";bm(e.select(r,n),(function(n){vm(n)&&bm(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}}(e.dom,t,r)}))}(t,a,r,o),function(e,t,n,r,o){tu.matchNode(e,o.parentNode,n,r)&&hm(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,(function(i){if(tu.matchNode(e,i,n,r))return hm(e,t,r,o),!0}))}(t,s,n,r,o),function(e,t,n,r){t.styles&&t.styles.backgroundColor&&wm(r,km(e,"fontSize"),Cm(e,"backgroundColor",Pl(t.styles.backgroundColor,n)))}(e,s,r,o),function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(wm(r,km(e,"fontSize"),Cm(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))}(e,s,0,o),function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=ym(e,Nl(r),r),r=ym(e,r,Nl(r,!0)))}(e,s,0,o)):e.remove(o,1)}))};if("false"!==l.getContentEditable(d.getNode())){if(s){if(o)o.nodeType?m(a,o)||((i=l.createRng()).setStartBefore(o),i.setEndAfter(o),h(l,Xl(t,i,a),0,!0)):h(l,o,0,!0);else if(u&&s.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var r,o,i,a,s,u,c=e.selection;a=(r=c.getRng(!0)).startOffset,u=r.startContainer.nodeValue,(o=su(e.getBody(),c.getStart()))&&(i=dl(o));var l,d,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&a>0&&a<u.length&&f.test(u.charAt(a))&&f.test(u.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=Xl(e,r,e.formatter.get(t)),r=ru.split(r),e.formatter.apply(t,n,r),c.moveToBookmark(s)):(o&&i.nodeValue===ul||(l=e.getDoc(),d=au(!0).dom(),i=(o=l.importNode(d,!0)).firstChild,r.insertNode(o),a=1),e.formatter.apply(t,n,o),c.setCursorLocation(i,a))}(t,n,r);else{var p=t.selection.getNode();t.settings.forced_root_block||!a[0].defaultBlock||l.getParent(p,l.isBlock)||e(t,a[0].defaultBlock),t.selection.setRng(Zs(t.selection.getRng())),c=d.getBookmark(),h(l,Xl(t,d.getRng(),a)),s.styles&&function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(Gt.walk(r,w.curry(Sm,e),"childNodes"),Sm(e,r))}(l,s,0,p),d.moveToBookmark(c),Tl(l,d,d.getRng()),t.nodeChanged()}!function(e,t){om(nm[e],(function(e){e(t)}))}(n,t)}}else{o=d.getNode();for(var g=0,v=a.length;g<v;g++)if(a[g].ceFalseOverride&&l.is(o,a[g].selector))return void f(o,a[g])}},Nm=Gt.each,Rm=function(e,t,n,r,o){var i,a,s,u,c,l,d,f;null===t.get()&&(a=e,s={},(i=t).set({}),a.on("NodeChange",(function(e){var t=zl(a.dom,e.element),n={};t=Gt.grep(t,(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")})),Nm(i.get(),(function(e,r){Nm(t,(function(o){return a.formatter.matchNode(o,r,{},e.similar)?(s[r]||(Nm(e,(function(e){e(!0,{node:o,format:r,parents:t})})),s[r]=e),n[r]=e,!1):!tu.matchesUnInheritedFormatSelector(a,o,r)&&void 0}))})),Nm(s,(function(r,o){n[o]||(delete s[o],Nm(r,(function(n){n(!1,{node:e.element,format:o,parents:t})})))}))}))),c=n,l=r,d=o,f=(u=t).get(),Nm(c.split(","),(function(e){f[e]||(f[e]=[],f[e].similar=d),f[e].push(l)})),u.set(f)},Am=Gt.each,Dm=ii.DOM,Pm=function(e,t){var n,r,o,i=t&&t.schema||Xo({}),a=function(e){var t,n,o;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,n=t=Dm.create(r.name),(o=r).classes.length&&Dm.addClass(n,o.classes.join(" ")),Dm.setAttribs(n,o.attrs),t};return e&&e.length?(r=e[0],n=a(r),(o=Dm.create("div")).appendChild(function s(e,t,n){var r,o,u,c,l,d,f,m,p=t.length>0&&t[0],g=p&&p.name;if(l=g,d="string"!=typeof(c=e)?c.nodeName.toLowerCase():c,u=!(!(m=(f=i.getElementRule(d))&&f.parentsRequired)||!m.length)&&(l&&-1!==Gt.inArray(m,l)?l:m[0]))g===u?(o=t[0],t=t.slice(1)):o=u;else if(p)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=a(o)).appendChild(e),n&&(r||(r=Dm.create("div")).appendChild(e),Gt.each(n,(function(t){var n=a(t);r.insertBefore(n,e)}))),s(r,t,o&&o.siblings)}(n,e.slice(1),r.siblings)),o):""},Om=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Gt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Gt.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},Mm=function(e,t){var n,r,o,i,a,s,u="";if(!1===(s=e.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(n=t.block||t.inline||"span",(i=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Gt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=Gt.map(e.split(/(?:~\+|~|\+)/),Om),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]}(t.selector)).length?(i[0].name||(i[0].name=n),n=t.selector,r=Pm(i,e)):r=Pm([n],e),o=Dm.select(n,r)[0]||r.firstChild,Am(t.styles,(function(e,t){(e=c(e))&&Dm.setStyle(o,t,e)})),Am(t.attributes,(function(e,t){(e=c(e))&&Dm.setAttrib(o,t,e)})),Am(t.classes,(function(e){e=c(e),Dm.hasClass(o,e)||Dm.addClass(o,e)})),e.fire("PreviewFormats"),Dm.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=Dm.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Am(s.split(" "),(function(t){var n=Dm.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Dm.getStyle(e.getBody(),t,!0),"#ffffff"===Dm.toHex(n).toLowerCase())||"color"===t&&"#000000"===Dm.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=(n=parseFloat(n)/(/%$/.test(n)?100:1))*a+"px"}"border"===t&&n&&(u+="padding:0 2px;"),u+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),Dm.remove(r),u)},Bm=function(e,t,n,r,o){var i=t.get(n);!tu.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?Tm(e,n,r,o):gm(e,n,r,o)},Im=function(e){var t,n,r,o=(n={},(r=function(e,t){e&&("string"!=typeof e?Gt.each(e,(function(e,t){r(t,e)})):(t=t.length?t:[t],Gt.each(t,(function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),n[e]=t))})(function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){Gt.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Gt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t}((t=e).dom)),r(t.settings.formats),{get:function(e){return e?n[e]:n},register:r,unregister:function(e){return e&&n[e]&&delete n[e],n}}),i=Lu(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),function(e){var t=e.dom,n=e.selection,r=e.getBody();e.on("mouseup keydown",(function(e){var o,i,a,s;o=r,i=t,a=n,s=e.keyCode,lu(o,i,a,null,!1),8===s&&a.isCollapsed()&&a.getStart().innerHTML===ul&&lu(o,i,a,su(o,a.getStart())),37!==s&&39!==s||lu(o,i,a,su(o,a.getStart()))}))}(e),{get:o.get,register:o.register,unregister:o.unregister,apply:w.curry(Tm,e),remove:w.curry(gm,e),toggle:w.curry(Bm,e,o),match:w.curry(tu.match,e),matchAll:w.curry(tu.matchAll,e),matchNode:w.curry(tu.matchNode,e),canApply:w.curry(tu.canApply,e),formatChanged:w.curry(Rm,e,i),getCssText:w.curry(Mm,e)}},zm=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)i.hasOwnProperty(a)&&(r[a]=e(r[a],i[a]))}return r}},Lm=zm((function(e,t){return tr.isObject(e)&&tr.isObject(t)?Lm(e,t):t})),Hm=zm((function(e,t){return t})),Fm={deepMerge:Lm,merge:Hm},jm=function(e,t){var n,r=Jo();t.convert_fonts_to_spans&&function(e,t,n){e.addNodeFilter("font",(function(e){H(e,(function(e){var r,i=t.parse(e.attr("style")),a=e.attr("color"),s=e.attr("face"),u=e.attr("size");a&&(i.color=a),s&&(i["font-family"]=s),u&&(i["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(i)),r=e,H(["color","face","size"],(function(e){r.attr(e,null)}))}))}))}(e,r,Gt.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",(function(e){H(e,(function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}))}))},Um=/^[ \t\r\n]*$/,Wm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},$m=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},qm=function(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})};qm.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this;return this}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},clone:function(){var e,t,n,r,o,i=new qm(this.name,this.type);if(n=this.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(r=n[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);i.attributes=o}return i.value=this.value,i.shortEnded=this.shortEnded,i},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},remove:function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t,t&&(t.prev=null)):n.next=t,e.lastChild===this?(e.lastChild=n,n&&(n.next=null)):t.prev=n,this.parent=this.next=this.prev=null),this},append:function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?(t.next=e,e.prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(e){var t,n=[];for(t=this.firstChild;t;t=$m(t,this))t.name===e&&n.push(t);return n},empty:function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=$m(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(e,t,n){var r,o,i=this.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(r=i.attributes.length;r--;)if("name"===(o=i.attributes[r].name)||0===o.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!Um.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Um.test(i.value))return!1;if(n&&n(i))return!1}while(i=$m(i,this));return!0},walk:function(e){return $m(this,null,e)}},qm.create=function(e,t){var n,r;if(n=new qm(e,Wm[e]||1),t)for(r in t)n.attr(r,t[r]);return n};var Vm=Gt.makeMap,Gm=Gt.each,Ym=Gt.explode,Xm=Gt.extend,Jm=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new qm("br","1")).shortEnded=!0:r.empty().append(new qm("#text","3")).value=" "},Km=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Zm=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return n=t,(r=e.getElementRule(n.name))&&r.paddEmpty;var n,r}))},Qm=function(e,t){var n={},r={},o=[],i={},a={};return(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body",n.schema=t=t||Xo(),n.filterNode=function(e){var t,n,s;n in r&&((s=i[n])?s.push(e):i[n]=[e]),t=o.length;for(;t--;)(n=o[t].name)in e.attributes.map&&((s=a[n])?s.push(e):a[n]=[e]);return e},n.addNodeFilter=function(e,t){Gm(Ym(e),(function(e){var n=r[e];n||(r[e]=n=[]),n.push(t)}))},n.addAttributeFilter=function(e,t){Gm(Ym(e),(function(e){var n;for(n=0;n<o.length;n++)if(o[n].name===e)return void o[n].callbacks.push(t);o.push({name:e,callbacks:[t]})}))},n.parse=function(s,u){var c,l,d,f,m,p,g,h,v,x,b,y,w,k,C,_,S,E,T,N,R,A=[];u=u||{},i={},a={},y=Xm(Vm("script,style,head,html,body,title,meta,param"),t.getBlockElements()),N=t.getNonEmptyElements(),T=t.children,b=e.validate,R="forced_root_block"in u?u.forced_root_block:e.forced_root_block,E=t.getWhiteSpaceElements(),w=/^[ \t\r\n]+/,C=/[ \t\r\n]+$/,_=/[ \t\r\n]+/g,S=/^[ \t\r\n]+$/;var D=function(e,t){var n,o=new qm(e,t);return e in r&&((n=i[e])?n.push(o):i[e]=[o]),o},P=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if((o=n.value.replace(C,"")).length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}};if(c=new em({validate:b,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){d.append(D("#cdata",4)).value=e},text:function(e,t){var n;k||(e=e.replace(_," "),d.lastChild&&y[d.lastChild.name]&&(e=e.replace(w,""))),0!==e.length&&((n=D("#text",3)).raw=!!t,d.append(n).value=e)},comment:function(e){d.append(D("#comment",8)).value=e},pi:function(e,t){d.append(D(e,7)).value=t,P(d)},doctype:function(e){d.append(D("#doctype",10)).value=e,P(d)},start:function(e,n,r){var i,s,u,c,l;if(u=b?t.getElementRule(e):{}){for((i=D(u.outputName||e,1)).attributes=n,i.shortEnded=r,d.append(i),(l=T[d.name])&&T[i.name]&&!l[i.name]&&A.push(i),s=o.length;s--;)(c=o[s].name)in n.map&&((v=a[c])?v.push(i):a[c]=[i]);y[e]&&P(i),r||(d=i),!k&&E[e]&&(k=!0)}},end:function(n){var r,o,i,a,s,c;if(o=b?t.getElementRule(n):{}){if(y[n]&&!k){if((r=d.firstChild)&&3===r.type)if((i=r.value.replace(w,"")).length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||S.test(i))&&(r.remove(),r=a),r=a;if((r=d.lastChild)&&3===r.type)if((i=r.value.replace(C,"")).length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||S.test(i))&&(r.remove(),r=a),r=a}if(k&&E[n]&&(k=!1),o.removeEmpty&&Zm(t,N,E,d)&&!d.attributes.map.name&&!d.attributes.map.id)return s=d.parent,y[d.name]?d.empty().remove():d.unwrap(),void(d=s);o.paddEmpty&&(Km(c=d,"#text")&&" "===c.firstChild.value||Zm(t,N,E,d))&&Jm(e,u,y,d),d=d.parent}}},t),l=d=new qm(u.context||e.root_name,11),c.parse(s),b&&A.length&&(u.context?u.invalid=!0:function(e){var r,o,i,a,s,u,c,l,d,f,m,p,g,h,v,x;for(p=Vm("tr,td,th,tbody,thead,tfoot,table"),f=t.getNonEmptyElements(),m=t.getWhiteSpaceElements(),g=t.getTextBlockElements(),h=t.getSpecialElements(),r=0;r<e.length;r++)if((o=e[r]).parent&&!o.fixed)if(g[o.name]&&"li"===o.parent.name){for(v=o.next;v&&g[v.name];)v.name="li",v.fixed=!0,o.parent.insert(v,o.parent),v=v.next;o.unwrap(o)}else{for(a=[o],i=o.parent;i&&!t.isValidChild(i.name,o.name)&&!p[i.name];i=i.parent)a.push(i);if(i&&a.length>1){for(a.reverse(),s=u=n.filterNode(a[0].clone()),d=0;d<a.length-1;d++){for(t.isValidChild(u.name,a[d].name)?(c=n.filterNode(a[d].clone()),u.append(c)):c=u,l=a[d].firstChild;l&&l!==a[d+1];)x=l.next,c.append(l),l=x;u=c}Zm(t,f,m,s)?i.insert(o,a[0],!0):(i.insert(s,a[0],!0),i.insert(o,s)),i=a[0],(Zm(t,f,m,i)||Km(i,"br"))&&i.empty().remove()}else if(o.parent){if("li"===o.name){if((v=o.prev)&&("ul"===v.name||"ul"===v.name)){v.append(o);continue}if((v=o.next)&&("ul"===v.name||"ul"===v.name)){v.insert(o,v.firstChild,!0);continue}o.wrap(n.filterNode(new qm("ul",1)));continue}t.isValidChild(o.parent.name,"div")&&t.isValidChild("div",o.name)?o.wrap(n.filterNode(new qm("div",1))):h[o.name]?o.empty().remove():o.unwrap()}}}(A)),R&&("body"===l.name||u.isRootContent)&&function(){var n,r,o=l.firstChild,i=function(e){e&&((o=e.firstChild)&&3===o.type&&(o.value=o.value.replace(w,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(C,"")))};if(t.isValidChild(l.name,R.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!y[o.name]&&!o.attr("data-mce-type")?(r||((r=D(R,1)).attr(e.forced_root_block_attrs),l.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!u.invalid){for(x in i){for(v=r[x],g=(f=i[x]).length;g--;)f[g].parent||f.splice(g,1);for(m=0,p=v.length;m<p;m++)v[m](f,x,u)}for(m=0,p=o.length;m<p;m++)if((v=o[m]).name in a){for(g=(f=a[v.name]).length;g--;)f[g].parent||f.splice(g,1);for(g=0,h=v.callbacks.length;g<h;g++)v.callbacks[g](f,v.name,u)}}return l},e.remove_trailing_brs&&n.addNodeFilter("br",(function(n,r,o){var i,a,s,u,c,l,d,f,m=n.length,p=Xm({},t.getBlockElements()),g=t.getNonEmptyElements(),h=t.getNonEmptyElements();for(p.body=1,i=0;i<m;i++)if(s=(a=n[i]).parent,p[a.parent.name]&&a===s.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),Zm(t,g,h,s)&&(d=t.getElementRule(s.name))&&(d.removeEmpty?s.remove():d.paddEmpty&&Jm(e,o,p,s)))}else{for(u=a;s&&s.firstChild===u&&s.lastChild===u&&(u=s,!p[s.name]);)s=s.parent;u===s&&!0!==e.padd_empty_with_br&&((f=new qm("#text",3)).value=" ",a.replace(f))}})),n.addAttributeFilter("href",(function(t){var n,r,o,i=t.length;if(!e.allow_unsafe_link_target)for(;i--;)"a"===(n=t[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",(o=(r=n.attr("rel"))?Gt.trim(r):"",/\b(noopener)\b/g.test(o)?o:o.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")))})),e.allow_html_in_named_anchor||n.addAttributeFilter("id,name",(function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}})),e.fix_list_elements&&n.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new qm("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}})),e.validate&&t.getValidClasses()&&n.addAttributeFilter("class",(function(e){for(var n,r,o,i,a,s,u,c=e.length,l=t.getValidClasses();c--;){for(r=(n=e[c]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],u=!1,(s=l["*"])&&s[i]&&(u=!0),s=l[n.name],!u&&s&&s[i]&&(u=!0),u&&(a&&(a+=" "),a+=i);a.length||(a=null),n.attr("class",a)}})),function(e,t){t.inline_styles&&jm(e,t)}(n,e),n},eh=function(e,t,n){-1===Gt.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))},nh=function(e,t){var n,r,o,i=["data-mce-selected"];return n=t&&t.dom?t.dom:ii.DOM,r=t&&t.schema?t.schema:Xo(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,r){for(var o,i,a=e.length,s="data-mce-"+r,u=t.url_converter,c=t.url_converter_scope;a--;)void 0!==(i=(o=e[a]).attributes.map[s])?(o.attr(r,i.length>0?i:null),o.attr(s,null)):(i=o.attributes.map[r],"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):u&&(i=u.call(c,i,r,o.name)),o.attr(r,i.length>0?i:null))})),e.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attributes.map["data-mce-type"]||n.cleanup||r.remove()})),e.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Ho.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){for(var r,o,i,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=e[a]).firstChild?r.firstChild.value:"","script"===n?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){H(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))}(o=Qm(e,r),e,n),{schema:r,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:function(i,a){var s,u,c,l,d,f,m,p,g,h=Fm.merge({format:"html"},a||{}),v=function(e,t,n){return d=n,(l=e)&&l.hasEventListeners("PreProcess")&&!d.no_events?(o=t,i=n,c=(r=e).dom,o=o.cloneNode(!0),(a=document.implementation).createHTMLDocument&&(s=a.createHTMLDocument(""),Gt.each("BODY"===o.nodeName?o.childNodes:[o],(function(e){s.body.appendChild(s.importNode(e,!0))})),o="BODY"!==o.nodeName?s.body.firstChild:s.body,u=c.doc,c.doc=s),function(e,t){e.fire("PreProcess",t)}(r,Fm.merge(i,{node:o})),u&&(c.doc=u),o):t;var r,o,i,a,s,u,c,l,d}(t,i,h),x=(s=n,u=v,l=hi((c=h).getInner?u.innerHTML:s.getOuterHTML(u)),c.selection?l:Gt.trim(l)),b=(d=o,f=x,p=(m=h).selection?Fm.merge({forced_root_block:!1},m):m,function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())}(g=d.parse(f,p)),g);return"tree"===h.format?b:function(e,t,n,r,o){var i,a,s,u;return a=e,i=r,u=qs(t,n).serialize(i),!(s=o).no_events&&a?function(e,t){return e.fire("PostProcess",t)}(a,Fm.merge(s,{content:u})).content:u}(t,e,r,b,h)},addRules:function(e){r.addValidElements(e)},setRules:function(e){r.setValidElements(e)},addTempAttr:w.curry(eh,o,i),getTempAttrs:function(){return i}}},rh=function(e,t){var n=nh(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}},oh=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(Si(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},ih=function(e,t){var n=wc(rr.fromDom(e.getBody()),"*[data-mce-caret]").fold(w.constant(null),(function(e){return e.dom()}));if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void oh(e,n)):void(Ai(n)&&oh(e,n))};function ah(e){return{getBookmark:w.curry(Ss,e),moveToBookmark:w.curry(Es,e)}}(ah||(ah={})).isBookmarkNode=Ts;var sh=ah,ch=Ro.isContentEditableFalse,lh=Ro.isContentEditableTrue,uh=function(e,t){var n,r,o,i,a,s,u,c,l,d,f,m,p,g,h,v,x,b=t.dom,y=Gt.each,w=t.getDoc(),k=document,C=Math.abs,_=Math.round,S=t.getBody();i={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var E=".mce-content-body";t.contentStyles.push(E+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+E+" .mce-resizehandle:hover {background: #000}"+E+" img[data-mce-selected],"+E+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+E+" .mce-clonedresizable {position: absolute;"+(Ne.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+E+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},N=function(e){var n,r,o=e.target;n=e,r=t.selection.getRng(),!T(n.target)||Pp(n.clientX,n.clientY,r)||e.isDefaultPrevented()||(e.preventDefault(),t.selection.select(o))},R=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},A=function(e){var n=t.settings.object_resizing;return!1!==n&&!Ne.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&Br.is(rr.fromDom(e),n))},D=function(e){var i,y,w,k;i=e.screenX-s,y=e.screenY-u,g=i*a[2]+d,h=y*a[3]+f,g=g<5?5:g,h=h<5?5:h,(T(n)&&!1!==t.settings.resize_img_proportional?!Up.modifierPressed(e):Up.modifierPressed(e)||T(n)&&a[2]*a[3]!=0)&&(C(i)>C(y)?(h=_(g*m),g=_(h/m)):(g=_(h/m),h=_(g*m))),b.setStyles(R(r),{width:g,height:h}),w=(w=a.startPos.x+i)>0?w:0,k=(k=a.startPos.y+y)>0?k:0,b.setStyles(o,{left:w,top:k,display:"block"}),o.innerHTML=g+" &times; "+h,a[2]<0&&r.clientWidth<=g&&b.setStyle(r,"left",c+(d-g)),a[3]<0&&r.clientHeight<=h&&b.setStyle(r,"top",l+(f-h)),(i=S.scrollWidth-v)+(y=S.scrollHeight-x)!=0&&b.setStyles(o,{left:w-i,top:k-y}),p||(t.fire("ObjectResizeStart",{target:n,width:d,height:f}),p=!0)},P=function e(){p=!1;var c=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?b.setStyle(R(n),e,r):b.setAttrib(R(n),e,r))};c("width",g),c("height",h),b.unbind(w,"mousemove",D),b.unbind(w,"mouseup",e),k!==w&&(b.unbind(k,"mousemove",D),b.unbind(k,"mouseup",e)),b.remove(r),b.remove(o),O(n),t.fire("ObjectResized",{target:n,width:g,height:h}),b.setAttrib(n,"style",b.getAttrib(n,"style")),t.nodeChanged()},O=function(e){var p,C,_,E,T;M(),z(),p=b.getPos(e,S),c=p.x,l=p.y,T=e.getBoundingClientRect(),C=T.width||T.right-T.left,_=T.height||T.bottom-T.top,n!==e&&(n=e,g=h=0),E=t.fire("ObjectSelected",{target:e}),A(e)&&!E.isDefaultPrevented()?y(i,(function(e,t){var i;(i=b.get("mceResizeHandle"+t))&&b.remove(i),i=b.add(S,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),Ne.ie&&(i.contentEditable=!1),b.bind(i,"mousedown",(function(t){var i;t.stopImmediatePropagation(),t.preventDefault(),s=(i=t).screenX,u=i.screenY,d=R(n).clientWidth,f=R(n).clientHeight,m=f/d,a=e,e.startPos={x:C*e[0]+c,y:_*e[1]+l},v=S.scrollWidth,x=S.scrollHeight,r=n.cloneNode(!0),b.addClass(r,"mce-clonedresizable"),b.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,b.setStyles(r,{left:c,top:l,margin:0}),r.removeAttribute("data-mce-selected"),S.appendChild(r),b.bind(w,"mousemove",D),b.bind(w,"mouseup",P),k!==w&&(b.bind(k,"mousemove",D),b.bind(k,"mouseup",P)),o=b.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+f)})),e.elm=i,b.setStyles(i,{left:C*e[0]+c-i.offsetWidth/2,top:_*e[1]+l-i.offsetHeight/2})})):M(),n.setAttribute("data-mce-selected","1")},M=function(){var e,t;for(e in z(),n&&n.removeAttribute("data-mce-selected"),i)(t=b.get("mceResizeHandle"+e))&&(b.unbind(t),b.remove(t))},B=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};p||t.removed||(y(b.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),r="mousedown"===n.type?n.target:e.getNode(),o(r=b.$(r).closest("table,img,figure.image,hr")[0],S)&&(L(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?O(r):M())},I=function(e){return ch(function(e,t){for(;t&&t!==e;){if(lh(t)||ch(t))return t;t=t.parentNode}return null}(t.getBody(),e))},z=function(){for(var e in i){var t=i[e];t.elm&&(b.unbind(t.elm),delete t.elm)}},L=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",(function(){L(),Ne.ie&&Ne.ie>=11&&(t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||I(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())})),t.dom.bind(S,"mscontrolselect",(function(e){var n=function(e){Oe.setEditorTimeout(t,(function(){t.selection.select(e)}))};if(I(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))})));var e=Oe.throttle((function(e){t.composing||B(e)}));t.on("nodechange ResizeEditor ResizeWindow drop",e),t.on("keyup compositionend",(function(t){n&&"TABLE"===n.nodeName&&e(t)})),t.on("hide blur",M),t.on("contextmenu",N)})),t.on("remove",z),{isResizable:A,showResizeRect:O,hideResizeRect:M,updateResizeRect:B,destroy:function(){n=r=null}}},dh=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},fh=function(e){return Ro.isContentEditableTrue(e)||Ro.isContentEditableFalse(e)},ph=function(e,t,n){var r,o,i,a,s,u=n;if(u.caretPositionFromPoint)(o=u.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(u.body.createTextRange){r=u.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),(i=(i=Gt.toArray(o.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))}))).length>0){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return i=r,a=n.body,s=i&&i.parentElement?i.parentElement():null,Ro.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,fh))?null:i}return r},mh=function(e,t){return L(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},hh=function(e,t){return rr.fromDom(e.dom().cloneNode(t))},gh=function(e){return hh(e,!1)},bh=function(e){return hh(e,!0)},vh=function(e,t){var n=(t||document).createDocumentFragment();return H(e,(function(e){n.appendChild(e.dom())})),rr.fromDom(n)},xh=function e(t){return to(t).fold(w.constant([t]),(function(n){return[t].concat(e(n))}))},yh=function e(t){return no(t).fold(w.constant([t]),(function(n){return"br"===ur.name(n)?Jr(n).map((function(n){return[t].concat(e(n))})).getOr([]):[t].concat(e(n))}))},wh=function(e,t){return ws([(i=t,a=i.startContainer,s=i.startOffset,Ro.isText(a)?0===s?E.some(rr.fromDom(a)):E.none():E.from(a.childNodes[s]).map(rr.fromDom)),(n=t,r=n.endContainer,o=n.endOffset,Ro.isText(r)?o===r.data.length?E.some(rr.fromDom(r)):E.none():E.from(r.childNodes[o-1]).map(rr.fromDom))],(function(t,n){var r=V(xh(e),w.curry(Lr.eq,t)),o=V(yh(e),w.curry(Lr.eq,n));return r.isSome()&&o.isSome()})).getOr(!1);var n,r,o,i,a,s},kh=function(e,t,n,r){var o=n,i=new mo(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Gt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(Ne.ie&&Ne.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Ch=Dr("element","width","rows"),_h=Dr("element","cells"),Sh=Dr("x","y"),Eh=function(e,t){var n=parseInt(Sr(e,t),10);return isNaN(n)?1:n},Th=function(e){return $(e,(function(e,t){return t.cells().length>e?t.cells().length:e}),0)},Nh=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(Lr.eq(o[i],t))return E.some(Sh(i,r));return E.none()},Rh=function(e,t,n,r,o){for(var i=[],a=e.rows(),s=n;s<=o;s++){var u=a[s].cells(),c=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(_h(a[s].element(),c))}return i},Ah=function(e){return t=e,n=L(e.rows(),(function(e){var t=L(e.cells(),(function(e){var t=bh(e);return Er(t,"colspan"),Er(t,"rowspan"),t})),n=gh(e.element());return Bs(n,t),n})),r=gh(t.element()),o=rr.fromTag("tbody"),Bs(o,n),Ms(r,o),r;var t,n,r,o},Dh=function(e,t){var n,r=rr.fromDom(t.commonAncestorContainer),o=Mc(r,e),i=j(o,(function(e){return vo.isInline(e)||vo.isHeading(e)})),a=function(e,t){return V(e,(function(e){return"li"===ur.name(e)&&wh(e,t)})).fold(w.constant([]),(function(t){return(n=e,V(n,(function(e){return"ul"===ur.name(e)||"ol"===ur.name(e)}))).map((function(e){return[rr.fromTag("li"),rr.fromTag(ur.name(e))]})).getOr([]);var n}))}(o,t),s=i.concat(a.length?a:(n=r,vo.isListItem(n)?Yr(n).filter(vo.isList).fold(w.constant([]),(function(e){return[n,e]})):vo.isList(n)?[n]:[]));return L(s,gh)},Ph=function(){return vh([])},Oh=function(e,t){return(n=e,r=t[0],yc(r,"table",w.curry(Lr.eq,n))).bind((function(e){var n=t[0],r=t[t.length-1];return function(e,t,n){return Nh(e,t).bind((function(t){return Nh(e,n).map((function(n){return r=e,i=n,a=(o=t).x(),s=o.y(),u=i.x(),l=s<(c=i.y())?Rh(r,a,s,u,c):Rh(r,a,c,u,s),Ch(r.element(),Th(l),l);var r,o,i,a,s,u,c,l}))}))}(function(e){var t=Ch(gh(e),0,[]);return H(Fs(e,"tr"),(function(e,n){H(Fs(e,"td,th"),(function(r,o){!function(e,t,n,r,o){for(var i=Eh(o,"rowspan"),a=Eh(o,"colspan"),s=e.rows(),u=n;u<n+i;u++){s[u]||(s[u]=_h(bh(r),[]));for(var c=t;c<t+a;c++)s[u].cells()[c]=u===n&&c===t?o:gh(o)}}(t,function(e,t,n){for(;r=t,o=n,i=void 0,((i=e.rows())[o]?i[o].cells():[])[r];)t++;var r,o,i;return t}(t,o,n),n,e,r)}))})),Ch(t.element(),Th(t.rows()),t.rows())}(e),n,r).map((function(e){return vh([Ah(e)])}))})).getOrThunk(Ph);var n,r},Mh=function(e,t){var n,r,o=ud(t,e);return o.length>0?Oh(e,o):(n=e,(r=t).length>0&&r[0].collapsed?Ph():function(e,t){return n=rr.fromDom(t.cloneContents()),r=Dh(e,t),o=$(r,(function(e,t){return Ms(t,e),t}),n),r.length>0?vh([o]):o;var n,r,o}(n,r[0]))},Bh=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return E.from(i).map(rr.fromDom).map((function(e){return r&&t.collapsed?e:eo(e,o(e,a)).getOr(e)})).bind((function(e){return ur.isElement(e)?E.some(e):Yr(e)})).map((function(e){return e.dom()})).getOr(e)},Ih=function(e,t,n){return Bh(e,t,!0,n,(function(e,t){return Math.min(ro(e),t)}))},zh=function(e,t,n){return Bh(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},Lh=function(e,t){for(var n=e;e&&Ro.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Hh=Gt.each,Fh=function(e){return!!e.select},jh=function(e){return!(!e||!e.ownerDocument)&&Lr.contains(rr.fromDom(e.ownerDocument),rr.fromDom(e))},Uh=function(e,t,n,r){var o,i,a,s,u,c=function(e,t){return function(e,t,n){var r,o,i,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=s.createDocumentFragment(),i=s.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)}(r,e,t)},l=function(e){var t=f();t.collapse(!!e),m(t)},d=function(){return t.getSelection?t.getSelection():t.document.selection},f=function(){var n,o,i,u,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(void 0===(u=t.document)||null===u)return null;if(void 0!==r.bookmark&&!1===Bf(r)){var l=Qd(r);if(l.isSome())return l.map((function(e){return mh(r,[e])[0]})).getOr(u.createRange())}try{(n=d())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange())}catch(e){}return(o=mh(r,[o])[0])||(o=u.createRange?u.createRange():u.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&s&&(0===c(o.START_TO_START,o,a)&&0===c(o.END_TO_END,o,a)?o=s:(a=null,s=null)),o},m=function(e,t){var n,o;if((i=e)&&(Fh(i)||jh(i.startContainer)&&jh(i.endContainer))){var i,u=Fh(e)?e:null;if(u){s=null;try{u.select()}catch(e){}}else{if(n=d(),e=r.fire("SetSelectionRange",{range:e,forward:t}).range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||Ne.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset])&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},p=function(){var t,n,r=d();return!(r&&r.anchorNode&&r.focusNode)||((t=e.createRng()).setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),(n=e.createRng()).setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:l,setCursorLocation:function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),m(o),l(!1)):(kh(e,o,r.getBody(),!0),m(o))},getContent:function(e){return function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=mh(e,sd(i));if((t=t||{}).get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":hi(r.text||(i.toString?i.toString():""));r.cloneContents?(n=t.contextual?Mh(rr.fromDom(e.getBody()),a).dom():r.cloneContents())&&o.appendChild(n):void 0!==r.item||void 0!==r.htmlText?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),t.getInner=!0;var s=e.selection.serializer.serialize(o,t);return"tree"===t.format?s:(t.content=e.selection.isCollapsed()?"":s,e.fire("GetContent",t),t.content)}(r,e)},setContent:c,getBookmark:function(e,t){return o.getBookmark(e,t)},moveToBookmark:function(e){return o.moveToBookmark(e)},select:function(t,n){var r,o,i;return(r=e,o=t,i=n,E.from(o).map((function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),i&&(kh(r,n,e,!0),kh(r,n,e,!1)),n}))).each(m),t},isCollapsed:function(){var e=f(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:p,setNode:function(t){return c(e.getOuterHTML(t)),t},getNode:function(){return e=r.getBody(),(t=f())?(o=t.startContainer,i=t.endContainer,a=t.startOffset,s=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(o===i&&s-a<2&&o.hasChildNodes()&&(n=o.childNodes[a]),3===o.nodeType&&3===i.nodeType&&(o=o.length===a?Lh(o.nextSibling,!0):o.parentNode,i=0===s?Lh(i.previousSibling,!1):i.parentNode,o&&o===i))?o:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,o,i,a,s},getSel:d,setRng:m,getRng:f,getStart:function(e){return Ih(r.getBody(),f(),e)},getEnd:function(e){return zh(r.getBody(),f(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||Ih(i,t,!1),e.isBlock),r=e.getParent(r||zh(i,t,!1),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var s=new mo(n,i);(o=s.next())&&o!==r;)e.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a}(e,f(),t,n)},normalize:function(){var t=f();if(!function(e){return ad(e).length>1}(d())){var n=Rd(e,t);return n.each((function(e){m(e,p())})),n.getOr(t)}return t},selectorChanged:function(t,n){var o;return u||(u={},o={},r.on("NodeChange",(function(t){var n=t.element,r=e.getParents(n,null,e.getRoot()),i={};Hh(u,(function(t,n){Hh(r,(function(a){if(e.is(a,n))return o[n]||(Hh(t,(function(e){e(!0,{node:a,selector:n,parents:r})})),o[n]=t),i[n]=t,!1}))})),Hh(o,(function(e,t){i[t]||(delete o[t],Hh(e,(function(e){e(!1,{node:n,selector:t,parents:r})})))}))}))),u[t]||(u[t]=[]),u[t].push(n),g},getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return function(e,t,n){var r,o,i,a,s,u=e.dom,c=u.getRoot(),l=0;if(s={elm:t,alignToTop:n},e.fire("scrollIntoView",s),!s.isDefaultPrevented()&&Ro.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==c.nodeName){var d=e.selection.getScrollContainer();if(d)return r=dh(t).y-dh(d).y+l,a=d.clientHeight,void((r<(i=d.scrollTop)||r+25>i+a)&&(d.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+l,i=o.y,a=o.h,(r<o.y||r+25>i+a)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}}(r,e,t)},placeCaretAt:function(e,t){return m(ph(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=f();return e.collapsed?ga.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=null,i.destroy()}};return o=sh(g),i=uh(g,r),g.bookmarkManager=o,g.controlSelection=i,g},Wh=na.curry,$h=function(e,t,n,r,o,i){var a,s,u=0,c=[],l=function(r){var i,a,l;for(l=kp(r),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,s)){if(c.length>0&&t(a,Wt.last(c))&&u++,a.line=u,o(a))return!0;c.push(a)}};return(s=Wt.last(i.getClientRects()))?(l(a=i.getNode()),function(e,t,n,r){for(;r=Ha.findNode(r,e,Wi,t);)if(n(r))return}(e,r,l,a),c):c},qh={upUntil:Wh($h,-1,Xi,Ji),downUntil:Wh($h,1,Ji,Xi),positionsUntil:function(e,t,n,r){var o,i,a,s,u,c,l=Za(t),d=[],f=0,m=function(e){return Wt.last(e.getClientRects())};1===e?(o=l.next,i=Ji,a=Xi,s=ga.after(r)):(o=l.prev,i=Xi,a=Ji,s=ga.before(r)),c=m(s);do{if(s.isVisible()&&!a(u=m(s),c)){if(d.length>0&&i(u,Wt.last(d))&&f++,(u=Gi(u)).position=s,u.line=f,n(u))return d;d.push(u)}}while(s=o(s));return d},isAboveLine:Wh((function(e,t){return t.line>e})),isLine:Wh((function(e,t){return t.line===e}))},Vh=Ro.isContentEditableFalse,Gh=Ki,Yh=Ha.isAfterContentEditableFalse,Xh=Ha.isBeforeContentEditableFalse,Jh=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Kh=function(e,t,n){return n=Ha.normalizeRange(e,t,n),-1===e?ga.fromRangeStart(n):ga.fromRangeEnd(n)},Zh=function(e,t,n){var r,o,i,a,s=Za(e.getBody()),u=na.curry(Jh,s.next),c=na.curry(Jh,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?u(ga.fromRangeStart(n)):c(ga.fromRangeStart(n)))||(a=(i=e).dom.create(i.settings.forced_root_block),(!Ne.ie||Ne.ie>=11)&&(a.innerHTML='<br data-mce-bogus="1">'),o=a,1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},Qh=function(e,t){return function(){var n,r,o,i,a,s,u,c,l,d,f=(r=t,i=Za((n=e).getBody()),a=na.curry(Jh,i.next),s=na.curry(Jh,i.prev),u=r?1:-1,c=r?a:s,l=r?Xh:Yh,d=n.selection.getRng(),(o=function(e,t,n,r,o){var i,a,s,u,c,l,d;return!o.collapsed&&(i=Gh(o),Vh(i))?Lp(e,t,i,-1===e):(u=Ci(o.startContainer),r(a=Kh(e,t.getBody(),o))?Hp(t,a.getNode(-1===e)):(a=n(a))?r(a)?Lp(e,t,a.getNode(-1===e),1===e):r(s=n(a))&&(c=a,l=s,!(d=Ha.isInSameBlock(c,l))&&Ro.isBr(c.getNode())||d)?Lp(e,t,s.getNode(-1===e),1===e):u?jp(t,a.toRange()):null:u?o:null)}(u,n,c,l,d))?o:(o=Zh(n,u,d))||null);return!!f&&(e.selection.setRng(f),!0)}},eg=function(e,t){return function(){var n=function(e,t){var n,r=t?1:-1,o=t?qh.downUntil:qh.upUntil,i=e.selection.getRng();return(n=function(e,t,n,r){var o,i,a,s,u,c,l,d,f;if(f=Gh(r),o=Kh(e,t.getBody(),r),i=n(t.getBody(),qh.isAboveLine(1),o),a=Wt.filter(i,qh.isLine(1)),u=Wt.last(o.getClientRects()),Xh(o)&&(f=o.getNode()),Yh(o)&&(f=o.getNode(!0)),!u)return null;if(c=u.left,(s=Ap(a,c))&&Vh(s.node))return l=Math.abs(c-s.left),d=Math.abs(c-s.right),Lp(e,t,s.node,l<d);if(f){var m=qh.positionsUntil(e,t.getBody(),qh.isAboveLine(1),f);if(s=Ap(Wt.filter(m,qh.isLine(1)),c))return jp(t,s.position.toRange());if(s=Wt.last(Wt.filter(m,qh.isLine(0))))return jp(t,s.position.toRange())}}(r,e,o,i))?n:(n=Zh(e,r,i))||null}(e,t);return!!n&&(e.selection.setRng(n),!0)}},tg=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},ng=function(e,t){return V(function(e,t){return Y(L(e,(function(e){return Fm.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:w.noop},e)})),(function(e){return n=e,(r=t).keyCode===n.keyCode&&r.shiftKey===n.shiftKey&&r.altKey===n.altKey&&r.ctrlKey===n.ctrlKey&&r.metaKey===n.metaKey?[e]:[];var n,r}))}(e,t),(function(e){return e.action()}))},rg=function(e){return 1===Qr(e).length},og=function(e,t){var n,r=rr.fromDom(e.getBody()),o=rr.fromDom(e.selection.getStart()),i=j((n=Mc(o,r),G(n,vo.isBlock).fold(w.constant(n),(function(e){return n.slice(0,e)}))),rg);return ee(i).map((function(n){var r=ga.fromRangeStart(e.selection.getRng());return!!function(e,t,n){return ws([Ks.firstPositionIn(n),Ks.lastPositionIn(n)],(function(r,o){var i=gc.normalizePosition(!0,r),a=gc.normalizePosition(!1,o),s=gc.normalizePosition(!1,t);return e?Ks.nextPosition(n,s).map((function(e){return e.isEqual(a)&&t.isEqual(i)})).getOr(!1):Ks.prevPosition(n,s).map((function(e){return e.isEqual(i)&&t.isEqual(a)})).getOr(!1)})).getOr(!0)}(t,r,n.dom())&&(function(e,t,n,r){var o=w.curry(hu,t),i=L(j(r,o),(function(e){return e.dom()}));if(0===i.length)tl(t,e,n);else{var a=function(e,t){var n=au(!1),r=fu(t,n.dom());return Ps(rr.fromDom(e),n),Ls(rr.fromDom(e)),ga(r,0)}(n.dom(),i);t.selection.setRng(a.toRange())}}(t,e,n,i),!0)})).getOr(!1)},ig=function(e,t){return!!e.selection.isCollapsed()&&og(e,t)},ag=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},sg=function(e){return e.getParam("content_security_policy","")},cg=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},lg=function(e){return E.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},ug=function(e,t){var n,r,o,i=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode(" "),t.firstChild)}if(o=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new mo(t,t);r=n.current();){if(Ro.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(s[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=n.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else Ro.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),a.remove(void 0),e.selection.scrollIntoView(t)}},dg=lg,fg=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},pg=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},mg=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},hg=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Ro.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},gg=function(e){e.innerHTML='<br data-mce-bogus="1">'},bg=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},vg=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},xg=function(e,t,n){return!1===Ro.isText(t)?n:e?1===n&&t.data.charAt(n-1)===mi?0:n:n===t.data.length-1&&t.data.charAt(n)===mi?t.data.length:n},yg=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},wg=function(e,t){var n=cg(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,function(e){return e.getParam("forced_root_block_attrs",{})}(e))},kg=function(e,t){var n,r,o,i,a,s,u,c,l,d,f,m,p,g,h,v,x,b,y=e.dom,w=e.schema,k=w.getNonEmptyElements(),C=e.selection.getRng(),_=function(t){var n,i,s,u=o,c=w.getTextInlineElements();if(t||"TABLE"===d||"HR"===d?(n=y.create(t||m),wg(e,n)):n=a.cloneNode(!1),s=n,!1===function(e){return e.getParam("keep_styles",!0)}(e))y.setAttrib(n,"style",null),y.setAttrib(n,"class",null);else do{if(c[u.nodeName]){if(pu(u))continue;i=u.cloneNode(!1),y.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(s=i,n.appendChild(i))}}while((u=u.parentNode)&&u!==r);return gg(s),n},S=function(e){var t,n,r,s;if(s=xg(e,o,i),Ro.isText(o)&&(e?s>0:s<o.nodeValue.length))return!1;if(o.parentNode===a&&p&&!e)return!0;if(e&&Ro.isElement(o)&&o===a.firstChild)return!0;if(bg(o,"TABLE")||bg(o,"HR"))return p&&!e||!p&&e;for(t=new mo(o,a),Ro.isText(o)&&(e&&0===s?t.prev():e||s!==o.nodeValue.length||t.next());n=t.current();){if(Ro.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),k[r]&&"br"!==r))return!1}else if(Ro.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},E=function(){u=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?_(m):_(),function(e){return e.getParam("end_container_on_empty_block",!1)}(e)&&vg(y,l)&&y.isEmpty(a)?u=y.split(l,a):y.insertAfter(u,a),ug(e,u)};Rd(y,C).each((function(e){C.setStart(e.startContainer,e.startOffset),C.setEnd(e.endContainer,e.endOffset)})),o=C.startContainer,i=C.startOffset,m=cg(e),s=t.shiftKey,Ro.isElement(o)&&o.hasChildNodes()&&(p=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=p&&Ro.isText(o)?o.nodeValue.length:0),(r=yg(y,o))&&((m&&!s||!m&&s)&&(o=function(e,t,n,r,o){var i,a,s,u,c,l,d,f=t||"P",m=e.dom,p=yg(m,r);if(!(a=m.getParent(r,m.isBlock))||!vg(m,a)){if(l=(a=a||p)===e.getBody()||(d=a)&&/^(TD|TH|CAPTION)$/.test(d.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=m.create(f),wg(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!m.isBlock(u);)s=u,u=u.previousSibling;if(s&&e.schema.isValidChild(l,f.toLowerCase())){for(i=m.create(f),wg(e,i),s.parentNode.insertBefore(i,s),u=s;u&&!m.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,m,C,o,i)),a=y.getParent(o,y.isBlock),l=a?y.getParent(a.parentNode,y.isBlock):null,d=a?a.nodeName.toUpperCase():"","LI"!==(f=l?l.nodeName.toUpperCase():"")||t.ctrlKey||(a=l,l=l.parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&y.isEmpty(a)?function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;pg(s=n)&&pg(s.parentNode)&&(o="LI");var u,c=o?t(o):i.create("BR");if(hg(n,r,!0)&&hg(n,r,!1))fg(n,"LI")?i.insertAfter(c,mg(n)):i.replace(c,n);else if(hg(n,r,!0))fg(n,"LI")?(i.insertAfter(c,mg(n)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(n)):n.parentNode.insertBefore(c,n);else if(hg(n,r,!1))i.insertAfter(c,mg(n));else{n=mg(n);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var d=l.extractContents();"LI"===o&&(u=d).firstChild&&"LI"===u.firstChild.nodeName?(c=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(c,n))}i.remove(r),ug(e,c)}}(e,_,l,a,m):m&&a===e.getBody()||(m=m||"P",Ci(a)?(u=Si(a),y.isEmpty(a)&&gg(a),ug(e,u)):S()?E():S(!0)?(u=a.parentNode.insertBefore(_(),a),ug(e,bg(a,"HR")?u:a)):((n=(x=C,b=x.cloneRange(),b.setStart(x.startContainer,xg(!0,x.startContainer,x.startOffset)),b.setEnd(x.endContainer,xg(!1,x.endContainer,x.endOffset)),b).cloneRange()).setEndAfter(a),function(e){do{Ro.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(c=n.extractContents()),u=c.firstChild,y.insertAfter(c,a),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;Ro.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)(!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||(a=o)&&"A"===a.nodeName&&0===Gt.trim(hi(a.innerText||a.textContent)).length)&&e.remove(o);var a}}(y,k,u),g=y,(h=a).normalize(),(v=h.lastChild)&&!/^(left|right)$/gi.test(g.getStyle(v,"float",!0))||g.add(h,"br"),y.isEmpty(a)&&gg(a),u.normalize(),y.isEmpty(u)?(y.remove(u),E()):ug(e,u)),y.setAttrib(u,"id",""),e.fire("NewBlock",{newBlock:u})))},Cg=function(e,t){return dg(e).filter((function(e){return t.length>0&&Br.is(rr.fromDom(e),t)})).isSome()},_g=Wc([{br:[]},{block:[]},{none:[]}]),Sg=function(e,t){return function(e){return Cg(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},Eg=function(e){return function(t,n){return""===cg(t)===e}},Tg=function(e){return function(t,n){return function(e){return lg(e).filter((function(e){return vo.isListItem(rr.fromDom(e))})).isSome()}(t)===e}},Ng=function(e){return function(t,n){return"PRE"===function(e){return lg(e).fold(w.constant(""),(function(e){return e.nodeName.toUpperCase()}))}(t)===e}},Rg=function(e){return function(t,n){return function(e){return e.getParam("br_in_pre",!0)}(t)===e}},Ag=function(e,t){return function(e){return Cg(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},Dg=function(e,t){return t},Pg=function(e){var t=cg(e),n=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Og=function(e,t){return function(n,r){return $(e,(function(e,t){return e&&t(n,r)}),!0)?E.some(t):E.none()}},Mg=function(e,t){(function(e,t){return gu([Og([Sg],_g.none()),Og([Ng(!0),Rg(!1),Dg],_g.br()),Og([Ng(!0),Rg(!1)],_g.block()),Og([Ng(!0),Rg(!0),Dg],_g.block()),Og([Ng(!0),Rg(!0)],_g.br()),Og([Tg(!0),Dg],_g.br()),Og([Tg(!0)],_g.block()),Og([Eg(!0),Dg,Pg],_g.block()),Og([Eg(!0)],_g.br()),Og([Ag],_g.br()),Og([Eg(!1),Dg],_g.br()),Og([Pg],_g.block())],[e,t.shiftKey]).getOr(_g.none())})(e,t).fold((function(){zd(e,t)}),(function(){kg(e,t)}),w.noop)},Bg=function(e,t,n){return s=t,!(!Ig(n)||!Ro.isText(s.container())||(r=e,i=(o=t).container(),a=o.offset(),i.insertData(a," "),r.selection.setCursorLocation(i,a+1),0));var r,o,i,a,s},Ig=function(e){return e.fold(w.constant(!1),w.constant(!0),w.constant(!0),w.constant(!1))},zg=function(e){return!!e.selection.isCollapsed()&&(t=e,n=w.curry(gc.isInlineTarget,t),r=ga.fromRangeStart(t.selection.getRng()),Mu(n,t.getBody(),r).map(w.curry(Bg,t,r)).getOr(!1));var t,n,r},Lg=function(e){var t=Vu.setupSelectedState(e);(function(e,t){e.on("keydown",(function(n){var r,o,i,a;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,a=er.detect().os,ng([{keyCode:Up.RIGHT,action:Qh(r,!0)},{keyCode:Up.LEFT,action:Qh(r,!1)},{keyCode:Up.UP,action:eg(r,!1)},{keyCode:Up.DOWN,action:eg(r,!0)},{keyCode:Up.RIGHT,action:Vu.move(r,o,!0)},{keyCode:Up.LEFT,action:Vu.move(r,o,!1)},{keyCode:Up.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:Vu.moveNextWord(r,o)},{keyCode:Up.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:Vu.movePrevWord(r,o)}],i).each((function(e){i.preventDefault()})))}))})(e,t),function(e,t){e.on("keydown",(function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,ng([{keyCode:Up.BACKSPACE,action:tg(nl,r,!1)},{keyCode:Up.DELETE,action:tg(nl,r,!0)},{keyCode:Up.BACKSPACE,action:tg(Xu,r,o,!1)},{keyCode:Up.DELETE,action:tg(Xu,r,o,!0)},{keyCode:Up.BACKSPACE,action:tg(Uc,r,!1)},{keyCode:Up.DELETE,action:tg(Uc,r,!0)},{keyCode:Up.BACKSPACE,action:tg(Hc,r,!1)},{keyCode:Up.DELETE,action:tg(Hc,r,!0)},{keyCode:Up.BACKSPACE,action:tg(xd,r,!1)},{keyCode:Up.DELETE,action:tg(xd,r,!0)},{keyCode:Up.BACKSPACE,action:tg(ig,r,!1)},{keyCode:Up.DELETE,action:tg(ig,r,!0)}],i).each((function(e){i.preventDefault()})))})),e.on("keyup",(function(t){var n,r;!1===t.isDefaultPrevented()&&(n=e,r=t,ng([{keyCode:Up.BACKSPACE,action:tg(rl,n)},{keyCode:Up.DELETE,action:tg(rl,n)}],r))}))}(e,t),function(e){e.on("keydown",(function(t){var n,r,o;t.keyCode===Up.ENTER&&(n=e,(r=t).isDefaultPrevented()||(r.preventDefault(),(o=n.undoManager).typing&&(o.typing=!1,o.add()),n.undoManager.transact((function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),Mg(n,r)}))))}))}(e),function(e){e.on("keydown",(function(t){var n,r;!1===t.isDefaultPrevented()&&(n=e,r=t,ng([{keyCode:Up.SPACEBAR,action:tg(zg,n)}],r).each((function(e){r.preventDefault()})))}))}(e)},Hg=ii.DOM,Fg=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&Oe.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)},jg=function(e,t){var n,r,o,i,a,s,u,c,l,d=e.settings,f=e.getElement(),m=e.getDoc();d.inline||(e.getElement().style.visibility=e.orgVisibility),t||d.content_editable||(m.open(),m.write(e.iframeHTML),m.close()),d.content_editable&&(e.on("remove",(function(){var e=this.getBody();Hg.removeClass(e,"mce-content-body"),Hg.removeClass(e,"mce-edit-focus"),Hg.setAttrib(e,"contentEditable",null)})),Hg.addClass(f,"mce-content-body"),e.contentDocument=m=d.content_document||document,e.contentWindow=d.content_window||window,e.bodyElement=f,d.content_document=d.content_window=null,d.root_name=f.nodeName.toLowerCase()),(n=e.getBody()).disabled=!0,e.readonly=d.readonly,e.readonly||(e.inline&&"static"===Hg.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=dp(e),e.schema=Xo(d),e.dom=new ii(m,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:d.force_hex_style_colors,class_filter:d.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:d.content_editable,schema:e.schema,onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((i=Qm((o=e).settings,o.schema)).addAttributeFilter("src,href,style,tabindex",(function(e,t){for(var n,r,i,a=e.length,s=o.dom;a--;)if(r=(n=e[a]).attr(t),i="data-mce-"+t,!n.attributes.map[i]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=s.serializeStyle(s.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,o.convertURL(r,t,n.name))}})),i.addNodeFilter("script",(function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)})),i.addNodeFilter("#cdata",(function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"})),i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var t,n=e.length,r=o.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new qm("br",1)).shortEnded=!0)})),i),e.serializer=rh(d,e),e.selection=Uh(e.dom,e.getWin(),e.serializer,e),e.formatter=Im(e),e.undoManager=tm(e),e._nodeChangeDispatcher=new mp(e),e._selectionOverrides=Gp(e),function(e){e.on("keyup compositionstart",w.curry(ih,e))}(e),Lg(e),function(e){e.settings.forced_root_block&&e.on("NodeChange",w.curry(pp,e))}(e),e.fire("PreInit"),d.browser_spellcheck||d.gecko_spellcheck||(m.body.spellcheck=!1,Hg.setAttrib(n,"spellcheck","false")),e.quirks=function(e){var t,n,r,o=Gt.each,i=Up.BACKSPACE,a=Up.DELETE,s=e.dom,u=e.selection,c=e.settings,l=e.parser,d=Ne.gecko,f=Ne.ie,m=Ne.webkit,p="data:text/mce-internal,",g=f?"Text":"URL",h=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},v=function(e){return e.isDefaultPrevented()},x=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",(function(e){if(!v(e)&&e.keyCode===i&&u.isCollapsed()&&0===u.getRng().startOffset){var t=u.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},y=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Ne.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))};return e.on("keydown",(function(t){var n,r,o,i,a;if(!v(t)&&t.keyCode===Up.BACKSPACE&&(r=(n=u.getRng()).startContainer,o=n.startOffset,i=s.getRoot(),a=r,n.collapsed&&0===o)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),(n=s.createRng()).setStart(r,0),n.setEnd(r,0),u.setRng(n))}})),t=function(e){var t=s.create("body"),n=e.cloneContents();return t.appendChild(n),u.serializer.serialize(t,{format:"html"})},e.on("keydown",(function(n){var r,o,u,c,l,d=n.keyCode;if(!v(n)&&(d===a||d===i)){if(r=e.selection.isCollapsed(),o=e.getBody(),r&&!s.isEmpty(o))return;if(!r&&(u=e.selection.getRng(),c=t(u),(l=s.createRng()).selectNode(e.getBody()),c!==t(l)))return;n.preventDefault(),e.setContent(""),o.firstChild&&s.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}})),Ne.windowsPhone||e.on("keyup focusin mouseup",(function(e){Up.modifierPressed(e)||u.normalize()}),!0),m&&(e.settings.content_editable||s.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=u.getRng(),e.getBody().focus(),"mousedown"===t.type){if(ki(n.startContainer))return;u.placeCaretAt(t.clientX,t.clientY)}else u.setRng(n)})),e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==s.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&s.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),u.select(n))})),c.forced_root_block&&e.on("init",(function(){h("DefaultParagraphSeparator",c.forced_root_block)})),e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))})),b(),l.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),Ne.iOS?(e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()})),y(),e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):x()),Ne.ie>=11&&(y(),b()),Ne.ie&&(x(),h("AutoUrlDetect",!1),e.on("dragstart",(function(t){var n,r,o;(n=t).dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&u.select(n.target),(r=e.selection.getContent()).length>0&&(o=p+escape(e.id)+","+escape(r),n.dataTransfer.setData(g,o)))})),e.on("drop",(function(t){if(!v(t)){var n=(a=t).dataTransfer&&(s=a.dataTransfer.getData(g))&&s.indexOf(p)>=0?(s=s.substr(p.length).split(","),{id:unescape(s[0]),html:unescape(s[1])}):null;if(n&&n.id!==e.id){t.preventDefault();var r=ph(t.x,t.y,e.getDoc());u.setRng(r),o=n.html,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:o,internal:!0}):e.execCommand("mceInsertContent",!1,o)}}var o,a,s}))),d&&(e.on("keydown",(function(t){if(!v(t)&&t.keyCode===i){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var n=u.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return s.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(s.remove(r),t.preventDefault())}}})),Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!v(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Oe.setEditorTimeout(e,(function(){n.focus()}))}})),n=function(){var t=s.getAttribs(u.getStart().cloneNode(!1));return function(){var n=u.getStart();n!==e.getBody()&&(s.setAttrib(n,"style",null),o(t,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}},r=function(){return!u.isCollapsed()&&s.getParent(u.getStart(),s.isBlock)!==s.getParent(u.getEnd(),s.isBlock)},e.on("keypress",(function(t){var o;if(!v(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1})),s.bind(e.getDoc(),"cut",(function(t){var o;!v(t)&&r()&&(o=n(),Oe.setEditorTimeout(e,(function(){o()})))})),c.readonly||e.on("BeforeExecCommand MouseDown",(function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),c.object_resizing||h("enableObjectResizing",!1)})),e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(s.select("a"),(function(e){var t=e.parentNode,n=s.getRoot();if(t.lastChild===e){for(;t&&!s.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}s.add(t,"br",{"data-mce-bogus":1})}}))})),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),Ne.mac&&e.on("keydown",(function(t){!Up.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})),b()),{refreshContentEditable:function(){},isHidden:function(){var t;return!d||e.removed?0:!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount}}}(e),e.fire("PostRender"),d.directionality&&(n.dir=d.directionality),d.nowrap&&(n.style.whiteSpace="nowrap"),d.protect&&e.on("BeforeSetContent",(function(e){Gt.each(d.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),d.padd_empty_editor&&e.on("PostProcess",(function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0&&(r="",Gt.each(e.contentStyles,(function(e){r+=e+"\r\n"})),e.dom.addStyle(r)),(a=e,a.inline?Hg.styleSheetLoader:a.dom.styleSheetLoader).loadAll(e.contentCSS,(function(t){Fg(e)}),(function(t){Fg(e)})),d.content_style&&(s=e,u=d.content_style,c=rr.fromDom(s.getDoc().head),l=rr.fromTag("style"),Cr(l,"type","text/css"),Ms(l,rr.fromText(u)),Ms(c,l))},Ug=ii.DOM,Wg=function(e,t){var n,r,o,i,a,s,u,c=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),l=(n=e.id,r=c,o=t.height,i=function(e){return e.getParam("iframe_attrs",{})}(e),u=rr.fromTag("iframe"),_r(u,i),_r(u,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),br(u,{width:"100%",height:(a=o,s="number"==typeof a?a+"px":a,s||""),display:"block"}),u).dom();l.onload=function(){l.onload=null,e.fire("load")};var d,f,m,p,g=function(e,t){if(document.domain!==window.location.hostname&&Ne.ie&&Ne.ie<12){var n=up("mce");e[n]=function(){jg(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Ug.setAttrib(t,"src",r),!0}return!1}(e,l);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=l,e.iframeHTML=(p=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(d=e)+"<html><head>",function(e){return e.getParam("document_base_url","")}(d)!==d.documentBaseUrl&&(p+='<base href="'+d.documentBaseURI.getURI()+'" />'),p+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',f=function(e){return ag(e,"body_id","tinymce")}(d),m=function(e){return ag(e,"body_class","")}(d),sg(d)&&(p+='<meta http-equiv="Content-Security-Policy" content="'+sg(d)+'" />'),p+='</head><body id="'+f+'" class="mce-content-body '+m+'" data-id="'+d.id+'"><br></body></html>'),Ug.add(t.iframeContainer,l),g},$g=ii.DOM,qg=function e(t,n,r){var o,c,i=Kf.get(r);if(o=Kf.urls[r]||t.documentBaseUrl.replace(/\/$/,""),r=Gt.trim(r),i&&-1===Gt.inArray(n,r)){if(Gt.each(Kf.dependencies(r),(function(r){e(t,n,r)})),t.plugins[r])return;c=new i(t,o,t.$),t.plugins[r]=c,c.init&&(c.init(t,o),n.push(r))}},Vg=function(e){return e.replace(/^\-/,"")},Gg=function(e){return{editorContainer:e,iframeContainer:e}},Yg=function(e){var t,n,r,o,i,a,s,u,c,l,d,f=e.settings,m=e.getElement();return e.orgDisplay=m.style.display,tr.isString(f.theme)?(l=(o=e).settings,d=o.getElement(),i=l.width||$g.getStyle(d,"width")||"100%",a=l.height||$g.getStyle(d,"height")||d.offsetHeight,s=l.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),u.test(""+a)&&(a=Math.max(parseInt(a,10),s)),c=o.theme.renderUI({targetNode:d,width:i,height:a,deltaWidth:l.delta_width,deltaHeight:l.delta_height}),l.content_editable||(a=(c.iframeHeight||a)+("number"==typeof a?c.deltaHeight||0:""))<s&&(a=s),c.height=a,c):tr.isFunction(f.theme)?(r=(t=e).getElement(),(n=t.settings.theme(t,r)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:r.offsetHeight,n):function(e){var t,n,r=e.getElement();return e.inline?Gg(null):(t=r,n=$g.create("div"),$g.insertAfter(n,t),Gg(n))}(e)},Xg=function(e){var t,n,r,o,i,a,s=e.settings,u=e.getElement();return e.rtl=s.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(s.language),s.aria_label=s.aria_label||$g.getAttrib(u,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),o=(n=e).settings.theme,tr.isString(o)?(n.settings.theme=Vg(o),r=Zf.get(o),n.theme=new r(n,Zf.urls[o]),n.theme.init&&n.theme.init(n,Zf.urls[o]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},i=e,a=[],Gt.each(i.settings.plugins.split(/[ ,]/),(function(e){qg(i,a,Vg(e))})),t=Yg(e),e.editorContainer=t.editorContainer?t.editorContainer:null,s.content_css&&Gt.each(Gt.explode(s.content_css),(function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))})),s.content_editable?jg(e):function(e,t){var n=Wg(e,t);t.editorContainer&&(Ug.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Ug.isHidden(t.editorContainer)),e.getElement().style.display="none",Ug.setAttrib(e.id,"aria-hidden",!0),n||jg(e)}(e,t)},Jg=ii.DOM,Kg=function(e){return"-"===e.charAt(0)},Zg=function(e){var t=e.settings,n=e.id;if(Ue.Event.domLoaded){if(e.getElement()&&Ne.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var r=e.getElement().form||Jg.getParent(n,"form");r&&(e.formElement=r,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(Jg.insertAfter(Jg.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},Jg.bind(r,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.setContent(e.startContent,{format:"raw"})})),!t.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=$f(e),e.notificationManager=Wf(e),"xml"===t.encoding&&e.on("GetContent",(function(e){e.save&&(e.content=Jg.encode(e.content))})),t.add_form_submit_trigger&&e.on("submit",(function(){e.initialized&&e.save()})),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),function(e,t){var n=di.ScriptLoader;!function(e,t,n,r){var o=t.settings,i=o.theme;if(tr.isString(i)){if(!Kg(i)&&!Zf.urls.hasOwnProperty(i)){var a=o.theme_url;a?Zf.load(i,t.documentBaseURI.toAbsolute(a)):Zf.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue((function(){Zf.waitFor(i,r)}))}else r()}(n,e,t,(function(){var r,o,i,a,s;r=n,(i=(o=e).settings).language&&"en"!==i.language&&!i.language_url&&(i.language_url=o.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&!o.editorManager.i18n.data[i.language]&&r.add(i.language_url),a=e.settings,s=t,Gt.isArray(a.plugins)&&(a.plugins=a.plugins.join(" ")),Gt.each(a.external_plugins,(function(e,t){Kf.load(t,e),a.plugins+=" "+t})),Gt.each(a.plugins.split(/[ ,]/),(function(e){if((e=Gt.trim(e))&&!Kf.urls[e])if(Kg(e)){e=e.substr(1,e.length);var t=Kf.dependencies(e);Gt.each(t,(function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"};e=Kf.createUrl(t,e),Kf.load(e.resource,e)}))}else Kf.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"})})),n.loadQueue((function(){e.removed||Xg(e)}),e,(function(t){Yf(e,t[0]),e.removed||Xg(e)}))}))}(e,e.suffix)}}else Jg.bind(window,"ready",(function t(){Jg.unbind(window,"ready",t),e.render()}))},Qg=Gt.each,eb=Gt.trim,tb="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),nb={ftp:21,http:80,https:443,mailto:25},rb=function e(t,n){var r,o,c=this;if(t=eb(t),r=(n=c.settings=n||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))c.source=t;else{var i=0===t.indexOf("//");0!==t.indexOf("/")||i||(t=(r&&r.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(o=n.base_uri?n.base_uri.path:new e(document.location.href).directory,""==n.base_uri.protocol?t="//mce_host"+c.toAbsPath(o,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(o,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),Qg(tb,(function(e,n){var r=t[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),c[e]=r})),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),c.port||"mce_host"!==c.host||(c.port=r.port),c.host&&"mce_host"!==c.host||(c.host=r.host),c.source=""),i&&(c.protocol="")}};rb.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new rb(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new rb(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=nb[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),Qg(e,(function(e){e&&a.push(e)})),e=a,n=t.length-1,a=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?i>0?i--:a.push(t[n]):i++);return 0!==(o=(n=e.length-i)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},rb.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},rb.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var ob=ii.DOM,ib=Gt.extend,ab=Gt.each,sb=Gt.trim,cb=Gt.resolve,lb=Ne.ie,ub=function(e,t,n){var r,o,i,a,s,u,c,l,d,f=this;r=f.documentBaseUrl=n.documentBaseURL,o=n.baseURI,i=f,a=e,s=r,u=n.defaultSettings,c=t,d={id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:s,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(l=i).convertURL,url_converter_scope:l,ie7_compat:!0},t=function(e,t,n,r){var o,i,a,s,u,c,l,d,f,m,p,g,h,v=(o=["mobile"],i=r,a=xr.bifilter(i,(function(e,t){return K(o,t)})),ic(a.t,a.f)),x=Gt.extend(t,n,v.settings(),(p=e,h=(g=v).settings().inline,p&&uc(g,"mobile")&&!h?(l="mobile",d=cc,m=(f=v.sections()).hasOwnProperty(l)?f[l]:{},Gt.extend({},d,m)):{}),{validate:!0,content_editable:v.settings().inline,external_plugins:(s=n,u=v.settings(),c=u.external_plugins?u.external_plugins:{},s&&s.external_plugins?Gt.extend({},s.external_plugins,c):c)});return dc(e,v,n,x)}(ac,d,u,c),f.settings=t,pi.language=t.language||"en",pi.languageLoad=t.language_load,pi.baseURL=n.baseURL,f.id=e,f.setDirty(!1),f.plugins={},f.documentBaseURI=new rb(t.document_base_url,{base_uri:o}),f.baseURI=o,f.contentCSS=[],f.contentStyles=[],f.shortcuts=new Cf(f),f.loadedCSS={},f.editorCommands=new af(f),f.suffix=n.suffix,f.editorManager=n,f.inline=t.inline,f.buttons={},f.menuItems={},t.cache_suffix&&(Ne.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(Ne.overrideViewPort=!1),n.fire("SetupEditor",f),f.execCallback("setup",f),f.$=pn.overrideDefaults((function(){return{context:f.inline?f.getBody():f.getDoc(),element:f.getBody()}}))};ib(ub.prototype={render:function(){Zg(this)},focus:function(e){!function(e,t){e.removed||(t?Mf(e):function(e){var t,n,r,o=e.selection,i=e.settings.content_editable,a=e.getBody(),s=o.getRng();if(e.quirks.refreshContentEditable(),n=e,r=o.getNode(),t=n.dom.getParent(r,(function(e){return"true"===n.dom.getContentEditable(e)})),e.$.contains(a,t))return Pf(t),Df(e,s),void Mf(e);void 0!==e.bookmark&&!1===Of(e)&&Qd(e).each((function(t){e.selection.setRng(t),s=t})),i||(Ne.opera||Pf(a),e.getWin().focus()),(Ne.gecko||i)&&(Pf(a),Df(e,s)),Mf(e)}(e))}(this,e)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?cb(t):0,n=cb(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&Gt.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,(function(e,r){return n.data[t+"."+r]||"{#"+r+"}"}))}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return function(e,t,n,r){var o,i,a=t in e.settings?e.settings[t]:n;return"hash"===r?(i={},"string"==typeof(o=a)?H(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),(function(e){(e=e.split("=")).length>1?i[Gt.trim(e[0])]=Gt.trim(e[1]):i[Gt.trim(e[0])]=Gt.trim(e)})):i=o,i):"string"===r?fc(tr.isString,e,t).getOr(n):"number"===r?fc(tr.isNumber,e,t).getOr(n):"boolean"===r?fc(tr.isBoolean,e,t).getOr(n):"object"===r?fc(tr.isObject,e,t).getOr(n):"array"===r?fc(tr.isArray,e,t).getOr(n):"function"===r?fc(tr.isFunction,e,t).getOr(n):a}(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r}(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:up("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(ob.show(this.getContainer()),ob.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(lb&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(ob.hide(e.getContainer()),ob.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(r.inline||(o.innerHTML=t),(n=ob.getParent(r.id,"form"))&&ab(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){var n,r,o=this,i=o.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||o.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(r=lb&&lb<11?"":'<br data-mce-bogus="1">',"TABLE"===i.nodeName?e="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(i.nodeName)&&(e="<li>"+r+"</li>"),(n=o.settings.forced_root_block)&&o.schema.isValidChild(i.nodeName.toLowerCase(),n.toLowerCase())?(e=r,e=o.dom.createHTML(n,o.settings.forced_root_block_attrs,e)):lb||e||(e='<br data-mce-bogus="1">'),o.dom.setHTML(i,e),o.fire("SetContent",t)):("raw"!==t.format&&(e=qs({validate:o.validate},o.schema).serialize(o.parser.parse(e,{isRootContent:!0,insert:!0}))),t.content=sb(e),o.dom.setHTML(i,t.content),t.no_events||o.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this.getBody();if(this.removed)return"";if((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),"raw"===e.format)t=Gt.trim(function(e,t){return hi(Tf(e,t))}(this.serializer,n.innerHTML));else if("text"===e.format)t=n.innerText||n.textContent;else{if("tree"===e.format)return this.serializer.serialize(n,e);t=this.serializer.serialize(n,e)}return"text"!==e.format?e.content=sb(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=ib({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){!function(e,t){var n=e.readonly?"readonly":"design";t!==n&&(e.initialized?vf(e,"readonly"===t):e.on("init",(function(){vf(e,"readonly"===t)})),e.fire("SwitchMode",{mode:t}))}(this,e)},getContainer:function(){return this.container||(this.container=ob.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=ob.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),ab(o.select("table,a",e),(function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",void((i=o.getAttrib(e,"border"))&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href",!1)||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}})),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&ob.remove(e.getElement().nextSibling),e.inline||(lb&&lb<10&&e.getDoc().execCommand("SelectAll",!1,null),ob.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),ob.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;n.destroyed||(e||n.removed?(e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),ob.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1):n.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},gf);var db,fb,pb,mb={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},hb=function(e){var t,n,r,o=Op((function(){Zd(e)}),0);e.inline&&(t=e,n=o,r=function(){n.throttle()},ii.DOM.bind(document,"mouseup",r),t.on("remove",(function(){ii.DOM.unbind(document,"mouseup",r)}))),e.on("init",(function(){!function(e,t){var n,r,o=er.detect().browser;o.isIE()||o.isEdge()?(r=e).on("focusout",(function(){Zd(r)})):(n=t,e.on("mouseup touchend",(function(e){n.throttle()}))),e.on("keyup nodechange",(function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||Zd(e)}))}(e,o)})),e.on("remove",(function(){o.cancel()}))},gb=ii.DOM,bb=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==gb.getParent(t,(function(t){return function(e){return mb.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)}))},vb=function(e,t){var n=t.editor;hb(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),e.focusedEditor=this,this.fire("focus",{blurredEditor:t}),this.focus(!0))})),n.on("focusout",(function(){var t=this;Oe.setEditorTimeout(t,(function(){var n=e.focusedEditor;bb(t,function(){try{return document.activeElement}catch(e){return document.body}}())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),db||(db=function(t){var n,r=e.activeEditor;n=t.target,r&&n.ownerDocument===document&&(n===document.body||bb(r,n)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},gb.bind(document,"focusin",db))},xb=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(gb.unbind(document,"focusin",db),db=null)},yb={},wb="en",kb={setCode:function(e){e&&(wb=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return wb},rtl:!1,add:function(e,t){var n=yb[e];for(var r in n||(yb[e]=n={}),t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=yb[wb]||{},n=function(e){return Gt.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||Gt.is(e,"undefined")},o=function(e){return e=n(e),Gt.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(Gt.is(e,"object")&&Gt.hasOwn(e,"raw"))return n(e.raw);if(Gt.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Gt.hasOwn(i,t)?n(i[t]):e}))}return o(e).replace(/{context:\w+}$/,"")},data:yb},Cb=ii.DOM,_b=Gt.explode,Sb=Gt.each,Eb=Gt.extend,Tb=0,Nb=!1,Rb=[],Ab=[],Db=function(e){Sb(pb.get(),(function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)}))},Pb=function(e){e!==Nb&&(e?pn(window).on("resize scroll",Db):pn(window).off("resize scroll",Db),Nb=e)},Ob=function(e){var t=Ab;delete Rb[e.id];for(var n=0;n<Rb.length;n++)if(Rb[n]===e){Rb.splice(n,1);break}return Ab=j(Ab,(function(t){return e!==t})),pb.activeEditor===e&&(pb.activeEditor=Ab.length>0?Ab[0]:null),pb.focusedEditor===e&&(pb.focusedEditor=null),t.length!==Ab.length};Eb(pb={defaultSettings:{},$:pn,majorVersion:"4",minorVersion:"7.5",releaseDate:"2018-01-22",editors:Rb,i18n:kb,activeEditor:null,settings:{},setup:function(){var e,t,n,r,o="";if(t=rb.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var s=(r=i[a].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==s.indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(r=document.currentScript.src).indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/")))}this.baseURL=new rb(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new rb(this.baseURL),this.suffix=o,function(e){e.on("AddEditor",w.curry(vb,e)),e.on("RemoveEditor",w.curry(xb,e))}(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new rb(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new rb(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)pi.PluginManager.urls[o]=r[o]},init:function(e){var t,n,r=this;n=Gt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e){var t=e.id;return t||(t=(t=e.name)&&!Cb.get(t)?e.name:Cb.uniqueId(),e.setAttribute("id",t)),t},i=function(e,t){return t.constructor===RegExp?t.test(e.className):Cb.hasClass(e,t)},a=function(e){t=e};return r.settings=e,Cb.bind(window,"ready",(function s(){var t,u=0,c=[],l=function(e,n,o){var i=new ub(e,n,r);c.push(i),i.on("init",(function(){++u===t.length&&a(c)})),i.targetElm=i.targetElm||o,i.render()};Cb.unbind(window,"ready",s),function(t){var n=e[t];n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),t=pn.unique(function(e){var t,n=[];if(Ne.ie&&Ne.ie<11)return Jf("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return Sb(e.types,(function(e){n=n.concat(Cb.select(e.selector))})),n;if(e.selector)return Cb.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&Sb(_b(t),(function(e){var t;(t=Cb.get(e))?n.push(t):Sb(document.forms,(function(t){Sb(t.elements,(function(t){t.name===e&&(e="mce_editor_"+Tb++,Cb.setAttrib(t,"id",e),n.push(t))}))}))}));break;case"textareas":case"specific_textareas":Sb(Cb.select("textarea"),(function(t){e.editor_deselector&&i(t,e.editor_deselector)||e.editor_selector&&!i(t,e.editor_selector)||n.push(t)}))}return n}(e)),e.types?Sb(e.types,(function(n){Gt.each(t,(function(t){return!Cb.is(t,n.selector)||(l(o(t),Eb({},e,n),t),!1)}))})):(Gt.each(t,(function(e){var t;(t=r.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(Ob(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(t=Gt.grep(t,(function(e){return!r.get(e.id)}))).length?a([]):Sb(t,(function(t){var r;r=t,e.inline&&r.tagName.toLowerCase()in n?Jf("Could not initialize inline editor on invalid inline target element",t):l(o(t),e,t)})))})),new Re((function(e){t?e(t):a=function(t){e(t)}}))},get:function(e){return 0===arguments.length?Ab.slice(0):tr.isString(e)?V(Ab,(function(t){return t.id===e})).getOr(null):tr.isNumber(e)&&Ab[e]?Ab[e]:null},add:function(e){var t=this;return Rb[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(Rb[e.id]=e),Rb.push(e),Ab.push(e)),Pb(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),fb||(fb=function(){t.fire("BeforeUnload")},Cb.bind(window,"beforeunload",fb))),e},createEditor:function(e,t){return this.add(new ub(e,t,this))},remove:function(e){var t,n,r=this;if(e)return tr.isString(e)?(e=e.selector||e,void Sb(Cb.select(e),(function(e){(n=r.get(e.id))&&r.remove(n)}))):(n=e,tr.isNull(r.get(n.id))?null:(Ob(n)&&r.fire("RemoveEditor",{editor:n}),0===Ab.length&&Cb.unbind(window,"beforeunload",fb),n.remove(),Pb(Ab.length>0),n));for(t=Ab.length-1;t>=0;t--)r.remove(Ab[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new ub(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){Sb(Ab,(function(e){e.save()}))},addI18n:function(e,t){kb.add(e,t)},translate:function(e){return kb.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},df),pb.setup();var Mb,Bb=pb;function Ib(e){return{walk:function(t,n){return am(e,t,n)},split:ru.split,normalize:function(t){return Rd(e,t).fold(w.constant(!1),(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}}(Mb=Ib||(Ib={})).compareRanges=wd,Mb.getCaretRangeFromPoint=ph,Mb.getSelectedNode=Ki,Mb.getNode=Zi;var zb,Lb,Hb=Ib,Fb=Math.min,jb=Math.max,Ub=Math.round,Wb=function(e,t,n){var r,o,i,a,s,u;return r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,u=t.h,"b"===(n=(n||"").split(""))[0]&&(o+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=Ub(u/2)),"c"===n[1]&&(r+=Ub(s/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=Ub(a/2)),"c"===n[4]&&(r-=Ub(i/2)),$b(r,o,i,a)},$b=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},qb={inflate:function(e,t,n){return $b(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:Wb,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=Wb(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n,r,o,i;return n=jb(e.x,t.x),r=jb(e.y,t.y),o=Fb(e.x+e.w,t.x+t.w),i=Fb(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:$b(n,r,o-n,i-r)},clamp:function(e,t,n){var r,o,i,a,s,u,c,l,d,f;return s=e.x,u=e.y,c=e.x+e.w,l=e.y+e.h,d=t.x+t.w,f=t.y+t.h,r=jb(0,t.x-s),o=jb(0,t.y-u),i=jb(0,c-d),a=jb(0,l-f),s+=r,u+=o,n&&(c+=r,l+=o,s-=i,u-=a),$b(s,u,(c-=i)-s,(l-=a)-u)},create:$b,fromClientRect:function(e){return $b(e.left,e.top,e.width,e.height)}},Vb={},Gb={add:function(e,t){Vb[e.toLowerCase()]=t},has:function(e){return!!Vb[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=Vb.hasOwnProperty(t)?Vb[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=Vb[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},Yb=Gt.each,Xb=Gt.extend,Jb=function(){};Jb.extend=zb=function(e){var t,n,r,o=this.prototype,i=function(){var e,t,n;if(!Lb&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},a=function(){return this},s=function(e,t){return function(){var n,r=this._super;return this._super=o[e],n=t.apply(this,arguments),this._super=r,n}};for(n in Lb=!0,t=new this,Lb=!1,e.Mixins&&(Yb(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&Yb(e.Methods.split(","),(function(t){e[t]=a})),e.Properties&&Yb(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}})),e.Statics&&Yb(e.Statics,(function(e,t){i[t]=e})),e.Defaults&&o.Defaults&&(e.Defaults=Xb({},o.Defaults,e.Defaults)),e)"function"==typeof(r=e[n])&&o[n]?t[n]=s(n,r):t[n]=r;return i.prototype=t,i.constructor=i,i.extend=zb,i};var Kb=Math.min,Zb=Math.max,Qb=Math.round,ev={serialize:function e(t,n){var r,c,l,i;if(n=n||'"',null===t)return"null";if("string"==(l=o(t)))return c="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,(function(e,t){return'"'===n&&"'"===e?e:(r=c.indexOf(t))+1?"\\"+c.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)}))+n;if("object"===l){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,c="[";r<t.length;r++)c+=(r>0?",":"")+e(t[r],n);return c+"]"}for(i in c="{",t)t.hasOwnProperty(i)&&(c+="function"!=typeof t[i]?(c.length>1?","+n:n)+i+n+":"+e(t[i],n):"");return c+"}"}return""+t},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}},tv={callbacks:{},count:0,send:function(e){var t=this,n=ii.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},nv={send:function(e){var t,n=0,r=function r(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",nv.fire("beforeInitialize",{settings:e}),t=new Qf){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Gt.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=nv.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};Gt.extend(nv,df);var rv=Gt.extend,ov=function(e){this.settings=rv({},e),this.count=0};ov.sendRPC=function(e){return(new ov).send(e)},ov.prototype={send:function(e){var t=e.error,n=e.success;(e=rv(this.settings,e)).success=function(r,o){void 0===(r=ev.parse(r))&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,o):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=ev.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",nv.send(e)}};var iv,av=window.localStorage,sv=Bb,cv={geom:{Rect:qb},util:{Promise:Re,Delay:Oe,Tools:Gt,VK:Up,URI:rb,Class:Jb,EventDispatcher:cf,Observable:df,I18n:kb,XHR:nv,JSON:ev,JSONRequest:ov,JSONP:tv,LocalStorage:av,Color:function(e){var t={},n=0,r=0,c=0,i=function(e){var i;return"object"==o(e)?"r"in e?(n=e.r,r=e.g,c=e.b):"v"in e&&function(e,t,i){var a,s,u,o;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=Zb(0,Kb(t,1)),i=Zb(0,Kb(i,1)),0!==t){switch(a=e/60,u=(s=i*t)*(1-Math.abs(a%2-1)),o=i-s,Math.floor(a)){case 0:n=s,r=u,c=0;break;case 1:n=u,r=s,c=0;break;case 2:n=0,r=s,c=u;break;case 3:n=0,r=u,c=s;break;case 4:n=u,r=0,c=s;break;case 5:n=s,r=0,c=u;break;default:n=r=c=0}n=Qb(255*(n+o)),r=Qb(255*(r+o)),c=Qb(255*(c+o))}else n=r=c=Qb(255*i)}(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),c=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),c=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),c=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,c=c<0?0:c>255?255:c,t};return e&&i(e),t.toRgb=function(){return{r:n,g:r,b:c}},t.toHsv=function(){return e=n,t=r,i=c,s=0,(u=Kb(e/=255,Kb(t/=255,i/=255)))===(o=Zb(e,Zb(t,i)))?{h:0,s:0,v:100*(s=u)}:(a=(o-u)/o,s=o,{h:Qb(60*((e===u?3:i===u?1:5)-(e===u?t-i:i===u?e-t:i-e)/(o-u))),s:Qb(100*a),v:Qb(100*s)});var e,t,i,a,s,u,o},t.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(n)+e(r)+e(c)},t.parse=i,t}},dom:{EventUtils:Ue,Sizzle:Et,DomQuery:pn,TreeWalker:mo,DOMUtils:ii,ScriptLoader:di,RangeUtils:Hb,Serializer:rh,ControlSelection:uh,BookmarkManager:sh,Selection:Uh,Event:Ue.Event},html:{Styles:Jo,Entities:Ho,Node:qm,Schema:Xo,SaxParser:em,DomParser:Qm,Writer:$s,Serializer:qs},ui:{Factory:Gb},Env:Ne,AddOnManager:pi,Formatter:Im,UndoManager:tm,EditorCommands:af,WindowManager:$f,NotificationManager:Wf,EditorObservable:gf,Shortcuts:Cf,Editor:ub,FocusManager:mb,EditorManager:Bb,DOM:ii.DOM,ScriptLoader:di.ScriptLoader,PluginManager:pi.PluginManager,ThemeManager:pi.ThemeManager,trim:Gt.trim,isArray:Gt.isArray,is:Gt.is,toArray:Gt.toArray,makeMap:Gt.makeMap,each:Gt.each,map:Gt.map,grep:Gt.grep,inArray:Gt.inArray,extend:Gt.extend,create:Gt.create,walk:Gt.walk,createNS:Gt.createNS,resolve:Gt.resolve,explode:Gt.explode,_addCacheSuffix:Gt._addCacheSuffix,isOpera:Ne.opera,isWebKit:Ne.webkit,isIE:Ne.ie,isGecko:Ne.gecko,isMac:Ne.mac};iv=sv=Gt.extend(sv,cv),window.tinymce=iv,window.tinyMCE=iv}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t={characterIndices:{ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},SETS:[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp("[-'\\.‘’․﹒＇．]"),new RegExp("[:··״‧︓﹕：]"),new RegExp("[+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]"),new RegExp("[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]"),new RegExp("[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]"),new RegExp("[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]"),new RegExp("[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]"),new RegExp("@")],EMPTY_STRING:"",PUNCTUATION:new RegExp("^[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]$"),WHITESPACE:/^\s+$/},n=t.SETS,r=t.characterIndices.OTHER,o=function(e){var t,o,c=r,l=n.length;for(t=0;t<l;++t)if((o=n[t])&&o.test(e)){c=t;break}return c},c=t.characterIndices,g=function(e,t){var n,r,o=e[t],l=e[t+1];return!(t<0||t>e.length-1&&0!==t||o===c.ALETTER&&l===c.ALETTER||(r=e[t+2],o===c.ALETTER&&(l===c.MIDLETTER||l===c.MIDNUMLET||l===c.AT)&&r===c.ALETTER||(n=e[t-1],(o===c.MIDLETTER||o===c.MIDNUMLET||l===c.AT)&&l===c.ALETTER&&n===c.ALETTER||!(o!==c.NUMERIC&&o!==c.ALETTER||l!==c.NUMERIC&&l!==c.ALETTER)||(o===c.MIDNUM||o===c.MIDNUMLET)&&l===c.NUMERIC&&n===c.NUMERIC||o===c.NUMERIC&&(l===c.MIDNUM||l===c.MIDNUMLET)&&r===c.NUMERIC||o===c.EXTEND||o===c.FORMAT||n===c.EXTEND||n===c.FORMAT||l===c.EXTEND||l===c.FORMAT||o===c.CR&&l===c.LF||o!==c.NEWLINE&&o!==c.CR&&o!==c.LF&&l!==c.NEWLINE&&l!==c.CR&&l!==c.LF&&(o===c.KATAKANA&&l===c.KATAKANA||l===c.EXTENDNUMLET&&(o===c.ALETTER||o===c.NUMERIC||o===c.KATAKANA||o===c.EXTENDNUMLET)||o===c.EXTENDNUMLET&&(l===c.ALETTER||l===c.NUMERIC||l===c.KATAKANA)||o===c.AT))))},p=t.EMPTY_STRING,l=t.WHITESPACE,d=t.PUNCTUATION,f=function(e,t,n){var r=function(e,t){var n;for(n=t;n<e.length;++n){var r=e.charAt(n);if(l.test(r))break}return n}(t,n+1),o=t.substring(n+1,r);return"://"===o.substr(0,3)?{word:e+o,index:r}:{word:e,index:n}},m=function(e,t){return function(e,t){var n,r,c,m,u=0,i=function(e){var t,n,r=(t=o,n={},function(e){if(n[e])return n[e];var r=t(e);return n[e]=r,r});return function(e,t){var n=[];return function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0}(e,(function(r,o){n.push(t(r,o,e))})),n}(e.split(""),r)}(e),h=i.length,v=[],a=[];for(t||(t={}),t.ignoreCase&&(e=e.toLowerCase()),r=t.includePunctuation,c=t.includeWhitespace;u<h;++u)if(n=e.charAt(u),v.push(n),g(i,u)){if((v=v.join(p))&&(c||!l.test(v))&&(r||!d.test(v)))if("http"===(m=v)||"https"===m){var x=f(v,e,u);a.push(x.word),u=x.index}else a.push(v);v=[]}return a}(e.replace(/\ufeff/g,""),t)},h=function(e){return m((t=e,t.removed?"":t.getBody().innerText)).length;var t},v=tinymce.util.Tools.resolve("tinymce.util.Delay"),x=tinymce.util.Tools.resolve("tinymce.util.I18n");e.add("wordcount",(function(e){return function(e){var t=function(e){return x.translate(["{0} words",h(e)])},n=function(){e.theme.panel.find("#wordcount").text(t(e))};e.on("init",(function(){var r=e.theme.panel&&e.theme.panel.find("#statusbar")[0],o=v.debounce(n,300);r&&v.setEditorTimeout(e,(function(){r.insert({type:"label",name:"wordcount",text:t(e),classes:"wordcount",disabled:e.settings.readonly},0),e.on("setcontent beforeaddundo undo redo keyup",o)}),0)}))}(e),function(e){return{getCount:function(){return h(e)}}}(e)}))}(),function(){"use strict";var e,t,n,r,o=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},u=tinymce.util.Tools.resolve("tinymce.PluginManager"),a={" ":"nbsp","­":"shy"},c=function(e,t){var n,r="";for(n in e)r+=n;return new RegExp("["+r+"]",t?"g":"")},l=function(e){var t,n="";for(t in e)n&&(n+=","),n+="span.mce-"+e[t];return n},s={charMap:a,regExp:c(a),regExpGlobal:c(a,!0),selector:l(a),charMapToRegExp:c,charMapToSelector:l},d=function(e){return function(){return e}},f={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:d,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:d(!1),always:d(!0)},p=f.never,m=f.always,h=function(){return g},g=(r={fold:function(e,t){return e()},is:p,isSome:p,isNone:m,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:h,ap:h,each:function(){},bind:h,flatten:h,exists:p,forall:m,filter:h,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:f.constant("none()")},Object.freeze&&Object.freeze(r),r),v=(Array.prototype.indexOf,function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var u=e[o];r[o]=t(u,o,e)}return r}),x=(Array.prototype.push,Array.prototype.slice,v),b=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},y=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:f.constant(e)}},w=y,k=function(e){return e.dom().nodeName.toLowerCase()},C=function(e){return e.dom().nodeType},_=function(e){return function(t){return C(t)===e}},S=_(1),E=_(3),T=_(9),q={name:k,type:C,value:function(e){return e.dom().nodeValue},isElement:S,isText:E,isDocument:T,isComment:function(e){return 8===C(e)||"#comment"===k(e)}},N=function(e){return'<span data-mce-bogus="1" class="mce-'+s.charMap[e]+'">'+e+"</span>"},R=function(e){return q.isText(e)&&void 0!==q.value(e)&&s.regExp.test(q.value(e))},A=function e(t,n){var r=[],o=t.dom(),c=x(o.childNodes,w);return b(c,(function(t){n(t)&&(r=r.concat([t])),r=r.concat(e(t,n))})),r},D=function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}},P=function(e){return e.replace(s.regExpGlobal,N)},O=function(e,t){var n,r,o=A(w(t),R);b(o,(function(t){var o=P(q.value(t));for(r=e.dom.create("div",null,o);n=r.lastChild;)e.dom.insertAfter(n,t.dom());e.dom.remove(t.dom())}))},M=function(e,t){var n=e.dom.select(s.selector,t);b(n,(function(t){e.dom.remove(t,1)}))},B=O,I=M,z=function(e){var t=e.getBody(),n=e.selection.getBookmark(),r=D(e.selection.getNode(),t);M(e,r=void 0!==r?r:t),O(e,r),e.selection.moveToBookmark(n)},L=function(e,t){e.addCommand("mceVisualChars",(function(){!function(e,t){var n,r=e.getBody(),o=e.selection;t.set(!t.get()),function(e,t){e.fire("VisualChars",{state:t})}(e,t.get()),n=o.getBookmark(),!0===t.get()?B(e,r):I(e,r),o.moveToBookmark(n)}(e,t)}))},H=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=function(e){return function(t){var n=t.control;e.on("VisualChars",(function(e){n.active(e.state)}))}};u.add("visualchars",(function(e){var t,n=o(!1);return L(e,n),(t=e).addButton("visualchars",{active:!1,title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:F(t)}),t.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:F(t),selectable:!0,context:"view",prependToContext:!0}),function(e,t){var n=H.debounce((function(){z(e)}),300);!1!==e.settings.forced_root_block&&e.on("keydown",(function(r){!0===t.get()&&(13===r.keyCode?z(e):n())}))}(e,n),function(e){return{isEnabled:function(){return e.get()}}}(n)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=i.DOM.uniqueId(),u=function(e,t){var o=n.toArray(e.getElementsByTagName("link"));if(0===n.grep(o,(function(e){return e.id===r})).length){var c=i.DOM.create("link",{id:r,rel:"stylesheet",href:t});e.getElementsByTagName("head")[0].appendChild(c)}},a=function(e,t,n){var i=e.dom,r=function(e){return e.settings.visualblocks_content_css}(e);u(e.getDoc(),r||t+"/css/visualblocks.css"),i.toggleClass(e.getBody(),"mce-visualblocks"),n.set(!n.get()),function(e,t){e.fire("VisualBlocks",{state:t})}(e,n.get())},o=function(e,t,n){e.on("PreviewFormats AfterPreviewFormats",(function(t){n.get()&&e.dom.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)})),e.on("init",(function(){(function(e){return e.getParam("visualblocks_default_state",!1)})(e)&&a(e,t,n)})),e.on("remove",(function(){e.dom.removeClass(e.getBody(),"mce-visualblocks")}))},c=function(e,t){return function(n){var r=n.control;r.active(t.get()),e.on("VisualBlocks",(function(e){r.active(e.state)}))}};t.add("visualblocks",(function(t,n){var r=e(!1);(function(e,t,n){e.addCommand("mceVisualBlocks",(function(){a(e,t,n)}))})(t,n,r),function(e,t){e.addButton("visualblocks",{active:!1,title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:c(e,t)}),e.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:c(e,t),selectable:!0,context:"view",prependToContext:!0})}(t,r),o(t,n,r)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"***",end:"***",format:["bold","italic"]},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],a=function(e){return void 0!==e.textpattern_patterns?e.textpattern_patterns:n},r=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.VK"),s=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),o=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=function(e,t){for(var n=0;n<e.length;n++)if(0===t.indexOf(e[n].start)&&(!e[n].end||t.lastIndexOf(e[n].end)===t.length-e[n].end.length))return e[n]},l=function(e,t,n){if(!1!==t.collapsed){var r=t.startContainer,a=r.data,o=!0===n?1:0;if(3===r.nodeType){var i=function(e,t,n,r){var a,o,i,s,c,l,d=e.sort((function(e,t){return e.start.length>t.start.length?-1:e.start.length<t.start.length?1:0}));for(o=0;o<d.length;o++)if(void 0!==(a=d[o]).end&&(s=a,c=n,l=r,t.substr(c-s.end.length-l,s.end.length)===s.end)&&n-r-(i=a).end.length-i.start.length>0)return a}(e,a,t.startOffset,o);if(void 0!==i){var s=a.lastIndexOf(i.end,t.startOffset-o),l=a.lastIndexOf(i.start,s-i.end.length);if(s=a.indexOf(i.end,l+i.start.length),-1!==l){var d=document.createRange();d.setStart(r,l),d.setEnd(r,s+i.end.length);var u=c(e,d.toString());if(!(void 0===i||u!==i||r.data.length<=i.start.length+i.end.length))return{pattern:i,startOffset:l,endOffset:s}}}}}},u=function(e,t,n){var r=e.selection.getRng(!0),a=l(t,r,n);if(a)return function(e,t,n,r){var a=o.isArray(n.pattern.format)?n.pattern.format:[n.pattern.format];if(0!==o.grep(a,(function(t){var n=e.formatter.get(t);return n&&n[0].inline})).length)return e.undoManager.transact((function(){var r,o,i,s;r=t,o=n.pattern,i=n.endOffset,(r=(s=n.startOffset)>0?r.splitText(s):r).splitText(i-s+o.end.length),r.deleteData(0,o.start.length),r.deleteData(r.data.length-o.end.length,o.end.length),t=r,a.forEach((function(n){e.formatter.apply(n,{},t)}))})),t}(e,r.startContainer,a)},d=function(e,t){return u(e,t,!0)},f=function(e,t){return u(e,t,!1)},m=function(e,t){var n,r,a,l,i,d,f,u,g,m,h;if(n=e.selection,r=e.dom,n.isCollapsed()&&(f=r.getParent(n.getStart(),"p"))){for(g=new s(f,f);i=g.next();)if(3===i.nodeType){l=i;break}if(l){if(!(u=c(t,l.data)))return;if(a=(m=n.getRng(!0)).startContainer,h=m.startOffset,l===a&&(h=Math.max(0,h-u.start.length)),o.trim(l.data).length===u.start.length)return;u.format&&(d=e.formatter.get(u.format))&&d[0].block&&(l.deleteData(0,u.start.length),e.formatter.apply(u.format,{},l),m.setStart(a,h),m.collapse(!0),n.setRng(m)),u.cmd&&e.undoManager.transact((function(){l.deleteData(0,u.start.length),e.execCommand(u.cmd)}))}}},h=function(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return!0},v=function(e,t){var n,r;(n=f(e,t))&&((r=e.dom.createRng()).setStart(n,n.data.length),r.setEnd(n,n.data.length),e.selection.setRng(r)),m(e,t)},x=function(e,t){var n,r,a,o,i;(n=d(e,t))&&(i=e.dom,r=n.data.slice(-1),/[\u00a0 ]/.test(r)&&(n.deleteData(n.data.length-1,1),a=i.doc.createTextNode(r),i.insertAfter(a,n.parentNode),(o=i.createRng()).setStart(a,1),o.setEnd(a,1),e.selection.setRng(o)))},y=function(e,t){return h(e,t,(function(e,t){return e.charCodeAt(0)===t.charCode}))},w=function(e,t){return h(e,t,(function(e,t){return e===t.keyCode&&!1===i.modifierPressed(t)}))};t.add("textpattern",(function(t){var n=e(a(t.settings));return function(e,t){var n=[",",".",";",":","!","?"],o=[32];e.on("keydown",(function(n){13!==n.keyCode||i.modifierPressed(n)||v(e,t.get())}),!0),e.on("keyup",(function(n){w(o,n)&&x(e,t.get())})),e.on("keypress",(function(o){y(n,o)&&r.setEditorTimeout(e,(function(){x(e,t.get())}))}))}(t,n),function(e){return{setPatterns:function(t){e.set(t)},getPatterns:function(){return e.get()}}}(n)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],u=function(e){return e.getParam("textcolor_map",i)},r=function(e){return e.getParam("textcolor_rows",5)},s=function(e){return e.getParam("textcolor_cols",8)},o=function(e){return e.getParam("color_picker_callback",null)},p=function(e){return e.getParam("forecolor_cols",s(e))},c=function(e){return e.getParam("backcolor_cols",s(e))},l=o,d=tinymce.util.Tools.resolve("tinymce.util.I18n"),f=function(e,n,r,o){var a,c,i,u,l,s,f,m=0,g=t.DOM.uniqueId("mcearia"),h=function(e,t){var n="transparent"===e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+g+"-"+m+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+d.translate(t)+'">'+(n?"&#215;":"")+"</div></td>"};for((a=function(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push({text:e[t+1],color:"#"+e[t]});return n}(r)).push({text:d.translate("No color"),color:"transparent"}),i='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',u=a.length-1,s=0;s<n;s++){for(i+="<tr>",l=0;l<e;l++)i+=(f=s*e+l)>u?"<td></td>":h((c=a[f]).color,c.text);i+="</tr>"}if(o){for(i+='<tr><td colspan="'+e+'" class="mce-custom-color-btn"><div id="'+g+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+g+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+d.translate("Custom...")+"</button></div></td></tr>",i+="<tr>",l=0;l<e;l++)i+=h("","Custom color");i+="</tr>"}return i+"</tbody></table>"},m=function(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)},h=function(e){return function(t){var n=t.control;n._color?e.execCommand("mceApplyTextcolor",n.settings.format,n._color):e.execCommand("mceRemoveTextcolor",n.settings.format)}},v=function(e,r){return function(o){var c,a=this.parent(),i=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=r)})),n}(e,a.settings.format),u=function(t){a.hidePanel(),a.color(t),e.execCommand("mceApplyTextcolor",a.settings.format,t)};t.DOM.getParent(o.target,".mce-custom-color-btn")&&(a.hidePanel(),l(e).call(e,(function(e){var t,o,c,l=a.panel.getEl().getElementsByTagName("table")[0];for(t=n.map(l.rows[l.rows.length-1].childNodes,(function(e){return e.firstChild})),c=0;c<t.length&&(o=t[c]).getAttribute("data-mce-color");c++);if(c===r)for(c=0;c<r-1;c++)m(t[c],t[c+1].getAttribute("data-mce-color"));m(o,e),u(e)}),i)),(c=o.target.getAttribute("data-mce-color"))?(this.lastId&&t.DOM.get(this.lastId).setAttribute("aria-selected",!1),o.target.setAttribute("aria-selected",!0),this.lastId=o.target.id,"transparent"===c?(a.hidePanel(),a.resetColor(),e.execCommand("mceRemoveTextcolor",a.settings.format)):u(c)):null!==c&&a.hidePanel()}},x=function(e,t){return function(){var n=t?p(e):c(e),l=t?function(e){return e.getParam("forecolor_rows",r(e))}(e):function(e){return e.getParam("backcolor_rows",r(e))}(e),d=t?function(e){return e.getParam("forecolor_map",u(e))}(e):function(e){return e.getParam("backcolor_map",u(e))}(e),a=function(e){return"function"==typeof o(e)}(e);return f(n,l,d,a)}};e.add("textcolor",(function(e){(function(e){e.addCommand("mceApplyTextcolor",(function(t,n){!function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){!function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}(e,t)}))})(e),function(e){e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:x(e,!0),onclick:v(e,p(e))},onclick:h(e)}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:x(e,!1),onclick:v(e,c(e))},onclick:h(e)})}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(){return e}},a=(t(!1),t(!0),tinymce.util.Tools.resolve("tinymce.util.Tools")),n=tinymce.util.Tools.resolve("tinymce.util.XHR"),r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=function(e){return e.getParam("template_replace_values")},o=function(e){return e.getParam("template_mdate_format",e.getLang("template.mdate_format"))},c=function(e){return e.getParam("template_popup_width",600)},g=function(e){return Math.min(r.DOM.getViewPort().h,e.getParam("template_popup_height",500))},l=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},d=function(e,t,n){var a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),r="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),o="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" ");return n=n||new Date,(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",l(n.getMonth()+1,2))).replace("%d",l(n.getDate(),2))).replace("%H",""+l(n.getHours(),2))).replace("%M",""+l(n.getMinutes(),2))).replace("%S",""+l(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(c[n.getMonth()]))).replace("%b",""+e.translate(o[n.getMonth()]))).replace("%A",""+e.translate(r[n.getDay()]))).replace("%a",""+e.translate(a[n.getDay()]))).replace("%%","%")},f=function(e,t,n){return a.each(n,(function(e,n){"function"==typeof e&&(e=e(n)),t=t.replace(new RegExp("\\{\\$"+n+"\\}","g"),e)})),t},m=function(e,t){var n=e.dom,r=u(e);a.each(n.select("*",t),(function(e){a.each(r,(function(t,a){n.hasClass(e,a)&&"function"==typeof r[a]&&r[a](e)}))}))},h=function(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)},b=function(e,t){return function(){var r=function(e){return e.templates}(e);"function"!=typeof r?"string"==typeof r?n.send({url:r,success:function(e){t(JSON.parse(e))}}):t(r):r(t)}},v=f,x=m,y=function(e,t,n){var r,c,s=e.dom,p=e.selection.getContent();n=f(0,n,u(e)),r=s.create("div",null,n),(c=s.select(".mceTmpl",r))&&c.length>0&&(r=s.create("div",null)).appendChild(c[0].cloneNode(!0)),a.each(s.select("*",r),(function(t){h(t,function(e){return e.getParam("template_cdate_classes","cdate")}(e).replace(/\s+/g,"|"))&&(t.innerHTML=d(e,function(e){return e.getParam("template_cdate_format",e.getLang("template.cdate_format"))}(e))),h(t,function(e){return e.getParam("template_mdate_classes","mdate")}(e).replace(/\s+/g,"|"))&&(t.innerHTML=d(e,o(e))),h(t,function(e){return e.getParam("template_selected_content_classes","selcontent")}(e).replace(/\s+/g,"|"))&&(t.innerHTML=p)})),m(e,r),e.execCommand("mceInsertContent",!1,r.innerHTML),e.addVisual()},w=function(e){e.addCommand("mceInsertTemplate",function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];var r=t.concat(n);return e.apply(null,r)}}(y,e))},k=function(e,t,n){if(-1===n.indexOf("<html>")){var r="";a.each(e.contentCSS,(function(t){r+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'}));var o=e.settings.body_class||"";-1!==o.indexOf("=")&&(o=(o=e.getParam("body_class","","hash"))[e.id]||""),n="<!DOCTYPE html><html><head>"+r+'</head><body class="'+o+'">'+n+"</body></html>"}n=v(e,n,function(e){return e.getParam("template_preview_replace_values")}(e));var c=t.find("iframe")[0].getEl().contentWindow.document;c.open(),c.write(n),c.close()},C=function(e){return function(t){!function(e,t){var r,o,l=[];if(t&&0!==t.length)a.each(t,(function(e){l.push({selected:!l.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})})),(r=e.windowManager.open({title:"Insert template",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Templates",items:{type:"listbox",label:"Templates",name:"template",values:l,onselect:function(t){var a=t.control.value();a.url?n.send({url:a.url,success:function(t){k(e,r,o=t)}}):(o=a.content,k(e,r,o)),r.find("#description")[0].text(t.control.value().description)}}}]},{type:"label",name:"description",label:"Description",text:" "},{type:"iframe",flex:1,border:1}],onsubmit:function(){y(e,0,o)},minWidth:c(e),minHeight:g(e)})).find("listbox")[0].fire("select");else{var d=e.translate("No templates defined.");e.notificationManager.open({text:d,type:"info"})}}(e,t)}};e.add("template",(function(e){(function(e){e.addButton("template",{title:"Insert template",onclick:b(e.settings,C(e))}),e.addMenuItem("template",{text:"Template",onclick:b(e.settings,C(e)),icon:"template",context:"insert"})})(e),w(e),function(e){e.on("PreProcess",(function(t){var n=e.dom,r=o(e);a.each(n.select("div",t.node),(function(t){n.hasClass(t,"mceTmpl")&&(a.each(n.select("*",t),(function(t){n.hasClass(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=d(e,r))})),x(e,t))}))}))}(e)}))}(),function(){"use strict";var e,t,n,r,c,i,u,l,d,s,f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(e){return function(){return e}},h={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:m,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:m(!1),always:m(!0)},g=h.never,p=h.always,v=function(){return x},x=(r={fold:function(e,t){return e()},is:g,isSome:g,isNone:p,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:v,ap:v,each:function(){},bind:v,flatten:v,exists:g,forall:p,filter:v,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:h.constant("none()")},Object.freeze&&Object.freeze(r),r),b=function b(e){var t=function(){return e},n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:p,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return b(t(e))},ap:function(t){return t.fold(v,(function(t){return b(t(e))}))},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?o:x},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(g,(function(t){return n(e,t)}))},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},y={some:b,none:v,from:function(e){return null==e?x:b(e)}},w=void 0===(c=Array.prototype.indexOf)?function(e,t){return N(e,t)}:function(e,t){return c.call(e,t)},k=function(e,t){return w(e,t)>-1},C=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},_=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},S=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n,e)},E=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},T=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return y.some(n);return y.none()},N=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},R=Array.prototype.push,A=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},D=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},P=Array.prototype.slice,O=C,M=_,B=E,I=function(e,t,n){return S(e,(function(e){n=t(n,e)})),n},z=function(e,t,n){return _(e,(function(e){n=t(n,e)})),n},L=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return y.some(o)}return y.none()},H=T,F=A,j=function(e,t){var n=C(e,t);return A(n)},U=D,W=function(e,t){return T(e,t).isSome()},$=k,V=function(e){var t=P.call(e,0);return t.reverse(),t},G=function(e){return 0===e.length?y.none():y.some(e[e.length-1])},Y=void 0===(i=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:i,X=function(e,t){for(var n=Y(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},J=function(e,t){var n={};return X(e,(function(r,o){var i=t(r,o,e);n[i.k]=i.v})),n},K=function(e,t){var n=[];return X(e,(function(e,r){n.push(t(e,r))})),n},Z=function(e){return K(e,(function(e){return e}))},Q={bifilter:function(e,t){var n={},r={};return X(e,(function(e,o){(t(e,o)?n:r)[o]=e})),{t:n,f:r}},each:X,map:function(e,t){return J(e,(function(e,n,r){return{k:n,v:t(e,n,r)}}))},mapToArray:K,tupleMap:J,find:function(e,t){for(var n=Y(e),r=0,o=n.length;r<o;r++){var i=n[r],u=e[i];if(t(u,i,e))return y.some(u)}return y.none()},keys:Y,values:Z,size:function(e){return Z(e).length}},q=function(e){return function(t){return function(e){if(null===e)return"null";var t=o(e);return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(t)===e}},ee={isString:q("string"),isObject:q("object"),isArray:q("array"),isNull:q("null"),isBoolean:q("boolean"),isUndefined:q("undefined"),isFunction:q("function"),isNumber:q("number")},te=function(e){return e.slice(0).sort()},ne=function(e,t){throw new Error("All required keys ("+te(e).join(", ")+") were not specified. Specified keys were: "+te(t).join(", ")+".")},re=function(e){throw new Error("Unsupported keys for object: "+te(e).join(", "))},oe=function(e,t){if(!ee.isArray(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");M(t,(function(t){if(!ee.isString(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},ie=function(e){var t=te(e);L(t,(function(e,n){return n<t.length-1&&e===t[n+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},ae={immutable:function(){var e=arguments;return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return M(e,(function(e,n){r[e]=h.constant(t[n])})),r}},immutableBag:function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return oe("required",e),oe("optional",t),ie(n),function(r){var o=Q.keys(r);U(e,(function(e){return $(o,e)}))||ne(e,o);var i=B(o,(function(e){return!$(n,e)}));i.length>0&&re(i);var u={};return M(e,(function(e){u[e]=h.constant(r[e])})),M(t,(function(e){u[e]=h.constant(Object.prototype.hasOwnProperty.call(r,e)?y.some(r[e]):y.none())})),u}}},se=ae.immutable("width","height"),ce=ae.immutable("rows","columns"),le=ae.immutable("row","column"),ue=ae.immutable("x","y"),de=ae.immutable("element","rowspan","colspan"),fe=ae.immutable("element","rowspan","colspan","isNew"),pe={dimensions:se,grid:ce,address:le,coords:ue,extended:ae.immutable("element","rowspan","colspan","row","column"),detail:de,detailnew:fe,rowdata:ae.immutable("element","cells","section"),elementnew:ae.immutable("element","isNew"),rowdatanew:ae.immutable("element","cells","section","isNew"),rowcells:ae.immutable("cells","section"),rowdetails:ae.immutable("details","section"),bounds:ae.immutable("startRow","startCol","finishRow","finishCol")},me=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:h.constant(e)}},he={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return me(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return me(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return me(n)},fromDom:me,fromPoint:function(e,t,n){return y.from(e.dom().elementFromPoint(t,n)).map(me)}},ge=function(e){return 1!==e.nodeType&&9!==e.nodeType||0===e.childElementCount},be={all:function(e,t){var n=void 0===t?document:t.dom();return ge(n)?[]:O(n.querySelectorAll(e),he.fromDom)},is:function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return ge(n)?y.none():y.from(n.querySelector(e)).map(he.fromDom)}},ve=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},xe="undefined"!=typeof window?window:Function("return this;")(),ye=function(e,t){return function(e,t){for(var n=null!=t?t:xe,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n}(e.split("."),t)},we=function(){return function(e,t){var n=ye(e,t);if(null==n)throw e+" not available on this browser";return n}("Node")},ke=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},Ce=function(){return _e(0,0)},_e=function(e,t){return{major:e,minor:t}},Se=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ce():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return _e(r(1),r(2))}(e,n)},Ee=Ce,Te="Firefox",Ne=function(e,t){return function(){return t===e}},Re=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Ne("Edge",t),isChrome:Ne("Chrome",t),isIE:Ne("IE",t),isOpera:Ne("Opera",t),isFirefox:Ne(Te,t),isSafari:Ne("Safari",t)}},Ae=function(){return Re({current:void 0,version:Ee()})},De=Re,Pe=(h.constant("Edge"),h.constant("Chrome"),h.constant("IE"),h.constant("Opera"),h.constant(Te),h.constant("Safari"),"Windows"),Oe="Android",Me="Solaris",Be="FreeBSD",Ie=function(e,t){return function(){return t===e}},ze=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Ie(Pe,t),isiOS:Ie("iOS",t),isAndroid:Ie(Oe,t),isOSX:Ie("OSX",t),isLinux:Ie("Linux",t),isSolaris:Ie(Me,t),isFreeBSD:Ie(Be,t)}},Le=function(){return ze({current:void 0,version:Ee()})},He=ze,Fe=(h.constant(Pe),h.constant("iOS"),h.constant(Oe),h.constant("Linux"),h.constant("OSX"),h.constant(Me),h.constant(Be),function(e,t){var n=String(t).toLowerCase();return L(e,(function(e){return e.search(n)}))}),je=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},Ue=function(e,t){return je(e,t,e.length-t.length)},We=Ue,$e=function(e,t){return-1!==e.indexOf(t)},qe=function(e){return e.replace(/^\s+|\s+$/g,"")},Ve=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ge=function(e){return function(t){return $e(t,e)}},Ye=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return $e(e,"edge/")&&$e(e,"chrome")&&$e(e,"safari")&&$e(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ve],search:function(e){return $e(e,"chrome")&&!$e(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return $e(e,"msie")||$e(e,"trident")}},{name:"Opera",versionRegexes:[Ve,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ge("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ge("firefox")},{name:"Safari",versionRegexes:[Ve,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return($e(e,"safari")||$e(e,"mobile/"))&&$e(e,"applewebkit")}}],Xe=[{name:"Windows",search:Ge("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return $e(e,"iphone")||$e(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ge("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ge("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ge("linux"),versionRegexes:[]},{name:"Solaris",search:Ge("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ge("freebsd"),versionRegexes:[]}],Je={browsers:h.constant(Ye),oses:h.constant(Xe)},Ke=function(e){var t,n,r,o,i,u,a,c,l,s,d,f=Je.browsers(),g=Je.oses(),p=function(e,t){return Fe(e,t).map((function(e){var n=Se(e.versionRegexes,t);return{current:e.name,version:n}}))}(f,e).fold(Ae,De),m=function(e,t){return Fe(e,t).map((function(e){var n=Se(e.versionRegexes,t);return{current:e.name,version:n}}))}(g,e).fold(Le,He);return{browser:p,os:m,deviceType:(n=p,r=e,o=(t=m).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,u=t.isAndroid()&&3===t.version.major,a=t.isAndroid()&&4===t.version.major,c=o||u||a&&!0===/mobile/i.test(r),l=t.isiOS()||t.isAndroid(),s=l&&!c,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:h.constant(o),isiPhone:h.constant(i),isTablet:h.constant(c),isPhone:h.constant(s),isTouch:h.constant(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:h.constant(d)})}},Ze={detect:ke((function(){var e=navigator.userAgent;return Ke(e)}))},Qe=function(e,t){return e.dom()===t.dom()},rt=Ze.detect().browser.isIE()?function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,we().DOCUMENT_POSITION_CONTAINED_BY)}(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},et={eq:Qe,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return W(t,h.curry(Qe,e))},contains:rt,is:be.is},tt=function(e){return he.fromDom(e.dom().ownerDocument)},nt=function(e){var t=e.dom();return y.from(t.parentNode).map(he.fromDom)},ot=function(e){var t=e.dom();return y.from(t.previousSibling).map(he.fromDom)},it=function(e){var t=e.dom();return y.from(t.nextSibling).map(he.fromDom)},at=function(e){var t=e.dom();return O(t.childNodes,he.fromDom)},st=function(e,t){var n=e.dom().childNodes;return y.from(n[t]).map(he.fromDom)},ct=ae.immutable("element","offset"),dt={owner:tt,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return he.fromDom(t)},documentElement:function(e){var t=tt(e);return he.fromDom(t.dom().documentElement)},parent:nt,findIndex:function(e){return nt(e).bind((function(t){var n=at(t);return H(n,(function(t){return et.eq(e,t)}))}))},parents:function(e,t){for(var n=ee.isFunction(t)?t:h.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=he.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o},siblings:function(e){return nt(e).map(at).map((function(t){return B(t,(function(t){return!et.eq(e,t)}))})).getOr([])},prevSibling:ot,offsetParent:function(e){var t=e.dom();return y.from(t.offsetParent).map(he.fromDom)},prevSiblings:function(e){return V(ve(e,ot))},nextSibling:it,nextSiblings:function(e){return ve(e,it)},children:at,child:st,firstChild:function(e){return st(e,0)},lastChild:function(e){return st(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=at(e);return n.length>0&&t<n.length?ct(n[t],0):ct(e,t)}},lt=function e(t,n,r){return j(dt.children(t),(function(t){return be.is(t,n)?r(t)?[t]:[]:e(t,n,r)}))},ut=function(e,t){return lt(e,t,h.constant(!0))},ft=lt,pt=function(e){return e.dom().nodeName.toLowerCase()},mt=function(e){return e.dom().nodeType},ht=function(e){return function(t){return mt(t)===e}},gt=ht(1),bt=ht(3),vt=ht(9),xt={name:pt,type:mt,value:function(e){return e.dom().nodeValue},isElement:gt,isText:bt,isDocument:vt,isComment:function(e){return 8===mt(e)||"#comment"===pt(e)}},yt=function(e,t,n){if(!(ee.isString(n)||ee.isBoolean(n)||ee.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},wt=function(e,t,n){yt(e.dom(),t,n)},kt=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ct=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},_t={clone:function(e){return z(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},set:wt,setAll:function(e,t){var n=e.dom();Q.each(t,(function(e,t){yt(n,t,e)}))},get:kt,has:Ct,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return null==t||0===t.length},transfer:function(e,t,n){xt.isElement(e)&&xt.isElement(t)&&M(n,(function(n){var r,o,i;o=t,Ct(r=e,i=n)&&!Ct(o,i)&&wt(o,i,kt(r,i))}))}},St=ke((function(){return Et(he.fromDom(document))})),Et=function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return he.fromDom(t)},Tt={body:St,getBody:Et,inBody:function(e){var t=xt.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}},Nt=function e(t,n){var r=[];return M(dt.children(t),(function(t){n(t)&&(r=r.concat([t])),r=r.concat(e(t,n))})),r},Rt={all:function(e){return Nt(Tt.body(),e)},ancestors:function(e,t,n){return B(dt.parents(e,n),t)},siblings:function(e,t){return B(dt.siblings(e),t)},children:function(e,t){return B(dt.children(e),t)},descendants:Nt},At={all:function(e){return be.all(e)},ancestors:function(e,t,n){return Rt.ancestors(e,(function(e){return be.is(e,t)}),n)},siblings:function(e,t){return Rt.siblings(e,(function(e){return be.is(e,t)}))},children:function(e,t){return Rt.children(e,(function(e){return be.is(e,t)}))},descendants:function(e,t){return be.all(t,e)}},Dt=function(e,t,n,r,o){return e(n,r)?y.some(n):ee.isFunction(o)&&o(n)?y.none():t(n,r,o)},Pt=function(e,t,n){for(var r=e.dom(),o=ee.isFunction(n)?n:h.constant(!1);r.parentNode;){r=r.parentNode;var i=he.fromDom(r);if(t(i))return y.some(i);if(o(i))break}return y.none()},Ot=function(e,t){return L(e.dom().childNodes,h.compose(t,he.fromDom)).map(he.fromDom)},Mt=function(e,t){return function e(n){for(var r=0;r<n.childNodes.length;r++){if(t(he.fromDom(n.childNodes[r])))return y.some(he.fromDom(n.childNodes[r]));var o=e(n.childNodes[r]);if(o.isSome())return o}return y.none()}(e.dom())},Bt={first:function(e){return Mt(Tt.body(),e)},ancestor:Pt,closest:function(e,t,n){return Dt((function(e){return t(e)}),Pt,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?Ot(he.fromDom(n.parentNode),(function(n){return!et.eq(e,n)&&t(n)})):y.none()},child:Ot,descendant:Mt},It=function(e,t,n){return Bt.ancestor(e,(function(e){return be.is(e,t)}),n)},zt={first:function(e){return be.one(e)},ancestor:It,sibling:function(e,t){return Bt.sibling(e,(function(e){return be.is(e,t)}))},child:function(e,t){return Bt.child(e,(function(e){return be.is(e,t)}))},descendant:function(e,t){return be.one(t,e)},closest:function(e,t,n){return Dt(be.is,It,e,t,n)}},Lt=function(e,t){return dt.parent(t).map((function(t){return At.children(t,e)}))},Ht=function(e,t){return function(e,t,n){var r=void 0!==n?n:h.constant(!1);return r(t)?y.none():$(e,xt.name(t))?y.some(t):zt.ancestor(t,e.join(","),(function(e){return be.is(e,"table")||r(e)}))}(["td","th"],e,t)},Ft=function(e){return ut(e,"th,td")},jt=(h.curry(Lt,"th,td"),function(e,t){return zt.closest(e,"table",t)}),Ut=(h.curry(Lt,"tr"),function(e){var t=function(e){return ut(e,"tr")}(e);return O(t,(function(e){var t=e,n=dt.parent(t).bind((function(e){var t=xt.name(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"})),r=O(Ft(e),(function(e){var t=_t.has(e,"rowspan")?parseInt(_t.get(e,"rowspan"),10):1,n=_t.has(e,"colspan")?parseInt(_t.get(e,"colspan"),10):1;return pe.detail(e,t,n)}));return pe.rowdata(t,r,n)}))}),Wt=function(e,t){return e+","+t},$t=function(e,t){var n=j(e.all(),(function(e){return e.cells()}));return B(n,t)},qt=function(e){var t={},n=[],r=e.length,o=0;M(e,(function(e,r){var i=[];M(e.cells(),(function(e,n){for(var u=0;void 0!==t[Wt(r,u)];)u++;for(var a=pe.extended(e.element(),e.rowspan(),e.colspan(),r,u),c=0;c<e.colspan();c++)for(var l=0;l<e.rowspan();l++){var s=u+c,d=Wt(r+l,s);t[d]=a,o=Math.max(o,s+1)}i.push(a)})),n.push(pe.rowdata(e.element(),i,e.section()))}));var i=pe.grid(r,o);return{grid:h.constant(i),access:h.constant(t),all:h.constant(n)}},Vt=function(e,t,n){var r=e.access()[Wt(t,n)];return void 0!==r?y.some(r):y.none()},Gt=function(e,t,n){var r=$t(e,(function(e){return n(t,e.element())}));return r.length>0?y.some(r[0]):y.none()},Yt=$t,Xt=function(e){var t=O(e.all(),(function(e){return e.cells()}));return F(t)},Jt=function(e){return void 0!==e.style},Kt=function(e,t,n){if(!ee.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Jt(e)&&e.style.setProperty(t,n)},Zt=function(e,t){Jt(e)&&e.style.removeProperty(t)},Qt=function(e,t,n){var r=e.dom();Kt(r,t,n)},en=function(e,t){return Jt(e)?e.style.getPropertyValue(t):""},tn=function(e,t){var n=e.dom(),r=en(n,t);return y.from(r).filter((function(e){return e.length>0}))},nn={copy:function(e,t){var n=e.dom(),r=t.dom();Jt(n)&&Jt(r)&&(r.style.cssText=n.style.cssText)},set:Qt,preserve:function(e,t){var n=_t.get(e,"style"),r=t(e);return(void 0===n?_t.remove:_t.set)(e,"style",n),r},setAll:function(e,t){var n=e.dom();Q.each(t,(function(e,t){Kt(n,t,e)}))},setOptions:function(e,t){var n=e.dom();Q.each(t,(function(e,t){e.fold((function(){Zt(n,t)}),(function(e){Kt(n,t,e)}))}))},remove:function(e,t){var n=e.dom();Zt(n,t),_t.has(e,"style")&&""===qe(_t.get(e,"style"))&&_t.remove(e,"style")},get:function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||Tt.inBody(e)?r:en(n,t);return null===o?void 0:o},getRaw:tn,getAllRaw:function(e){var t={},n=e.dom();if(Jt(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},isValidValue:function(e,t,n){var r=he.fromTag(e);return Qt(r,t,n),tn(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(e,t,n){xt.isElement(e)&&xt.isElement(t)&&M(n,(function(n){var r,o;r=t,tn(e,o=n).each((function(e){tn(r,o).isNone()&&Qt(r,o,e)}))}))}},rn=function(e,t){dt.parent(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},on=function(e,t){e.dom().appendChild(t.dom())},an={before:rn,after:function(e,t){dt.nextSibling(e).fold((function(){dt.parent(e).each((function(e){on(e,t)}))}),(function(e){rn(e,t)}))},prepend:function(e,t){dt.firstChild(e).fold((function(){on(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},append:on,appendAt:function(e,t,n){dt.child(e,n).fold((function(){on(e,t)}),(function(e){rn(e,t)}))},wrap:function(e,t){rn(e,t),on(t,e)}},sn={before:function(e,t){M(t,(function(t){an.before(e,t)}))},after:function(e,t){M(t,(function(n,r){var o=0===r?e:t[r-1];an.after(o,n)}))},prepend:function(e,t){M(t.slice().reverse(),(function(t){an.prepend(e,t)}))},append:function(e,t){M(t,(function(t){an.append(e,t)}))}},cn=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},ln={empty:function(e){e.dom().textContent="",M(dt.children(e),(function(e){cn(e)}))},remove:cn,unwrap:function(e){var t=dt.children(e);t.length>0&&sn.before(e,t),cn(e)}},un=ae.immutable("minRow","minCol","maxRow","maxCol"),dn=function(e,t){var n,r,o,i,u,a,c,l,s,d,f=function(e){return be.is(e.element(),t)},m=Ut(e),g=qt(m),p=(r=f,o=(n=g).grid().columns(),i=n.grid().rows(),u=o,a=0,c=0,Q.each(n.access(),(function(e){if(r(e)){var t=e.row(),n=t+e.rowspan()-1,o=e.column(),l=o+e.colspan()-1;t<i?i=t:n>a&&(a=n),o<u?u=o:l>c&&(c=l)}})),un(i,u,a,c)),h="th:not("+t+"),td:not("+t+")",v=ft(e,"th,td",(function(e){return be.is(e,h)}));return M(v,ln.remove),function(e,t,n,r){for(var o,i,u,a=t.grid().columns(),c=t.grid().rows(),l=0;l<c;l++)for(var s=!1,d=0;d<a;d++)l<n.minRow()||l>n.maxRow()||d<n.minCol()||d>n.maxCol()||(Vt(t,l,d).filter(r).isNone()?(o=s,i=e[l].element(),u=he.fromTag("td"),an.append(u,he.fromTag("br")),(o?an.append:an.prepend)(i,u)):s=!0)}(m,g,p,f),s=p,d=B(ut(l=e,"tr"),(function(e){return 0===e.dom().childElementCount})),M(d,ln.remove),s.minCol()!==s.maxCol()&&s.minRow()!==s.maxRow()||M(ut(l,"th,td"),(function(e){_t.remove(e,"rowspan"),_t.remove(e,"colspan")})),_t.remove(l,"width"),_t.remove(l,"height"),nn.remove(l,"width"),nn.remove(l,"height"),e},fn=function(e,t){return he.fromDom(e.dom().cloneNode(t))},pn=function(e){return fn(e,!0)},mn=function(e){return fn(e,!1)},hn=pn,gn=function(e,t){var n=function(e,t){var n=he.fromTag(t),r=_t.clone(e);return _t.setAll(n,r),n}(e,t),r=dt.children(pn(e));return sn.append(n,r),n},bn=(u=xt.isText,"text",l=function(e){return u(e)?y.from(e.dom().nodeValue):y.none()},d=Ze.detect().browser,{get:function(e){if(!u(e))throw new Error("Can only get text value of a text node");return s(e).getOr("")},getOption:s=d.isIE()&&10===d.version.major?function(e){try{return l(e)}catch(e){return y.none()}}:l,set:function(e,t){if(!u(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=t}}),vn={get:function(e){return bn.get(e)},getOption:function(e){return bn.getOption(e)},set:function(e,t){bn.set(e,t)}},xn=["img","br"],yn=function(e){return"img"===xt.name(e)?1:vn.getOption(e).fold((function(){return dt.children(e).length}),(function(e){return e.length}))},wn=function(e){return vn.getOption(e).filter((function(e){return 0!==e.trim().length||e.indexOf(" ")>-1})).isSome()||$(xn,xt.name(e))},kn=function(e){return Bt.descendant(e,wn)},Cn=function(e){return function(e,t){return function e(n){for(var r=dt.children(n),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return y.some(i);var u=e(i);if(u.isSome())return u}return y.none()}(e)}(e,wn)},_n=function(){var e=he.fromTag("td");return an.append(e,he.fromTag("br")),e},Sn=function(e,t,n){var r=gn(e,t);return Q.each(n,(function(e,t){null===e?_t.remove(r,t):_t.set(r,t,e)})),r},En=function(e){return e},Tn=function(e){return function(){return he.fromTag("tr",e.dom())}},Nn=function(e,t,n){return{row:Tn(t),cell:function(t){var r,o,i,u=dt.owner(t.element()),a=he.fromTag(xt.name(t.element()),u.dom()),c=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),l=c.length>0?(r=t.element(),o=a,i=c,kn(r).map((function(e){var t=i.join(","),n=At.ancestors(e,t,(function(e){return et.eq(e,r)}));return I(n,(function(e,t){var n=mn(t);return an.append(e,n),n}),o)})).getOr(o)):a;return an.append(l,he.fromTag("br")),nn.copy(t.element(),a),nn.remove(a,"height"),1!==t.colspan()&&nn.remove(t.element(),"width"),e(t.element(),a),a},replace:Sn,gap:_n}},Rn=function(e){return{row:Tn(e),cell:_n,replace:En,gap:_n}},An=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Dn=function(){return{up:h.constant({selector:zt.ancestor,closest:zt.closest,predicate:Bt.ancestor,all:dt.parents}),down:h.constant({selector:At.descendants,predicate:Rt.descendants}),styles:h.constant({get:nn.get,getRaw:nn.getRaw,set:nn.set,remove:nn.remove}),attrs:h.constant({get:_t.get,set:_t.set,remove:_t.remove,copyTo:function(e,t){var n=_t.clone(e);_t.setAll(t,n)}}),insert:h.constant({before:an.before,after:an.after,afterAll:sn.after,append:an.append,appendAll:sn.append,prepend:an.prepend,wrap:an.wrap}),remove:h.constant({unwrap:ln.unwrap,remove:ln.remove}),create:h.constant({nu:he.fromTag,clone:function(e){return he.fromDom(e.dom().cloneNode(!1))},text:he.fromText}),query:h.constant({comparePosition:function(e,t){return e.dom().compareDocumentPosition(t.dom())},prevSibling:dt.prevSibling,nextSibling:dt.nextSibling}),property:h.constant({children:dt.children,name:xt.name,parent:dt.parent,isText:xt.isText,isComment:xt.isComment,isElement:xt.isElement,getText:vn.get,setText:vn.set,isBoundary:function(e){return!!xt.isElement(e)&&("body"===xt.name(e)||$(An,xt.name(e)))},isEmptyTag:function(e){return!!xt.isElement(e)&&$(["br","img","hr","input"],xt.name(e))}}),eq:et.eq,is:et.is}},Pn=(ae.immutable("left","right"),function(e,t,n,r){var o=t(e,n);return I(r,(function(n,r){var o=t(e,r);return On(e,n,o)}),o)}),On=function(e,t,n){return t.bind((function(t){return n.filter(h.curry(e.eq,t))}))},Mn=function(e,t,n,r){var o=void 0!==r?r:h.constant(!1),i=[t].concat(e.up().all(t)),u=[n].concat(e.up().all(n)),a=function(e){return H(e,o).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},c=a(i),l=a(u),s=L(c,(function(t){return W(l,function(e,t){return h.curry(e.eq,t)}(e,t))}));return{firstpath:h.constant(c),secondpath:h.constant(l),shared:h.constant(s)}},Bn=function(e,t,n){return function(e,t,n){return n.length>0?Pn(e,t,(r=n)[0],r.slice(1)):y.none();var r}(e,t,n)},In=Dn(),zn=function(e,t){return Bn(In,(function(t,n){return e(n)}),t)},Ln=function(e,t,n){return function(e,t,n,r){return Mn(e,t,n,r)}(In,e,t,n)},Hn=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Fn=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},jn=function(e,t,n){var r=Gt(e,t,et.eq),o=Gt(e,n,et.eq);return r.bind((function(e){return o.map((function(t){return n=e,r=t,pe.bounds(Math.min(n.row(),r.row()),Math.min(n.column(),r.column()),Math.max(n.row()+n.rowspan()-1,r.row()+r.rowspan()-1),Math.max(n.column()+n.colspan()-1,r.column()+r.colspan()-1));var n,r}))}))},Un=jn,Wn=function(e,t,n){return jn(e,t,n).bind((function(t){return function(e,t){for(var n=!0,r=h.curry(Hn,t),o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)n=n&&Vt(e,o,i).exists(r);return n?y.some(t):y.none()}(e,t)}))},$n=function(e,t,n){return Un(e,t,n).map((function(t){var n=Yt(e,h.curry(Fn,t));return O(n,(function(e){return e.element()}))}))},qn=function(e,t){return Gt(e,t,(function(e,t){return et.contains(t,e)})).bind((function(e){return e.element()}))},tr=function(e){var t=Ut(e);return qt(t)},Vn=function(e,t,n){return jt(e).bind((function(r){return function(e,t,n,r){return Gt(e,t,et.eq).bind((function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column();return Vt(e,o+n,i+r).map((function(e){return e.element()}))}))}(tr(r),e,t,n)}))},Gn=function(e,t,n){var r=tr(e);return $n(r,t,n)},Yn=function(e,t,n,r,o){var i=tr(e),u=et.eq(e,n)?t:qn(i,t),a=et.eq(e,o)?r:qn(i,r);return $n(i,u,a)},Xn=function(e,t){return zt.ancestor(e,"table")},Jn=ae.immutableBag(["boxes","start","finish"],[]),Kn=function(e,t,n){var r=function(e){return function(t){return n(t)||et.eq(t,e)}};return et.eq(e,t)?y.some(Jn({boxes:y.some([e]),start:e,finish:t})):Xn(e).bind((function(o){return Xn(t).bind((function(i){if(et.eq(o,i))return y.some(Jn({boxes:Gn(o,e,t),start:e,finish:t}));if(et.contains(o,i)){var u=(a=At.ancestors(t,"td,th",r(o))).length>0?a[a.length-1]:t;return y.some(Jn({boxes:Yn(o,e,o,t,i),start:e,finish:u}))}if(et.contains(i,o)){var a,c=(a=At.ancestors(e,"td,th",r(i))).length>0?a[a.length-1]:e;return y.some(Jn({boxes:Yn(i,e,o,t,i),start:e,finish:c}))}return Ln(e,t).shared().bind((function(u){return zt.closest(u,"table",n).bind((function(n){var u=At.ancestors(t,"td,th",r(n)),a=u.length>0?u[u.length-1]:t,c=At.ancestors(e,"td,th",r(n)),l=c.length>0?c[c.length-1]:e;return y.some(Jn({boxes:Yn(n,e,o,t,i),start:l,finish:a}))}))}))}))}))},Zn=Kn,Qn=function(e,t){var n=At.descendants(e,t);return n.length>0?y.some(n):y.none()},er=function(e,t,n){return zt.descendant(e,t).bind((function(t){return zt.descendant(e,n).bind((function(e){return zn(Xn,[t,e]).map((function(n){return{first:h.constant(t),last:h.constant(e),table:h.constant(n)}}))}))}))},nr=function(e,t,n){return er(e,t,n).bind((function(t){var n=function(t){return et.eq(e,t)},r=zt.ancestor(t.first(),"thead,tfoot,tbody,table",n),o=zt.ancestor(t.last(),"thead,tfoot,tbody,table",n);return r.bind((function(e){return o.bind((function(n){return et.eq(e,n)?function(e,t,n){var r=tr(e);return Wn(r,t,n)}(t.table(),t.first(),t.last()):y.none()}))}))}))},br={selected:h.constant("data-mce-selected"),selectedSelector:h.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:h.constant("[data-mce-selected]"),firstSelected:h.constant("data-mce-first-selected"),firstSelectedSelector:h.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:h.constant("data-mce-last-selected"),lastSelectedSelector:h.constant("td[data-mce-last-selected],th[data-mce-last-selected]")},rr=function(e){if(!ee.isArray(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return M(e,(function(r,o){var i=Q.keys(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!ee.isArray(a))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var n=Q.keys(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!U(t,(function(e){return $(n,e)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,r)},log:function(e){console.log(e,{constructors:t,constructor:u,params:r})}}}})),n},or=rr([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ir={cata:function(e,t,n,r){return e.fold(t,n,r)},none:or.none,multiple:or.multiple,single:or.single},ar=function(e,t){return ir.cata(t.get(),h.constant([]),h.identity,h.constant([e]))},sr=function(e,t){return ir.cata(t.get(),y.none,(function(t,n){return 0===t.length?y.none():nr(e,br.firstSelectedSelector(),br.lastSelectedSelector()).bind((function(e){return t.length>1?y.some({bounds:h.constant(e),cells:h.constant(t)}):y.none()}))}),y.none)},cr=function(e,t){var n=ar(e,t);return n.length>0&&U(n,(function(e){return _t.has(e,"rowspan")&&parseInt(_t.get(e,"rowspan"),10)>1||_t.has(e,"colspan")&&parseInt(_t.get(e,"colspan"),10)>1}))?y.some(n):y.none()},lr=ar,ur=function(e){return{element:h.constant(e),mergable:y.none,unmergable:y.none,selection:h.constant([e])}},dr=ae.immutable("element","clipboard","generators"),fr={noMenu:ur,forMenu:function(e,t,n){return{element:h.constant(n),mergable:h.constant(sr(t,e)),unmergable:h.constant(cr(n,e)),selection:h.constant(lr(n,e))}},notCell:function(e){return ur(e)},paste:dr,pasteRows:function(e,t,n,r,o){return{element:h.constant(n),mergable:y.none,unmergable:y.none,selection:h.constant(lr(n,e)),clipboard:h.constant(r),generators:h.constant(o)}}},pr=function(e,t,n,r){e.on("BeforeGetContent",(function(n){!0===n.selection&&ir.cata(t.get(),h.noop,(function(t){var r;n.preventDefault(),(r=t,jt(r[0]).map(hn).map((function(e){return[dn(e,br.attributeSelector())]}))).each((function(t){n.content=O(t,(function(t){return n=t,e.selection.serializer.serialize(n.dom(),{});var n})).join("")}))}),h.noop)})),e.on("BeforeSetContent",(function(t){!0===t.selection&&!0===t.paste&&y.from(e.dom.getParent(e.selection.getStart(),"th,td")).each((function(o){var i=he.fromDom(o);jt(i).bind((function(o){var u=B(function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,dt.children(he.fromDom(n))}(t.content),(function(e){return"meta"!==xt.name(e)}));if(1===u.length&&"table"===xt.name(u[0])){t.preventDefault();var a=he.fromDom(e.getDoc()),c=Rn(a),l=fr.paste(i,u[0],c);n.pasteCells(o,l).each((function(t){e.selection.setRng(t),e.focus(),r.clear(o)}))}}))}))}))},mr=function(e,t,n,r){var o=he.fromTag("table");nn.setAll(o,{"border-collapse":"collapse",width:"100%"}),_t.set(o,"border","1");var i=he.fromTag("tbody");an.append(o,i);for(var u=[],a=0;a<e;a++){for(var c=he.fromTag("tr"),l=0;l<t;l++){var s=he.fromTag(a<n||l<r?"th":"td");l<r&&_t.set(s,"scope","row"),a<n&&_t.set(s,"scope","col"),an.append(s,he.fromTag("br")),nn.set(s,"width",100/t+"%"),an.append(c,s)}u.push(c)}return sn.append(i,u),o},gr=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},vr=function(e,t,n){var r,o=mr(n,t,0,0);_t.set(o,"id","__mce");var i,u,a=function(e){var t=he.fromTag("div"),n=he.fromDom(e.dom().cloneNode(!0));return an.append(t,n),function(e){return e.dom().innerHTML}(t)}(o);return e.insertContent(a),r=e.dom.get("__mce"),e.dom.setAttrib(r,"id",null),e.$("tr",r).each((function(t,n){e.fire("newrow",{node:n}),e.$("th,td",n).each((function(t,n){e.fire("newcell",{node:n})}))})),e.dom.setAttribs(r,e.settings.table_default_attributes||{}),e.dom.setStyles(r,e.settings.table_default_styles||{}),i=e,u=he.fromDom(r),zt.descendant(u,"td,th").each(h.curry(gr,i)),r},xr=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=nn.get(n,e);return parseFloat(o)||0}return r},r=function(e,t){return z(t,(function(t,n){var r=nn.get(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!ee.isNumber(n)&&!n.match(/^[0-9]+$/))throw e+".set accepts only positive integer values. Value was "+n;var r=t.dom();Jt(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}},yr=xr("height",(function(e){return Tt.inBody(e)?e.dom().getBoundingClientRect().height:e.dom().offsetHeight})),wr=function(e){return yr.get(e)},kr=function(e){return yr.getOuter(e)},Cr=xr("width",(function(e){return e.dom().offsetWidth})),_r=function(e){return Cr.get(e)},Sr=function(e){return Cr.getOuter(e)},Er=Ze.detect(),Tr=function(e,t,n){return r=nn.get(e,t),o=n,i=parseFloat(r),isNaN(i)?o:i;var r,o,i},Nr=/(\d+(\.\d+)?)(\w|%)*/,Rr=/(\d+(\.\d+)?)%/,Ar=/(\d+(\.\d+)?)px|em/,Dr=function(e,t){nn.set(e,"height",t+"px")},Pr=function(e){var t,n=nn.getRaw(t=e,"height").getOrThunk((function(){return function(e){return Er.browser.isIE()||Er.browser.isEdge()?(n=Tr(t=e,"padding-top",0),r=Tr(t,"padding-bottom",0),o=Tr(t,"border-top-width",0),i=Tr(t,"border-bottom-width",0),u=t.dom().getBoundingClientRect().height,"border-box"===nn.get(t,"box-sizing")?u:u-n-r-(o+i)):Tr(e,"height",wr(e));var t,n,r,o,i,u}(t)+"px"}));return n?function(e,t,n,r){var o,i,u,a,c,l=parseInt(e,10);return We(e,"%")&&"table"!==xt.name(t)?(i=l,u=n,a=r,c=jt(o=t).map((function(e){var t=u(e);return Math.floor(i/100*t)})).getOr(i),a(o,c),c):l}(n,e,wr,Dr):wr(e)},Or=function(e){return nn.getRaw(e,"width").fold((function(){return y.from(_t.get(e,"width"))}),(function(e){return y.some(e)}))},Mr=function(e,t){return e/t.pixelWidth()*100},Br={percentageBasedSizeRegex:h.constant(Rr),pixelBasedSizeRegex:h.constant(Ar),setPixelWidth:function(e,t){nn.set(e,"width",t+"px")},setPercentageWidth:function(e,t){nn.set(e,"width",t+"%")},setHeight:Dr,getPixelWidth:function(e,t){return Or(e).fold((function(){var t=_r(e);return parseInt(t,10)}),(function(n){return function(e,t,n){if(Ar.test(t)){var r=Ar.exec(t);return parseInt(r[1],10)}if(Rr.test(t)){var o=Rr.exec(t);return parseFloat(o[1])/100*n.pixelWidth()}var u=_r(e);return parseInt(u,10)}(e,n,t)}))},getPercentageWidth:function(e,t){return Or(e).fold((function(){var n=_r(e),r=parseInt(n,10);return Mr(r,t)}),(function(n){return function(e,t,n){if(Rr.test(t)){var r=Rr.exec(t);return parseFloat(r[1])}var o=_r(e),i=parseInt(o,10);return Mr(i,n)}(e,n,t)}))},getGenericWidth:function(e){return Or(e).bind((function(e){if(Nr.test(e)){var t=Nr.exec(e);return y.some({width:h.constant(t[1]),unit:h.constant(t[3])})}return y.none()}))},setGenericWidth:function(e,t,n){nn.set(e,"width",t+n)},getHeight:function(e){return"rowspan",Pr(t=e)/function(e,t){return _t.has(e,t)?parseInt(_t.get(e,t),10):1}(t,"rowspan");var t},getRawWidth:Or},Ir=function(e,t){Br.getGenericWidth(e).each((function(n){var r=n.width()/2;Br.setGenericWidth(e,r,n.unit()),Br.setGenericWidth(t,r,n.unit())}))},zr=function e(t,n){return{left:h.constant(t),top:h.constant(n),translate:function(r,o){return e(t+r,n+o)}}},Lr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Hr=function(e){var t,n=e.dom(),r=n.ownerDocument,o=r.body,i=he.fromDom(r.documentElement);return o===n?zr(o.offsetLeft,o.offsetTop):function(e,t){var n=t||he.fromDom(document.documentElement);return Bt.ancestor(e,h.curry(et.eq,n)).isSome()}(e,i)?(t=n.getBoundingClientRect(),zr(t.left,t.top)):zr(0,0)},Fr=function(e){var t=e.dom().ownerDocument,n=t.body,r=function(e){var t=e.dom();return t===t.window?e:xt.isDocument(e)?t.defaultView||t.parentWindow:null}(he.fromDom(t)),o=t.documentElement,i=Lr(r.pageYOffset,o.scrollTop),u=Lr(r.pageXOffset,o.scrollLeft),a=Lr(o.clientTop,n.clientTop),c=Lr(o.clientLeft,n.clientLeft);return Hr(e).translate(u-c,i-a)},jr=ae.immutable("row","y"),Ur=ae.immutable("col","x"),Wr=function(e){return Fr(e).left()+Sr(e)},$r=function(e){return Fr(e).left()},qr=function(e,t){return Ur(e,$r(t))},Vr=function(e,t){return Ur(e,Wr(t))},Gr=function(e){return Fr(e).top()},Yr=function(e,t,n){if(0===n.length)return[];var r=O(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])},Xr={delta:h.identity,positions:h.curry(Yr,(function(e,t){return jr(e,Gr(t))}),(function(e,t){return jr(e,Gr(t)+kr(t))})),edge:Gr},Jr={delta:h.identity,edge:$r,positions:h.curry(Yr,qr,Vr)},Kr={height:Xr,rtl:{delta:function(e,t){return-e},edge:Wr,positions:h.curry(Yr,Vr,qr)},ltr:Jr},Zr={ltr:Kr.ltr,rtl:Kr.rtl},Qr=function(e){var t=function(t){return e(t).isRtl()?Zr.rtl:Zr.ltr};return{delta:function(e,n){return t(n).delta(e,n)},edge:function(e){return t(e).edge(e)},positions:function(e,n){return t(n).positions(e,n)}}},eo=function(e){var t=Ut(e);return qt(t).grid()},to=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},no=function(e,t){return ro(e,t,{validate:ee.isFunction,label:"function"})},ro=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return oe("required",t),ie(t),function(r){var o=Q.keys(r);U(t,(function(e){return $(o,e)}))||ne(t,o),e(t,o);var i=B(t,(function(e){return!n.validate(r[e],e)}));return i.length>0&&function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+te(e).join(", ")+") were not.")}(i,n.label),r}},oo=h.noop,io={exactly:h.curry(no,(function(e,t){var n=B(t,(function(t){return!$(e,t)}));n.length>0&&re(n)})),ensure:h.curry(no,oo),ensureWith:h.curry(ro,oo)},ao=function(e){var t=_t.has(e,"colspan")?parseInt(_t.get(e,"colspan"),10):1,n=_t.has(e,"rowspan")?parseInt(_t.get(e,"rowspan"),10):1;return{element:h.constant(e),colspan:h.constant(t),rowspan:h.constant(n)}},so=io.exactly(["cell","row","replace","gap"]),co=function(e,t){so(e);var n=to(y.none()),r=void 0!==t?t:ao,o=function(t){var n,o=r(t);return n=o,e.cell(n)},i=function(e){var t=o(e);return n.get().isNone()&&n.set(y.some(t)),u=y.some({item:e,replacement:t}),t},u=y.none();return{getOrInit:function(e,t){return u.fold((function(){return i(e)}),(function(n){return t(e,n.item)?n.replacement:i(e)}))},cursor:n.get}},lo=function(e,t){return function(n){var r=to(y.none());so(n);var o=[],i=function(c){var u=n.replace(c,t,{scope:e});return o.push({item:c,sub:u}),r.get().isNone()&&r.set(y.some(u)),u};return{replaceOrInit:function(e,t){return(n=e,r=t,L(o,(function(e){return r(e.item,n)}))).fold((function(){return i(e)}),(function(n){return t(e,n.item)?n.sub:i(e)}));var n,r},cursor:r.get}}},uo=function(e){so(e);var t=to(y.none());return{combine:function(n){return t.get().isNone()&&t.set(y.some(n)),function(){var t=e.cell({element:h.constant(n),colspan:h.constant(1),rowspan:h.constant(1)});return nn.remove(t,"width"),nn.remove(n,"width"),t}},cursor:t.get}},fo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],po=function(e,t){var n=e.property().name(t);return $(fo,n)},mo=function(e,t){return $(["br","img","hr","input"],e.property().name(t))},ho=Dn(),go=function(e){return po(ho,e)},bo=function(e){return function(e,t){var n=e.property().name(t);return $(["ol","ul"],n)}(ho,e)},vo=function(e){var t,n=function(e){return"br"===xt.name(e)},r=function(e){return Cn(e).bind((function(t){var r=dt.nextSibling(t).map((function(e){return!!go(e)||(function(e){return mo(ho,e)}(e)?"img"!==xt.name(e):void 0)})).getOr(!1);return dt.parent(t).map((function(o){return!0===r||(i=o,"li"===xt.name(i)||Bt.ancestor(i,bo).isSome())||n(t)||go(o)&&!et.eq(e,o)?[]:[he.fromTag("br")];var i}))})).getOr([])},o=0===(t=j(e,(function(e){var t=dt.children(e);return U(t,(function(e){return n(e)||xt.isText(e)&&0===vn.get(e).trim().length}))?[]:t.concat(r(e))}))).length?[he.fromTag("br")]:t;ln.empty(e[0]),sn.append(e[0],o)},xo=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var u in i)i.hasOwnProperty(u)&&(r[u]=e(r[u],i[u]))}return r}},yo=xo((function(e,t){return ee.isObject(e)&&ee.isObject(t)?yo(e,t):t})),wo=xo((function(e,t){return t})),ko={deepMerge:yo,merge:wo},Co=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},_o=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return y.none()},So=function(e,t){return pe.rowcells(t,e.section())},Eo=function(e,t){return e.cells()[t]},To=function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),u=o.concat([n]).concat(i);return So(e,u)},No=So,Ro=function(e,t,n){e.cells()[t]=n},Ao=Eo,Do=function(e,t){return Eo(e,t).element()},Po=function(e,t){var n=e.cells(),r=O(n,t);return pe.rowcells(r,e.section())},Oo=function(e){return e.cells().length},Mo=function(e,t){if(0===e.length)return 0;var n=e[0];return H(e,(function(e){return!t(n.element(),e.element())})).fold((function(){return e.length}),(function(e){return e}))},Bo=function(e,t){var n=O(e,(function(e,t){return O(e.cells(),(function(e,t){return!1}))}));return O(e,(function(r,o){var i=j(r.cells(),(function(r,i){if(!1===n[o][i]){var u=function(e,t,n,r){var o,i,u,a,c=(o=e,i=t,o[i]).cells().slice(n),l=Mo(c,r),s=(u=e,a=n,O(u,(function(e){return Ao(e,a)}))).slice(t),d=Mo(s,r);return{colspan:h.constant(l),rowspan:h.constant(d)}}(e,o,i,t);return function(e,t,r,o){for(var i=e;i<e+r;i++)for(var u=t;u<t+o;u++)n[i][u]=!0}(o,i,u.rowspan(),u.colspan()),[pe.detailnew(r.element(),u.rowspan(),u.colspan(),r.isNew())]}return[]}));return pe.rowdetails(i,r.section())}))},Io=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],u=0;u<e.grid().columns();u++){var a=Vt(e,o,u).map((function(e){return pe.elementnew(e.element(),n)})).getOrThunk((function(){return pe.elementnew(t.gap(),!0)}));i.push(a)}var c=pe.rowcells(i,e.all()[o].section());r.push(c)}return r},zo=function(e,t,n,r){n===r?_t.remove(e,t):_t.set(e,t,n)},Lo=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},Ho=function(e,t){if(t<0||t>=e.length-1)return y.none();var n=e[t].fold((function(){var n=V(e.slice(0,t));return _o(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return y.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return _o(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return y.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},li=function(e,t,n){var r=e();return L(r,t).orThunk((function(){return y.from(r[0]).orThunk(n)})).map((function(e){return e.element()}))},Fo=function(e){var t=e.grid(),n=Lo(0,t.columns()),r=Lo(0,t.rows());return O(n,(function(t){return li((function(){return j(r,(function(n){return Vt(e,n,t).filter((function(e){return e.column()===t})).fold(h.constant([]),(function(e){return[e]}))}))}),(function(e){return 1===e.colspan()}),(function(){return Vt(e,0,t)}))}))},jo=function(e){var t=e.grid(),n=Lo(0,t.rows()),r=Lo(0,t.columns());return O(n,(function(t){return li((function(){return j(r,(function(n){return Vt(e,t,n).filter((function(e){return e.row()===t})).fold(h.constant([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan()}),(function(){return Vt(e,t,0)}))}))},Uo=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},Wo={resolve:Uo("ephox-snooker").resolve},$o=function(e,t){var n=_t.get(e,t);return void 0===n||""===n?[]:n.split(" ")},qo=function(e,t){return function(e,t,n){var r=$o(e,t).concat([n]);_t.set(e,t,r.join(" "))}(e,"class",t)},Vo=qo,Go=function(e){return void 0!==e.dom().classList},Yo=function(e,t){return Go(e)&&e.dom().classList.contains(t)},Xo=function(e,t){Go(e)?e.dom().classList.add(t):Vo(e,t)},Jo=Yo,Ko=Wo.resolve("resizer-bar"),Zo=Wo.resolve("resizer-rows"),Qo=Wo.resolve("resizer-cols"),ei=function(e){var t=At.descendants(e.parent(),"."+Ko);M(t,ln.remove)},ti=function(e,t,n){var r=e.origin();M(t,(function(t,o){t.each((function(t){var o=n(r,t);Xo(o,Ko),an.append(e.parent(),o)}))}))},ni=function(e,t,n,r,o,i){var u,a,c,l,d,f,g,p,s=Fr(t);u=e,a=n.length>0?o.positions(n,t):[],c=s,l=Sr(t),ti(u,a,(function(e,t){var n=function(e,t,n,r,o){var i=he.fromTag("div");return nn.setAll(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),_t.setAll(i,{"data-row":e,role:"presentation"}),i}(t.row(),c.left()-e.left(),t.y()-e.top(),l,7);return Xo(n,Zo),n})),d=e,f=r.length>0?i.positions(r,t):[],g=s,p=kr(t),ti(d,f,(function(e,t){var n=function(e,t,n,r,o){var i=he.fromTag("div");return nn.setAll(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),_t.setAll(i,{"data-column":e,role:"presentation"}),i}(t.col(),t.x()-e.left(),g.top()-e.top(),7,p);return Xo(n,Qo),n}))},ri=function(e,t){var n=At.descendants(e.parent(),"."+Ko);M(n,t)},oi=function(e,t,n,r){ei(e);var o=Ut(t),i=qt(o),u=jo(i),a=Fo(i);ni(e,t,u,a,n,r)},ii=function(e){ri(e,(function(e){nn.set(e,"display","none")}))},ai=function(e){ri(e,(function(e){nn.set(e,"display","block")}))},si=ei,ci=function(e,t){return function(e,t){return O(e,(function(e){var n,r=(n=e.details(),_o(n,(function(e){return dt.parent(e.element()).map((function(e){var t=dt.parent(e).isNone();return pe.elementnew(e,t)}))})).getOrThunk((function(){return pe.elementnew(t.row(),!0)})));return pe.rowdatanew(r.element(),e.details(),e.section(),r.isNew())}))}(Bo(e,et.eq),t)},ui=function(e,t){var n=F(O(e.all(),(function(e){return e.cells()})));return L(n,(function(e){return et.eq(t,e.element())}))},di=function(e,t,n,r,o){return function(i,u,a,c,l){var s=Ut(u),d=qt(s);return t(d,a).map((function(t){var n=Io(d,c,!1),r=e(n,t,et.eq,o(c)),i=ci(r.grid(),c);return{grid:h.constant(i),cursor:r.cursor}})).fold((function(){return y.none()}),(function(e){var t=function(e,t){var n=[],r=[],o=function(t,o){t.length>0?function(t,o){var i=zt.child(e,o).getOrThunk((function(){var t=he.fromTag(o,dt.owner(e).dom());return an.append(e,t),t}));ln.empty(i);var u=O(t,(function(e){e.isNew()&&n.push(e.element());var t=e.element();return ln.empty(t),M(e.cells(),(function(e){e.isNew()&&r.push(e.element()),zo(e.element(),"colspan",e.colspan(),1),zo(e.element(),"rowspan",e.rowspan(),1),an.append(t,e.element())})),t}));sn.append(i,u)}(t,o):zt.child(e,o).bind(ln.remove)},i=[],u=[],a=[];return M(t,(function(e){switch(e.section()){case"thead":i.push(e);break;case"tbody":u.push(e);break;case"tfoot":a.push(e)}})),o(i,"thead"),o(u,"tbody"),o(a,"tfoot"),{newRows:h.constant(n),newCells:h.constant(r)}}(u,e.grid());return n(u,e.grid(),l),r(u),oi(i,u,Kr.height,l),y.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},fi=ci,pi=function(e,t){return Ht(t.element()).bind((function(t){return ui(e,t)}))},mi=function(e,t){var n=O(t.selection(),(function(t){return Ht(t).bind((function(t){return ui(e,t)}))})),r=Co(n);return r.length>0?y.some(r):y.none()},hi=function(e,t){var n=O(t.selection(),(function(t){return Ht(t).bind((function(t){return ui(e,t)}))})),r=Co(n);return r.length>0?y.some(ko.merge({cells:r},{generators:t.generators,clipboard:t.clipboard})):y.none()},gi=function e(t){return{is:function(e){return t===e},isValue:h.constant(!0),isError:h.constant(!1),getOr:h.constant(t),getOrThunk:h.constant(t),getOrDie:h.constant(t),or:function(n){return e(t)},orThunk:function(n){return e(t)},fold:function(e,n){return n(t)},map:function(n){return e(n(t))},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return y.some(t)}}},bi=function e(t){return{is:h.constant(!1),isValue:h.constant(!1),isError:h.constant(!0),getOr:h.identity,getOrThunk:function(e){return e()},getOrDie:function(){return h.die(t)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,n){return e(t)},map:function(n){return e(t)},each:h.noop,bind:function(n){return e(t)},exists:h.constant(!1),forall:h.constant(!0),toOption:y.none}},vi=function(e,t){return O(e,(function(){return pe.elementnew(t.cell(),!0)}))},xi=function(e,t,n){return e.concat(function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}(t,(function(t){return No(e[e.length-1],vi(e[e.length-1].cells(),n))})))},yi=function(e,t,n){return O(e,(function(e){return No(e,e.cells().concat(vi(Lo(0,t),n)))}))},wi=function(e,t){var n=Oo(e[0]),r=Oo(t[0]);return{rowDelta:h.constant(0),colDelta:h.constant(n-r)}},ki=function(e,t,n){var r=t.colDelta()<0?yi:h.identity;return(t.rowDelta()<0?xi:h.identity)(r(e,Math.abs(t.colDelta()),n),Math.abs(t.rowDelta()),n)},Ci=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var u=0;u<Oo(e[0]);u++){var a=n(Do(e[i],u),t);!0===a&&!1===o?Ro(e[i],u,pe.elementnew(r(),!0)):!0===a&&(o=!1)}return e},_i=function(e,t,n,r,o){return function(e,t,n){if(e.row()>=t.length||e.column()>Oo(t[0]))return bi("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=Oo(n[0]),u=n.length;return gi({rowDelta:h.constant(r.length-u),colDelta:h.constant(o.length-i)})}(e,t,n).map((function(i){var u=ki(t,i,r);return function(e,t,n,r,o){for(var i,u,a,c,l,s,d,f=e.row(),g=e.column(),p=f+n.length,m=g+Oo(n[0]),v=f;v<p;v++)for(var b=g;b<m;b++){a=b,c=o,l=void 0,s=void 0,l=Ao((i=t)[u=v],a),s=h.curry(c,l.element()),d=i[u],i.length>1&&Oo(d)>1&&(a>0&&s(Do(d,a-1))||a<d.length-1&&s(Do(d,a+1))||u>0&&s(Do(i[u-1],a))||u<i.length-1&&s(Do(i[u+1],a)))&&Ci(t,Do(t[v],b),o,r.cell);var x=Do(n[v-f],b-g),y=r.replace(x);Ro(t[v],b,pe.elementnew(y,!0))}return t}(e,u,n,r,o)}))},Si=function(e,t,n,r,o){!function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),i=(a=n,z(o,(function(e,t){return W(e,(function(e){return a(e.element(),t.element())}))?e:e.concat([t])}),[]));M(i,(function(o){for(var i=y.none(),u=t;u<e.length;u++)for(var a=0;a<Oo(e[0]);a++){var c=e[u].cells()[a];n(c.element(),o.element())&&(i.isNone()&&(i=y.some(r())),i.each((function(t){Ro(e[u],a,pe.elementnew(t,!0))})))}}))}var a}(t,e,o,r.cell);var i=wi(n,t),u=ki(n,i,r),a=wi(t,u),c=ki(t,a,r);return c.slice(0,e).concat(u).concat(c.slice(e,c.length))},Ei=function(e,t,n,r,o){var i=e.slice(0,t),u=e.slice(t),a=Po(e[n],(function(n,i){return t>0&&t<e.length&&r(Do(e[t-1],i),Do(e[t],i))?Ao(e[t],i):pe.elementnew(o(n.element(),r),!0)}));return i.concat([a]).concat(u)},Ti=function(e,t,n,r,o){return O(e,(function(e){var i=t>0&&t<Oo(e)&&r(Do(e,t-1),Do(e,t))?Ao(e,t):pe.elementnew(o(Do(e,n),r),!0);return To(e,t,i)}))},Ni=function(e,t,n,r){return O(e,(function(e){return Po(e,(function(e){return o=e,W(t,(function(e){return n(o.element(),e.element())}))?pe.elementnew(r(e.element(),n),!0):e;var o}))}))},Ri=function(e,t,n,r){return void 0!==Do(e[t],n)&&t>0&&r(Do(e[t-1],n),Do(e[t],n))},Ai=function(e,t,n){return t>0&&n(Do(e,t-1),Do(e,t))},Di=function(e,t,n,r){var o=j(e,(function(r,o){return Ri(e,o,t,n)||Ai(r,t,n)?[]:[Ao(r,t)]}));return Ni(e,o,n,r)},Pi=function(e,t,n,r){var o=e[t],i=j(o.cells(),(function(r,i){return Ri(e,t,i,n)||Ai(o,i,n)?[]:[r]}));return Ni(e,i,n,r)},Oi=function(e){return{fold:e}},Mi=function(){return Oi((function(e,t,n,r,o){return e()}))},Bi=function(e,t,n,r){var o,i,u=e.slice(0),a=(i=t,0===(o=e).length?Mi():1===o.length?function(e){return Oi((function(t,n,r,o,i){return n(e)}))}(0):0===i?function(e,t){return Oi((function(n,r,o,i,u){return o(e,t)}))}(0,1):i===o.length-1?function(e,t){return Oi((function(n,r,o,i,u){return u(e,t)}))}(i-1,i):i>0&&i<o.length-1?function(e,t,n){return Oi((function(r,o,i,u,a){return u(e,t,n)}))}(i-1,i,i+1):Mi()),c=function(e){return O(e,h.constant(0))},l=h.constant(c(u)),s=function(e,t){if(n>=0){var o=Math.max(r.minCellWidth(),u[t]-n);return c(u.slice(0,e)).concat([n,o-u[t]]).concat(c(u.slice(t+1)))}var i=Math.max(r.minCellWidth(),u[e]+n),a=u[e]-i;return c(u.slice(0,e)).concat([i-u[e],a]).concat(c(u.slice(t+1)))},d=s;return a.fold(l,(function(e){return r.singleColumnWidth(u[e],n)}),d,(function(e,t,n){return s(t,n)}),(function(e,t){if(n>=0)return c(u.slice(0,t)).concat([n]);var o=Math.max(r.minCellWidth(),u[t]+n);return c(u.slice(0,t)).concat([o-u[t]])}))},Ii=function(e,t){return _t.has(e,t)&&parseInt(_t.get(e,t),10)>1},zi={hasColspan:function(e){return Ii(e,"colspan")},hasRowspan:function(e){return Ii(e,"rowspan")},minWidth:h.constant(10),minHeight:h.constant(10),getInt:function(e,t){return parseInt(nn.get(e,t),10)}},Li=function(e,t,n){return nn.getRaw(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))},Hi=function(e){return Li(e,"width",Br.getPixelWidth)},Fi=function(e){return Li(e,"height",Br.getHeight)},ji=function(e,t,n,r,o){var i=Fo(e),u=O(i,(function(e){return e.map(t.edge)}));return O(i,(function(e,t){return e.filter(h.not(zi.hasColspan)).fold((function(){var e=Ho(u,t);return r(e)}),(function(e){return n(e,o)}))}))},Ui=function(e){return e.map((function(e){return e+"px"})).getOr("")},Wi=function(e,t,n,r){var o=jo(e),i=O(o,(function(e){return e.map(t.edge)}));return O(o,(function(e,t){return e.filter(h.not(zi.hasRowspan)).fold((function(){var e=Ho(i,t);return r(e)}),(function(e){return n(e)}))}))},$i={getRawWidths:function(e,t){return ji(e,t,Hi,Ui)},getPixelWidths:function(e,t,n){return ji(e,t,Br.getPixelWidth,(function(e){return e.getOrThunk(n.minCellWidth)}),n)},getPercentageWidths:function(e,t,n){return ji(e,t,Br.getPercentageWidth,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)},getPixelHeights:function(e,t){return Wi(e,t,Br.getHeight,(function(e){return e.getOrThunk(zi.minHeight)}))},getRawHeights:function(e,t){return Wi(e,t,Fi,Ui)}},qi=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Vi=function(e,t){var n=Xt(e);return O(n,(function(e){var n=qi(e.column(),e.column()+e.colspan(),t);return{element:e.element,width:h.constant(n),colspan:e.colspan}}))},Gi=function(e){var t=parseInt(e,10),n=h.identity;return{width:h.constant(t),pixelWidth:h.constant(t),getWidths:$i.getPixelWidths,getCellDelta:n,singleColumnWidth:function(e,t){return[Math.max(zi.minWidth(),e+t)-e]},minCellWidth:zi.minWidth,setElementWidth:Br.setPixelWidth,setTableWidth:function(e,t,n){var r=I(t,(function(e,t){return e+t}),0);Br.setPixelWidth(e,r)}}},Yi=function(e){return Br.getRawWidth(e).fold((function(){var t=_r(e);return Gi(t)}),(function(t){return function(e,t){if(Br.percentageBasedSizeRegex().test(t))return r=Br.percentageBasedSizeRegex().exec(t)[1],i=e,u=parseFloat(r),a=_r(i),{width:h.constant(u),pixelWidth:h.constant(a),getWidths:$i.getPercentageWidths,getCellDelta:function(e){return e/a*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return zi.minWidth()/a*100},setElementWidth:Br.setPercentageWidth,setTableWidth:function(e,t,n){var r=u+n;Br.setPercentageWidth(e,r)}};if(Br.pixelBasedSizeRegex().test(t)){var n=Br.pixelBasedSizeRegex().exec(t);return Gi(n[1])}var r,i,u,a,o=_r(e);return Gi(o)}(e,t)}))},Xi=function(e){return qt(e)},Ji=function(e){var t=Ut(e);return Xi(t)},Ki=function(e,t,n,r){var o=Ji(e),i=$i.getPixelHeights(o,r),u=O(i,(function(e,r){return n===r?Math.max(t+e,zi.minHeight()):e})),a=function(e,t){var n=Xt(e);return O(n,(function(e){var n=qi(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:h.constant(n),rowspan:e.rowspan}}))}(o,u),c=function(e,t){return O(e.all(),(function(e,n){return{element:e.element,height:h.constant(t[n])}}))}(o,u);M(c,(function(e){Br.setHeight(e.element(),e.height())})),M(a,(function(e){Br.setHeight(e.element(),e.height())}));var s=I(u,(function(e,t){return e+t}),0);Br.setHeight(e,s)},Zi=function(e){0===Ft(e).length&&ln.remove(e)},Qi=ae.immutable("grid","cursor"),ea=function(e,t,n){return ta(e,t,n).orThunk((function(){return ta(e,0,0)}))},ta=function(e,t,n){return y.from(e[t]).bind((function(e){return y.from(e.cells()[n]).bind((function(e){return y.from(e.element())}))}))},na=function(e,t,n){return Qi(e,ta(e,t,n))},ra=function(e){return z(e,(function(e,t){return W(e,(function(e){return e.row()===t.row()}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row()-t.row()}))},oa=function(e){return z(e,(function(e,t){return W(e,(function(e){return e.column()===t.column()}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column()-t.column()}))},ia=function(e,t,n){var r=function(e,t){return O(e,(function(e){var n=O(Ft(e),(function(e){var t=_t.has(e,"rowspan")?parseInt(_t.get(e,"rowspan"),10):1,n=_t.has(e,"colspan")?parseInt(_t.get(e,"colspan"),10):1;return pe.detail(e,t,n)}));return pe.rowdata(e,n,t.section())}))}(e,n),o=qt(r);return Io(o,t,!0)},aa=function(e,t,n){var r=Yi(e),o=Xi(t),i=r.getWidths(o,n,r),u=Vi(o,i);M(u,(function(e){r.setElementWidth(e.element(),e.width())}));var a=I(i,(function(e,t){return t+e}),0);u.length>0&&r.setElementWidth(e,a)},sa={insertRowBefore:di((function(e,t,n,r){var o=t.row(),i=t.row(),u=Ei(e,i,o,n,r.getOrInit);return na(u,i,t.column())}),pi,h.noop,h.noop,co),insertRowsBefore:di((function(e,t,n,r){var o=t[0].row(),i=t[0].row(),u=ra(t),a=z(u,(function(e,t){return Ei(e,i,o,n,r.getOrInit)}),e);return na(a,i,t[0].column())}),mi,h.noop,h.noop,co),insertRowAfter:di((function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),u=Ei(e,i,o,n,r.getOrInit);return na(u,i,t.column())}),pi,h.noop,h.noop,co),insertRowsAfter:di((function(e,t,n,r){var o=ra(t),i=o[o.length-1].row(),u=o[o.length-1].row()+o[o.length-1].rowspan(),a=z(o,(function(e,t){return Ei(e,u,i,n,r.getOrInit)}),e);return na(a,u,t[0].column())}),mi,h.noop,h.noop,co),insertColumnBefore:di((function(e,t,n,r){var o=t.column(),i=t.column(),u=Ti(e,i,o,n,r.getOrInit);return na(u,t.row(),i)}),pi,aa,h.noop,co),insertColumnsBefore:di((function(e,t,n,r){var o=oa(t),i=o[0].column(),u=o[0].column(),a=z(o,(function(e,t){return Ti(e,u,i,n,r.getOrInit)}),e);return na(a,t[0].row(),u)}),mi,aa,h.noop,co),insertColumnAfter:di((function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),u=Ti(e,i,o,n,r.getOrInit);return na(u,t.row(),i)}),pi,aa,h.noop,co),insertColumnsAfter:di((function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),u=oa(t),a=z(u,(function(e,t){return Ti(e,i,o,n,r.getOrInit)}),e);return na(a,t[0].row(),i)}),mi,aa,h.noop,co),splitCellIntoColumns:di((function(e,t,n,r){var o=function(e,t,n,r,o){var i=n+1;return O(e,(function(e,u){var a=u===t?pe.elementnew(o(Do(e,n),r),!0):Ao(e,n);return To(e,i,a)}))}(e,t.row(),t.column(),n,r.getOrInit);return na(o,t.row(),t.column())}),pi,aa,h.noop,co),splitCellIntoRows:di((function(e,t,n,r){var o=function(e,t,n,r,o){var i=t+1,u=e.slice(0,i),a=e.slice(i),c=Po(e[t],(function(e,t){return t===n?pe.elementnew(o(e.element(),r),!0):e}));return u.concat([c]).concat(a)}(e,t.row(),t.column(),n,r.getOrInit);return na(o,t.row(),t.column())}),pi,h.noop,h.noop,co),eraseColumns:di((function(e,t,n,r){var o=oa(t),i=function(e,t,n){var r=O(e,(function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return pe.rowcells(r,e.section())}));return B(r,(function(e){return e.cells().length>0}))}(e,o[0].column(),o[o.length-1].column()),u=ea(i,t[0].row(),t[0].column());return Qi(i,u)}),mi,aa,Zi,co),eraseRows:di((function(e,t,n,r){var o=ra(t),i=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))}(e,o[0].row(),o[o.length-1].row()),u=ea(i,t[0].row(),t[0].column());return Qi(i,u)}),mi,h.noop,Zi,co),makeColumnHeader:di((function(e,t,n,r){var o=Di(e,t.column(),n,r.replaceOrInit);return na(o,t.row(),t.column())}),pi,h.noop,h.noop,lo("row","th")),unmakeColumnHeader:di((function(e,t,n,r){var o=Di(e,t.column(),n,r.replaceOrInit);return na(o,t.row(),t.column())}),pi,h.noop,h.noop,lo(null,"td")),makeRowHeader:di((function(e,t,n,r){var o=Pi(e,t.row(),n,r.replaceOrInit);return na(o,t.row(),t.column())}),pi,h.noop,h.noop,lo("col","th")),unmakeRowHeader:di((function(e,t,n,r){var o=Pi(e,t.row(),n,r.replaceOrInit);return na(o,t.row(),t.column())}),pi,h.noop,h.noop,lo(null,"td")),mergeCells:di((function(e,t,n,r){var o=t.cells();vo(o);var i=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Ro(e[o],i,pe.elementnew(r(),!1));return e}(e,t.bounds(),0,h.constant(o[0]));return Qi(i,y.from(o[0]))}),(function(e,t){return t.mergable()}),h.noop,h.noop,uo),unmergeCells:di((function(e,t,n,r){var o=I(t,(function(e,t){return Ci(e,t,n,r.combine(t))}),e);return Qi(o,y.from(t[0]))}),(function(e,t){return t.unmergable()}),aa,h.noop,uo),pasteCells:di((function(e,t,n,r){var o,i,u,a,c=(o=t.clipboard(),i=t.generators(),u=Ut(o),a=qt(u),Io(a,i,!0)),l=pe.address(t.row(),t.column());return _i(l,e,c,t.generators(),n).fold((function(){return Qi(e,y.some(t.element()))}),(function(e){var n=ea(e,t.row(),t.column());return Qi(e,n)}))}),(function(e,t){return Ht(t.element()).bind((function(n){return ui(e,n).map((function(e){return ko.merge(e,{generators:t.generators,clipboard:t.clipboard})}))}))}),aa,h.noop,co),pasteRowsBefore:di((function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),u=ia(t.clipboard(),t.generators(),o),a=Si(i,e,u,t.generators(),n),c=ea(a,t.cells[0].row(),t.cells[0].column());return Qi(a,c)}),hi,h.noop,h.noop,co),pasteRowsAfter:di((function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),u=ia(t.clipboard(),t.generators(),o),a=Si(i,e,u,t.generators(),n),c=ea(a,t.cells[0].row(),t.cells[0].column());return Qi(a,c)}),hi,h.noop,h.noop,co)},ca=function(e){return he.fromDom(e.getBody())},la=ca,ua=function(e){return function(t){return et.eq(t,ca(e))}},da=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},fa=function(e){return e?e.replace(/px$/,""):""},pa=function(e){return"rtl"===nn.get(e,"direction")?"rtl":"ltr"},ma=pa,ha={isRtl:h.constant(!1)},ga={isRtl:h.constant(!0)},ba=function(e){return"rtl"===ma(e)?ga:ha},va=function(e,t,n){var r=Ut(e),o=qt(r);return mi(o,t).map((function(e){var t=Io(o,n,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan());return function(e){return O(e,(function(e){var t=mn(e.element());return M(e.cells(),(function(e){var n=hn(e.element());zo(n,"colspan",e.colspan(),1),zo(n,"rowspan",e.rowspan(),1),an.append(t,n)})),t}))}(fi(t,n))}))},xa=tinymce.util.Tools.resolve("tinymce.util.Tools"),ya=tinymce.util.Tools.resolve("tinymce.Env"),wa=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},ka=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},Ca=function(e,t){xa.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},_a=function(e,t){xa.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))},Sa=function(e,t,n){var r;return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(r,e.select("td,th",t))},Ea=function(e,t){var n=e.dom,r=t.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);"style"===t.control.name()?(r.find("#borderStyle").value(i["border-style"]||"")[0].fire("select"),r.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),r.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change"),r.find("#width").value(i.width||"").fire("change"),r.find("#height").value(i.height||"").fire("change")):(i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?da(o.width):"",i.height=o.height?da(o.height):""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},Ta=function(e){var t=function(){var t=e.settings.color_picker_callback;if(t)return function(n){return t.call(e,(function(e){n.control.value(e).fire("change")}),n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:h.curry(Ea,e)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:h.curry(Ea,e),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:t()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:t()}]}]}},Na=function(e,t,n){return function e(n,r){return r=r||[],xa.each(n,(function(n){var o={text:n.text||n.title};n.menu?o.menu=e(n.menu):(o.value=n.value,t&&t(o)),r.push(o)})),r}(e,n||[])},Ra=Ea,Aa=function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r};function Da(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)Da(e,t.children[o],n,r)}var Pa=function(e,t,n){var r,o,i=e.dom;Ra(e,n),!1===(o=n.control.rootControl.toJSON()).class&&delete o.class,e.undoManager.transact((function(){t||(t=vr(e,o.cols||1,o.rows||1)),function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=da(n.height),r.getAttrib(t,"width")&&!e.settings.table_style_by_css?o.width=fa(n.width):i.width=da(n.width),e.settings.table_style_by_css?(i["border-width"]=da(n.border),i["border-spacing"]=da(n.cellspacing),xa.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):xa.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),e.settings.table_style_by_css&&t.children)for(var u=0;u<t.children.length;u++)Da(r,t.children[u],{"border-width":da(n.border),"border-color":n.borderColor,padding:da(n.cellpadding)});n.style?xa.extend(i,r.parseStyle(n.style)):i=xa.extend({},r.parseStyle(r.getAttrib(t,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(t,o)}(e,t,o),(r=i.select("caption",t)[0])&&!o.caption&&i.remove(r),!r&&o.caption&&((r=i.create("caption")).innerHTML=ya.ie?" ":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),Ca(e,t),o.align&&wa(e,t,o.align),e.focus(),e.addVisual()}))},Oa=function(e,t){var n,r,o,i,u,a,c,l,s,d=e.dom,f={};!0===t?(n=d.getParent(e.selection.getStart(),"table"))&&(c=n,l=(a=e).dom,s={width:l.getStyle(c,"width")||l.getAttrib(c,"width"),height:l.getStyle(c,"height")||l.getAttrib(c,"height"),cellspacing:l.getStyle(c,"border-spacing")||l.getAttrib(c,"cellspacing"),cellpadding:l.getAttrib(c,"data-mce-cell-padding")||l.getAttrib(c,"cellpadding")||Sa(a.dom,c,"padding"),border:l.getAttrib(c,"data-mce-border")||l.getAttrib(c,"border")||Sa(a.dom,c,"border"),borderColor:l.getAttrib(c,"data-mce-border-color"),caption:!!l.select("caption",c)[0],class:l.getAttrib(c,"class")},xa.each("left center right".split(" "),(function(e){a.formatter.matchNode(c,"align"+e)&&(s.align=e)})),!1!==a.settings.table_advtab&&xa.extend(s,Aa(l,c)),f=s):(r={label:"Cols",name:"cols"},o={label:"Rows",name:"rows"}),e.settings.table_class_list&&(f.class&&(f.class=f.class.replace(/\s*mce\-item\-table\s*/g,"")),i={name:"class",type:"listbox",label:"Class",values:Na(e.settings.table_class_list,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"table",classes:[t.value]})})}))}),u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==e.settings.table_appearance_options?[r,o,{label:"Width",name:"width",onchange:h.curry(Ra,e)},{label:"Height",name:"height",onchange:h.curry(Ra,e)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[r,o,{label:"Width",name:"width",onchange:h.curry(Ra,e)},{label:"Height",name:"height",onchange:h.curry(Ra,e)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},i]},!1!==e.settings.table_advtab?e.windowManager.open({title:"Table properties",data:f,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},Ta(e)],onsubmit:h.curry(Pa,e,n)}):e.windowManager.open({title:"Table properties",data:f,body:u,onsubmit:h.curry(Pa,e,n)})};function Ma(e,t,n){var r,o=e.dom;function i(e,t,n){n&&o.setAttrib(e,t,n)}Ra(e,n),r=n.control.rootControl.toJSON(),e.undoManager.transact((function(){xa.each(t,(function(n){var u,c;i(n,"scope",r.scope),i(n,"style",r.style),i(n,"class",r.class),u=n,(c=da(r.height))&&o.setStyle(u,"height",c),r.type!==n.parentNode.nodeName.toLowerCase()&&function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)}(e.dom,n,r.type),1===t.length&&Ca(e,n),r.align&&wa(e,n,r.align)})),e.focus()}))}var Ba=function(e){var t,n,r,o,i,u,a,c,l,s,d=e.dom,f=[];t=d.getParent(e.selection.getStart(),"table"),n=d.getParent(e.selection.getStart(),"td,th"),xa.each(t.rows,(function(e){xa.each(e.cells,(function(t){if(d.getAttrib(t,"data-mce-selected")||t===n)return f.push(e),!1}))})),(r=f[0])&&(f.length>1?i={height:"",scope:"",class:"",align:"",type:r.parentNode.nodeName.toLowerCase()}:(c=r,l=(a=e).dom,(s={height:l.getStyle(c,"height")||l.getAttrib(c,"height"),scope:l.getAttrib(c,"scope"),class:l.getAttrib(c,"class")}).type=c.parentNode.nodeName.toLowerCase(),xa.each("left center right".split(" "),(function(e){a.formatter.matchNode(c,"align"+e)&&(s.align=e)})),!1!==a.settings.table_row_advtab&&xa.extend(s,Aa(l,c)),i=s),e.settings.table_row_class_list&&(o={name:"class",type:"listbox",label:"Class",values:Na(e.settings.table_row_class_list,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})}))}),u={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},o]},!1!==e.settings.table_row_advtab?e.windowManager.open({title:"Row properties",data:i,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},Ta(e)],onsubmit:h.curry(Ma,e,f)}):e.windowManager.open({title:"Row properties",data:i,body:u,onsubmit:h.curry(Ma,e,f)}))},Ia=function(e,t,n){var r,o=e.dom;function i(e,t,n){n&&o.setAttrib(e,t,n)}function u(e,t,n){n&&o.setStyle(e,t,n)}Ra(e,n),r=n.control.rootControl.toJSON(),e.undoManager.transact((function(){xa.each(t,(function(n){var a,c;i(n,"scope",r.scope),1===t.length?i(n,"style",r.style):(a=n,c=r.style,a.style.cssText+=";"+c),i(n,"class",r.class),u(n,"width",da(r.width)),u(n,"height",da(r.height)),r.type&&n.nodeName.toLowerCase()!==r.type&&(n=o.rename(n,r.type)),1===t.length&&(Ca(e,n),_a(e,n)),r.align&&wa(e,n,r.align),r.valign&&ka(e,n,r.valign)})),e.focus()}))},za=function(e){var t,n,r,o=[];if(o=e.dom.select("td[data-mce-selected],th[data-mce-selected]"),t=e.dom.getParent(e.selection.getStart(),"td,th"),!o.length&&t&&o.push(t),t=t||o[0]){var i,u,a,c;o.length>1?n={width:"",height:"",scope:"",class:"",align:"",style:"",type:t.nodeName.toLowerCase()}:(u=t,a=(i=e).dom,(c={width:a.getStyle(u,"width")||a.getAttrib(u,"width"),height:a.getStyle(u,"height")||a.getAttrib(u,"height"),scope:a.getAttrib(u,"scope"),class:a.getAttrib(u,"class")}).type=u.nodeName.toLowerCase(),xa.each("left center right".split(" "),(function(e){i.formatter.matchNode(u,"align"+e)&&(c.align=e)})),xa.each("top middle bottom".split(" "),(function(e){i.formatter.matchNode(u,"valign"+e)&&(c.valign=e)})),!1!==i.settings.table_cell_advtab&&xa.extend(c,Aa(a,u)),n=c),e.settings.table_cell_class_list&&(r={name:"class",type:"listbox",label:"Class",values:Na(e.settings.table_cell_class_list,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"td",classes:[t.value]})})}))});var l={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:h.curry(Ra,e)},{label:"Height",name:"height",onchange:h.curry(Ra,e)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},r]};!1!==e.settings.table_cell_advtab?e.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:l},Ta(e)],onsubmit:h.curry(Ia,e,o)}):e.windowManager.open({title:"Cell properties",data:n,body:l,onsubmit:h.curry(Ia,e,o)})}},La=xa.each,Ha=y.none(),Fa=function(e,t,n,r){var o=ua(e),i=function(){return he.fromDom(e.dom.getParent(e.selection.getStart(),"th,td"))},u=function(e){return jt(e,o)},a=function(t){var o=i();u(o).each((function(i){var u=fr.forMenu(r,i,o);t(i,u).each((function(t){e.selection.setRng(t),e.focus(),n.clear(i)}))}))},c=function(t){var n=i();return u(n).bind((function(t){var o=he.fromDom(e.getDoc()),i=fr.forMenu(r,t,n),u=Nn(h.noop,o,y.none());return va(t,i,u)}))},l=function(t){Ha.each((function(o){var a=O(o,(function(e){return hn(e)})),c=i();u(c).bind((function(o){var i=he.fromDom(e.getDoc()),u=Rn(i),l=fr.pasteRows(r,o,c,a,u);t(o,l).each((function(t){e.selection.setRng(t),e.focus(),n.clear(o)}))}))}))};La({mceTableSplitCells:function(){a(t.unmergeCells)},mceTableMergeCells:function(){a(t.mergeCells)},mceTableInsertRowBefore:function(){a(t.insertRowsBefore)},mceTableInsertRowAfter:function(){a(t.insertRowsAfter)},mceTableInsertColBefore:function(){a(t.insertColumnsBefore)},mceTableInsertColAfter:function(){a(t.insertColumnsAfter)},mceTableDeleteCol:function(){a(t.deleteColumn)},mceTableDeleteRow:function(){a(t.deleteRow)},mceTableCutRow:function(e){Ha=c(),a(t.deleteRow)},mceTableCopyRow:function(e){Ha=c()},mceTablePasteRowBefore:function(e){l(t.pasteRowsBefore)},mceTablePasteRowAfter:function(e){l(t.pasteRowsAfter)},mceTableDelete:function(){var t=he.fromDom(e.dom.getParent(e.selection.getStart(),"th,td"));jt(t,o).filter(h.not(o)).each((function(t){var n=he.fromText("");an.after(t,n),ln.remove(t);var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r)}))}},(function(t,n){e.addCommand(n,t)})),La({mceInsertTable:h.curry(Oa,e),mceTableProps:h.curry(Oa,e,!0),mceTableRowProps:h.curry(Ba,e),mceTableCellProps:h.curry(za,e)},(function(t,n){e.addCommand(n,(function(e,n){t(n)}))}))},ja=function(){return Ha.fold((function(){}),(function(e){return O(e,(function(e){return e.dom()}))}))},Ua=function(e){var t=O(e,he.fromDom);Ha=y.from(t)},Wa=function(e){var t=y.from(e.dom().documentElement).map(he.fromDom).getOr(e);return{parent:h.constant(t),view:h.constant(e),origin:h.constant(zr(0,0))}},$a=function(e){var t=ae.immutable.apply(null,e),n=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";n.push(e)},unbind:function(e){n=B(n,(function(t){return t!==e}))},trigger:function(){var e=t.apply(null,arguments);M(n,(function(t){t(e)}))}}},qa=function(e){return{registry:Q.map(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:Q.map(e,(function(e){return e.trigger}))}},Va={mode:io.exactly(["compare","extract","mutate","sink"]),sink:io.exactly(["element","start","stop","destroy"]),api:io.exactly(["forceDrop","drop","move","delayDrop"])},Ga={resolve:Uo("ephox-dragster").resolve},Ya=function(e,t,n,r,o){var i=function(e,t){return function(n){if(e(n)){var r,o,i,u,a,c,l,s=he.fromDom(n.target),d=function(){n.stopPropagation()},f=function(){n.preventDefault()},g=h.compose(f,d),p=(r=s,o=n.clientX,i=n.clientY,u=d,a=f,c=g,l=n,{target:h.constant(r),x:h.constant(o),y:h.constant(i),stop:u,prevent:a,kill:c,raw:h.constant(l)});t(p)}}}(n,r);return e.dom().addEventListener(t,i,o),{unbind:h.curry(Xa,e,t,i,o)}},Xa=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Ja=h.constant(!0),Ka=function(e,t,n){return function(e,t,n,r){return Ya(e,t,n,r,!1)}(e,t,Ja,n)},Za=Va.mode({compare:function(e,t){return zr(t.left()-e.left(),t.top()-e.top())},extract:function(e){return y.some(zr(e.x(),e.y()))},sink:function(e,t){var n,r,o,i=(n=t,r=ko.merge({layerClass:Ga.resolve("blocker")},n),o=he.fromTag("div"),_t.set(o,"role","presentation"),nn.setAll(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Xo(o,Ga.resolve("blocker")),Xo(o,r.layerClass),{element:function(){return o},destroy:function(){ln.remove(o)}}),u=Ka(i.element(),"mousedown",e.forceDrop),a=Ka(i.element(),"mouseup",e.drop),c=Ka(i.element(),"mousemove",e.move),l=Ka(i.element(),"mouseout",e.delayDrop);return Va.sink({element:i.element,start:function(e){an.append(e,i.element())},stop:function(){ln.remove(i.element())},destroy:function(){i.destroy(),a.unbind(),c.unbind(),l.unbind(),u.unbind()}})},mutate:function(e,t){e.mutate(t.left(),t.top())}}),Qa=function(){var e={onEvent:function(e,t){},reset:h.noop},t=function(){var e=y.none(),t=qa({move:$a(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){var o,i,u;(o=r,i=n,u=e.map((function(e){return o.compare(e,i)})),e=y.some(i),u).each((function(e){t.trigger.move(e)}))}))},reset:function(){e=y.none()},events:t.registry}}(),n=e;return{on:function(){n.reset(),n=t},off:function(){n.reset(),n=e},isOn:function(){return n===t},onEvent:function(e,t){n.onEvent(e,t)},events:t.events}},es=function(e,t,n){var r=!1,o=qa({start:$a([]),stop:$a([])}),i=Qa(),u=function(){l.stop(),i.isOn()&&(i.off(),o.trigger.stop())},a=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var r=arguments;null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null,r=null}),t)}}}(u,200);i.events.move.bind((function(n){t.mutate(e,n.info())}));var c=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);if(r)return e.apply(null,t)}},l=t.sink(Va.api({forceDrop:u,drop:c(u),move:c((function(e,n){a.cancel(),i.onEvent(e,t)})),delayDrop:c(a.throttle)}),n);return{element:l.element,go:function(e){l.start(e),i.on(),o.trigger.start()},on:function(){r=!0},off:function(){r=!1},destroy:function(){l.destroy()},events:o.registry}},ts=Wo.resolve("resizer-bar-dragging"),ns=function(e,t){var n=Kr.height,r=function(e,t,n){var r=function(){var e,t=qa({drag:$a(["xDelta","yDelta","target"])}),n=y.none(),r={mutate:function(t,n){e.trigger.drag(t,n)},events:(e=qa({drag:$a(["xDelta","yDelta"])})).registry};return r.events.drag.bind((function(e){n.each((function(n){t.trigger.drag(e.xDelta(),e.yDelta(),n)}))})),{assign:function(e){n=y.some(e)},get:function(){return n},mutate:r.mutate,events:t.registry}}(),o=function(e,t){var n=void 0!==t?t:{},r=void 0!==n.mode?n.mode:Za;return es(e,r,t)}(r,{}),i=y.none(),u=function(e,t){return y.from(_t.get(e,t))};r.events.drag.bind((function(e){u(e.target(),"data-row").each((function(t){var n=zi.getInt(e.target(),"top");nn.set(e.target(),"top",n+e.yDelta()+"px")})),u(e.target(),"data-column").each((function(t){var n=zi.getInt(e.target(),"left");nn.set(e.target(),"left",n+e.xDelta()+"px")}))}));var a=function(e,t){return zi.getInt(e,t)-parseInt(_t.get(e,"data-initial-"+t),10)};o.events.stop.bind((function(){r.get().each((function(r){i.each((function(o){u(r,"data-row").each((function(e){var t=a(r,"top");_t.remove(r,"data-initial-top"),f.trigger.adjustHeight(o,t,parseInt(e,10))})),u(r,"data-column").each((function(e){var t=a(r,"left");_t.remove(r,"data-initial-left"),f.trigger.adjustWidth(o,t,parseInt(e,10))})),oi(e,o,n,t)}))}))}));var c=function(t,n){f.trigger.startAdjust(),r.assign(t),_t.set(t,"data-initial-"+n,parseInt(nn.get(t,n),10)),Xo(t,ts),nn.set(t,"opacity","0.2"),o.go(e.parent())},l=Ka(e.parent(),"mousedown",(function(e){(function(e){return Jo(e,Zo)})(e.target())&&c(e.target(),"top"),function(e){return Jo(e,Qo)}(e.target())&&c(e.target(),"left")})),s=function(t){return et.eq(t,e.view())},d=Ka(e.view(),"mouseover",(function(r){"table"===xt.name(r.target())||function(e,t,n){return zt.ancestor(e,t,n).isSome()}(r.target(),"table",s)?(i="table"===xt.name(r.target())?y.some(r.target()):zt.ancestor(r.target(),"table",s)).each((function(r){oi(e,r,n,t)})):Tt.inBody(r.target())&&si(e)})),f=qa({adjustHeight:$a(["table","delta","row"]),adjustWidth:$a(["table","delta","column"]),startAdjust:$a([])});return{destroy:function(){l.unbind(),d.unbind(),o.destroy(),si(e)},refresh:function(r){oi(e,r,n,t)},on:o.on,off:o.off,hideBars:h.curry(ii,e),showBars:h.curry(ai,e),events:f.registry}}(e,t,n),o=qa({beforeResize:$a(["table"]),afterResize:$a(["table"]),startDrag:$a([])});return r.events.adjustHeight.bind((function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());Ki(e.table(),t,e.row(),n),o.trigger.afterResize(e.table())})),r.events.startAdjust.bind((function(e){o.trigger.startDrag()})),r.events.adjustWidth.bind((function(e){o.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());(function(e,t,n,r){var o=Yi(e),i=o.getCellDelta(t),u=Ji(e),a=o.getWidths(u,r,o),c=Bi(a,n,i,o),l=O(c,(function(e,t){return e+a[t]})),s=Vi(u,l);M(s,(function(e){o.setElementWidth(e.element(),e.width())})),n===u.grid().columns()-1&&o.setTableWidth(e,l,i)})(e.table(),n,e.column(),t),o.trigger.afterResize(e.table())})),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}},rs=function(e,t){return e.inline?function(e,t){return{parent:h.constant(t),view:h.constant(e),origin:h.constant(zr(0,0))}}(la(e),(n=he.fromTag("div"),nn.setAll(n,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),an.append(Tt.body(),n),n)):Wa(he.fromDom(e.getDoc()));var n},os=function(e){var t,n,r=y.none(),o=y.none(),i=y.none(),u=/(\d+(\.\d+)?)%/,a=function(e){return"TABLE"===e.nodeName};return e.on("init",(function(){var t=Qr(ba),n=rs(e);if(i=y.some(n),e.settings.object_resizing&&!1!==e.settings.table_resize_bars&&(!0===e.settings.object_resizing||"table"===e.settings.object_resizing)){var u=ns(n,t);u.on(),u.events.startDrag.bind((function(t){r=y.some(e.selection.getRng())})),u.events.afterResize.bind((function(t){var n=t.table(),o=At.descendants(n,"td[data-mce-style],th[data-mce-style]");M(o,(function(e){_t.remove(e,"data-mce-style")})),r.each((function(t){e.selection.setRng(t),e.focus()})),e.undoManager.add()})),o=y.some(u)}})),e.on("ObjectResizeStart",(function(r){var o;a(r.target)&&(t=r.width,o=r.target,n=e.dom.getStyle(o,"width")||e.dom.getAttrib(o,"width"))})),e.on("ObjectResized",(function(r){if(a(r.target)){var o=r.target;if(u.test(n)){var i=parseFloat(u.exec(n)[1]),c=r.width*i/t;e.dom.setStyle(o,"width",c+"%")}else{var l=[];xa.each(o.rows,(function(t){xa.each(t.cells,(function(t){var n=e.dom.getStyle(t,"width",!0);l.push({cell:t,width:n})}))})),xa.each(l,(function(t){e.dom.setStyle(t.cell,"width",t.width),e.dom.setAttrib(t.cell,"width",null)}))}}})),{lazyResize:function(){return o},lazyWire:function(){return i.getOr(Wa(he.fromDom(e.getBody())))},destroy:function(){o.each((function(e){e.destroy()})),i.each((function(t){!function(e,t){e.inline&&ln.remove(t.parent())}(e,t)}))}}},is=function(e){return{fold:e}},as=function(e){return is((function(t,n,r,o){return t(e)}))},ss=function(e,t){return is((function(n,r,o,i){return o(e,t)}))},cs=function(e,t){return jt(e,t).bind((function(t){var n=Ft(t);return H(n,(function(t){return et.eq(e,t)})).map((function(e){return{index:h.constant(e),all:h.constant(n)}}))}))},ls=function(e,t){return cs(e,t).fold((function(){return as(e)}),(function(t){return t.index()+1<t.all().length?ss(e,t.all()[t.index()+1]):function(e){return is((function(t,n,r,o){return o(e)}))}(e)}))},us=function(e,t){return cs(e,t).fold((function(){return as()}),(function(t){return t.index()-1>=0?ss(e,t.all()[t.index()-1]):function(e){return is((function(t,n,r,o){return n(e)}))}(e)}))},ds=rr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fs={before:ds.before,on:ds.on,after:ds.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(h.identity,h.identity,h.identity)}},ps=rr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ms=ae.immutable("start","soffset","finish","foffset"),hs={domRange:ps.domRange,relative:ps.relative,exact:ps.exact,exactFromRange:function(e){return ps.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:ms,getWin:function(e){var t=e.match({domRange:function(e){return he.fromDom(e.startContainer)},relative:function(e,t){return fs.getStart(e)},exact:function(e,t,n,r){return e}});return dt.defaultView(t)}},gs=function(e,t,n,r){var o=function(e,t,n,r){var o=dt.owner(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o}(e,t,n,r),i=et.eq(e,n)&&t===r;return o.collapsed&&!i},bs=function(e,t){e.selectNodeContents(t.dom())},vs=function(e){return{left:h.constant(e.left),top:h.constant(e.top),right:h.constant(e.right),bottom:h.constant(e.bottom),width:h.constant(e.width),height:h.constant(e.height)}},xs=function(e,t){var n=e.document.createRange();return bs(n,t),n},ys=function(e,t,n){var r,o,i=e.document.createRange();return r=i,t.fold((function(e){r.setStartBefore(e.dom())}),(function(e,t){r.setStart(e.dom(),t)}),(function(e){r.setStartAfter(e.dom())})),o=i,n.fold((function(e){o.setEndBefore(e.dom())}),(function(e,t){o.setEnd(e.dom(),t)}),(function(e){o.setEndAfter(e.dom())})),i},ws=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},ks=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?y.some(n).map(vs):y.none()},Cs=rr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_s=function(e,t,n){return t(he.fromDom(n.startContainer),n.startOffset,he.fromDom(n.endContainer),n.endOffset)},Ss=function(e,t){var n,r,o,i=(n=e,t.match({domRange:function(e){return{ltr:h.constant(e),rtl:y.none}},relative:function(e,t){return{ltr:ke((function(){return ys(n,e,t)})),rtl:ke((function(){return y.some(ys(n,t,e))}))}},exact:function(e,t,r,o){return{ltr:ke((function(){return ws(n,e,t,r,o)})),rtl:ke((function(){return y.some(ws(n,r,o,e,t))}))}}}));return(o=(r=i).ltr()).collapsed?r.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Cs.rtl(he.fromDom(e.endContainer),e.endOffset,he.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return _s(0,Cs.ltr,o)})):_s(0,Cs.ltr,o)},Es=(Cs.ltr,Cs.rtl,Ss),Ts=function(e,t){return Ss(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Ns=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Rs=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return _o(i,(function(e){return Ns(e,n,r)?y.some(e):y.none()})).map((function(o){return i=e,a=n,c=r,l=o,s=function(e){var t=i.dom().createRange();return t.setStart(u.dom(),e),t.collapse(!0),t},d=vn.get(u=t).length,f=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,u=1;u<o;u++){var a=e(u),c=Math.abs(t-a.left);if(n>a.bottom);else{if(n<a.top||c>i)return u-1;i=c}}return 0}((function(e){return s(e).getBoundingClientRect()}),a,c,l.right,d),s(f);var i,u,a,c,l,s,d,f}))},As=function(e,t,n,r){var o=e.dom().createRange(),i=dt.children(t);return _o(i,(function(t){return o.selectNode(t.dom()),Ns(o.getBoundingClientRect(),n,r)?Ds(e,t,n,r):y.none()}))},Ds=function(e,t,n,r){return(xt.isText(t)?Rs:As)(e,t,n,r)},Ps=function(e,t){return t-e.left<e.right-t},Os=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Ms=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=Ps(o,n);return(!0===i?kn:Cn)(t).map((function(t){return Os(e,t,i)}))},Bs=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Ps(r,n);return y.some(Os(e,t,o))},Is=function(e,t,n){return(0===dt.children(t).length?Bs:Ms)(e,t,n)},zs=document.caretPositionFromPoint?function(e,t,n){return y.from(e.dom().caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return y.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),y.some(n)}))}:document.caretRangeFromPoint?function(e,t,n){return y.from(e.dom().caretRangeFromPoint(t,n))}:function(e,t,n){return he.fromPoint(e,t,n).bind((function(r){var o=function(){return Is(e,r,t)};return 0===dt.children(r).length?o():function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return Ds(e,t,u,a)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))}(e,r,t,n).orThunk(o)}))},Ls=function(e,t){var n=xt.name(e);return"input"===n?fs.after(e):$(["br","img"],n)?0===t?fs.before(e):fs.after(e):fs.on(e,t)},Hs=function(e,t){var n=e.fold(fs.before,Ls,fs.after),r=t.fold(fs.before,Ls,fs.after);return hs.relative(n,r)},Fs=function(e,t,n,r){var o=Ls(e,t),i=Ls(n,r);return hs.relative(o,i)},js=Hs,Us=Fs,Ws=function(e,t){y.from(e.getSelection()).each((function(e){e.removeAllRanges(),e.addRange(t)}))},$s=function(e,t,n,r,o){var i=ws(e,t,n,r,o);Ws(e,i)},qs=function(e,t){return Es(e,t).match({ltr:function(t,n,r,o){$s(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();i.extend?(i.collapse(t.dom(),n),i.extend(r.dom(),o)):$s(e,r,o,t,n)}})},Vs=function(e){var t=e.getSelection();return t.rangeCount>0?function(e){var t=he.fromDom(e.anchorNode),n=he.fromDom(e.focusNode);return gs(t,e.anchorOffset,n,e.focusOffset)?y.some(hs.range(he.fromDom(e.anchorNode),e.anchorOffset,he.fromDom(e.focusNode),e.focusOffset)):function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return y.some(hs.range(he.fromDom(t.startContainer),t.startOffset,he.fromDom(n.endContainer),n.endOffset))}return y.none()}(e)}(t):y.none()},Gs=function(e){var t=hs.getWin(e).dom(),n=function(e,n,r,o){return ws(t,e,n,r,o)},r=function(e){return e.match({domRange:function(e){var t=he.fromDom(e.startContainer),n=he.fromDom(e.endContainer);return Fs(t,e.startOffset,n,e.endOffset)},relative:Hs,exact:Fs})}(e);return Es(t,r).match({ltr:n,rtl:n})},ul=function(e,t,n){return function(e,t,n){var r=he.fromDom(e.document);return zs(r,t,n).map((function(e){return hs.range(he.fromDom(e.startContainer),e.startOffset,he.fromDom(e.endContainer),e.endOffset)}))}(e,t,n)},Ys=tinymce.util.Tools.resolve("tinymce.util.VK"),Xs=function(e,t,n,r){return Zs(e,t,ls(n),r)},Js=function(e,t,n,r){return Zs(e,t,us(n),r)},Ks=function(e,t){var n=hs.exact(t,0,t,0);return Gs(n)},Zs=function(e,t,n,r,o){return n.fold(y.none,y.none,(function(e,t){return kn(t).map((function(e){return Ks(0,e)}))}),(function(n){return jt(n,t).bind((function(t){var o,i=fr.noMenu(n);return e.undoManager.transact((function(){r.insertRowsAfter(t,i)})),o=At.descendants(t,"tr"),G(o).bind((function(e){return zt.descendant(e,"td,th").map((function(e){return Ks(0,e)}))}))}))}))},dl=["table","li","dl"],Qs=function(e,t,n,r){if(e.keyCode===Ys.TAB){var o=la(t),i=function(e){var t=xt.name(e);return et.eq(e,o)||$(dl,t)},u=t.selection.getRng();if(u.collapsed){var a=he.fromDom(u.startContainer);Ht(a,i).each((function(o){e.preventDefault(),(e.shiftKey?Js:Xs)(t,i,o,n,r).each((function(e){t.selection.setRng(e)}))}))}}},ec={response:ae.immutable("selection","kill")},tc=function(e){return function(t){return t===e}},nc=tc(38),rc=tc(40),oc={ltr:{isBackward:tc(37),isForward:tc(39)},rtl:{isBackward:tc(39),isForward:tc(37)},isUp:nc,isDown:rc,isNavigation:function(e){return e>=37&&e<=40}},ic=function(e,t){var n=Ts(e,t);return{start:h.constant(he.fromDom(n.startContainer)),soffset:h.constant(n.startOffset),finish:h.constant(he.fromDom(n.endContainer)),foffset:h.constant(n.endOffset)}},ac=function(e,t,n,r){return{start:h.constant(fs.on(e,t)),finish:h.constant(fs.on(n,r))}},sc=(Ze.detect().browser.isSafari(),function(e){var t=void 0!==e?e.dom():document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return zr(n,r)}),cc=function(e){return{elementFromPoint:function(t,n){return y.from(e.document.elementFromPoint(t,n)).map(he.fromDom)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(t,n,r,o){var i=hs.exact(t,n,r,o);return function(e,t){var n=Ts(e,t);return ks(n)}(e,i).map((function(e){return Q.map(e,h.apply)}))},getSelection:function(){return function(e){return Vs(e).map((function(e){return hs.exact(e.start(),e.soffset(),e.finish(),e.foffset())}))}(e).map((function(t){return ic(e,t)}))},fromSitus:function(t){var n=hs.relative(t.start(),t.finish());return ic(e,n)},situsFromPoint:function(t,n){return ul(e,t,n).map((function(e){return{start:h.constant(fs.on(e.start(),e.soffset())),finish:h.constant(fs.on(e.finish(),e.foffset()))}}))},clearSelection:function(){!function(e){e.getSelection().removeAllRanges()}(e)},setSelection:function(t){!function(e,t,n,r,o){var i=Us(t,n,r,o);qs(e,i)}(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){!function(e,t,n){var r=js(t,n);qs(e,r)}(e,t,n)},selectContents:function(t){!function(e,t){var n=xs(e,t);Ws(e,n)}(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){return sc(he.fromDom(e.document)).top()},scrollBy:function(t,n){!function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollBy(e,t)}(t,n,he.fromDom(e.document))}}},lc=function(e,t,n,r,o){if(!et.eq(n,r))return Zn(n,r,t).bind((function(t){var r=t.boxes().getOr([]);return r.length>0?(o(e,r,t.start(),t.finish()),y.some(ec.response(y.some(ac(n,0,n,yn(n))),!0))):y.none()}))},uc=function(e,t,n,r,o,i,u){return et.eq(n,o)&&r===i?y.none():zt.closest(n,"td,th",t).bind((function(n){return zt.closest(o,"td,th",t).bind((function(r){return lc(e,t,n,r,u)}))}))},dc=lc,fc=function(e,t,n,r,o){return function(e,t,n,r,o){return(i=e,u=o,L(i,(function(e){return be.is(e,u)}))).bind((function(e){return Vn(e,t,n).bind((function(e){return n=r,zt.ancestor(t=e,"table").bind((function(e){return zt.descendant(e,n).bind((function(e){return Kn(e,t).bind((function(e){return e.boxes().map((function(t){return{boxes:h.constant(t),start:h.constant(e.start()),finish:h.constant(e.finish())}}))}))}))}));var t,n}))}));var i,u}(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map((function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()}))},pc=ae.immutableBag(["left","top","right","bottom"],[]),mc={nu:pc,moveUp:function(e,t){return pc({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},moveDown:function(e,t){return pc({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},moveBottomTo:function(e,t){var n=e.bottom()-e.top();return pc({left:e.left(),top:t-n,right:e.right(),bottom:t})},moveTopTo:function(e,t){var n=e.bottom()-e.top();return pc({left:e.left(),top:t,right:e.right(),bottom:t+n})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,t,n){return pc({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}},hc=function(e){return mc.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},gc=function(e,t){return y.some(e.getRect(t))},bc=function(e,t,n){return xt.isElement(t)?gc(e,t).map(hc):xt.isText(t)?(r=e,o=t,i=n,i>=0&&i<yn(o)?r.getRangedRect(o,i,o,i+1):i>0?r.getRangedRect(o,i-1,o,i):y.none()).map(hc):y.none();var r,o,i},vc=function(e,t){return xt.isElement(t)?gc(e,t).map(hc):xt.isText(t)?e.getRangedRect(t,0,t,yn(t)).map(hc):y.none()},xc=ae.immutable("item","mode"),yc=function(e,t,n,r){var o=void 0!==r?r:wc;return e.property().parent(t).map((function(e){return xc(e,o)}))},wc=function(e,t,n,r){var o=void 0!==r?r:kc;return n.sibling(e,t).map((function(e){return xc(e,o)}))},kc=function e(t,n,r,o){var c=void 0!==o?o:e,i=t.property().children(n);return r.first(i).map((function(e){return xc(e,c)}))},Cc=[{current:yc,next:wc,fallback:y.none()},{current:wc,next:kc,fallback:y.some(yc)},{current:kc,next:kc,fallback:y.some(wc)}],_c={backtrack:yc,sidestep:wc,advance:kc,go:function e(t,n,r,o,c){return L(c=void 0!==c?c:Cc,(function(e){return e.current===r})).bind((function(r){return r.current(t,n,o,r.next).orThunk((function(){return r.fallback.bind((function(r){return e(t,n,r,o)}))}))}))}},Sc={left:function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?y.some(e[e.length-1]):y.none()}}},right:function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?y.some(e[0]):y.none()}}}},Ec=function e(t,n,r,o,c,i){return _c.go(t,n,o,c).bind((function(n){return i(n.item())?y.none():r(n.item())?y.some(n.item()):e(t,n.item(),r,n.mode(),c,i)}))},Tc=function(e,t){return 0===e.property().children(t).length},Nc=function(e,t,n,r){return function(e,t,n,r){return Ec(e,t,n,_c.sidestep,Sc.left(),r)}(e,t,n,r)},Rc=function(e,t,n,r){return function(e,t,n,r){return Ec(e,t,n,_c.sidestep,Sc.right(),r)}(e,t,n,r)},Ac={before:function(e,t,n){return Nc(e,t,h.curry(Tc,e),n)},after:function(e,t,n){return Rc(e,t,h.curry(Tc,e),n)},seekLeft:Nc,seekRight:Rc,walkers:function(){return{left:Sc.left,right:Sc.right}},walk:function(e,t,n,r,o){return _c.go(e,t,n,r,o)},backtrack:_c.backtrack,sidestep:_c.sidestep,advance:_c.advance},Dc=Dn(),Pc={gather:function(e,t,n){return Ac.gather(Dc,e,t,n)},before:function(e,t){return Ac.before(Dc,e,t)},after:function(e,t){return Ac.after(Dc,e,t)},seekLeft:function(e,t,n){return Ac.seekLeft(Dc,e,t,n)},seekRight:function(e,t,n){return Ac.seekRight(Dc,e,t,n)},walkers:function(){return Ac.walkers()},walk:function(e,t,n,r){return Ac.walk(Dc,e,t,n,r)}},Oc=rr([{none:[]},{retry:["caret"]}]),Mc=function(e,t,n){return Bt.closest(t,go).fold(h.constant(!1),(function(t){return vc(e,t).exists((function(e){return r=e,(t=n).left()<r.left()||Math.abs(r.right()-t.left())<1||t.left()>r.right();var t,r}))}))},Bc={point:mc.getTop,adjuster:function(e,t,n,r,o){var i=mc.moveUp(o,5);return Math.abs(n.top()-r.top())<1||n.bottom()<o.top()?Oc.retry(i):n.bottom()===o.top()?Oc.retry(mc.moveUp(o,1)):Mc(e,t,o)?Oc.retry(mc.translate(i,5,0)):Oc.none()},move:mc.moveUp,gather:Pc.before},Ic={point:mc.getBottom,adjuster:function(e,t,n,r,o){var i=mc.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1||n.top()>o.bottom()?Oc.retry(i):n.top()===o.bottom()?Oc.retry(mc.moveDown(o,1)):Mc(e,t,o)?Oc.retry(mc.translate(i,5,0)):Oc.none()},move:mc.moveDown,gather:Pc.after},zc=function e(t,n,r,o,c){return 0===c?y.some(o):(l=t,d=o.left(),s=n.point(o),l.elementFromPoint(d,s).filter((function(e){return"table"===xt.name(e)})).isSome()?(u=o,a=c-1,e(t,i=n,r,i.move(u,5),a)):t.situsFromPoint(o.left(),n.point(o)).bind((function(i){return i.start().fold(y.none,(function(i,u){return vc(t,i).bind((function(u){return n.adjuster(t,i,u,r,o).fold(y.none,(function(o){return e(t,n,r,o,c-1)}))})).orThunk((function(){return y.some(o)}))}),y.none)})));var i,u,a,l,d,s},Lc=function(e,t,n){var r,o,i,u=e.move(n,5),a=zc(t,e,n,u,100).getOr(u);return(r=e,o=a,i=t,r.point(o)>i.getInnerHeight()?y.some(r.point(o)-i.getInnerHeight()):r.point(o)<0?y.some(-r.point(o)):y.none()).fold((function(){return t.situsFromPoint(a.left(),e.point(a))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(a.left(),e.point(a)-n)}))},Hc={tryUp:h.curry(Lc,Bc),tryDown:h.curry(Lc,Ic),ieTryUp:function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},getJumpSize:h.constant(5)},Fc=rr([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),jc=function(e){return zt.closest(e,"tr")},Uc={verify:function(e,t,n,r,o,i,u){return zt.closest(r,"td,th",u).bind((function(n){return zt.closest(t,"td,th",u).map((function(t){return et.eq(n,t)?et.eq(r,n)&&yn(n)===o?i(t):Fc.none("in same cell"):zn(jc,[n,t]).fold((function(){return o=t,u=n,a=(r=e).getRect(o),(c=r.getRect(u)).right>a.left&&c.left<a.right?Fc.success():i(t);var r,o,u,a,c}),(function(e){return i(t)}))}))})).getOr(Fc.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)},adt:Fc},Wc={point:ae.immutable("element","offset"),delta:ae.immutable("element","deltaOffset"),range:ae.immutable("element","start","finish"),points:ae.immutable("begin","end"),text:ae.immutable("element","text")},$c=(ae.immutable("ancestor","descendants","element","index"),ae.immutable("parent","children","element","index")),qc=function(e){return dt.parent(e).bind((function(t){var n=dt.children(t);return function(e,t){return H(e,h.curry(et.eq,t))}(n,e).map((function(r){return $c(t,n,e,r)}))}))},Vc=function(e){return"br"===xt.name(e)},Gc=function e(t,n,r){return n(t,r).bind((function(t){return xt.isText(t)&&0===vn.get(t).trim().length?e(t,n,r):y.some(t)}))},Yc=function(e,t,n,r){var o,i,u;return(Vc(t)?(o=e,i=t,(u=r).traverse(i).orThunk((function(){return Gc(i,u.gather,o)})).map(u.relative)):function(e,t,n,r){return(o=t,i=n,dt.child(o,i).filter(Vc).orThunk((function(){return dt.child(o,i-1).filter(Vc)}))).bind((function(t){return r.traverse(t).fold((function(){return Gc(t,r.gather,e).map(r.relative)}),(function(e){return qc(e).map((function(e){return fs.on(e.parent(),e.index())}))}))}));var o,i}(e,t,n,r)).map((function(e){return{start:h.constant(e),finish:h.constant(e)}}))},Xc=Ze.detect(),Jc=function e(t,n,r,o,c,i){return 0===i?y.none():Qc(t,n,r,o,c).bind((function(u){var a=t.fromSitus(u),l=Uc.verify(t,r,o,a.finish(),a.foffset(),c.failure,n);return Uc.cata(l,(function(){return y.none()}),(function(){return y.some(u)}),(function(u){return et.eq(r,u)&&0===o?Kc(t,r,o,mc.moveUp,c):e(t,n,u,0,c,i-1)}),(function(u){return et.eq(r,u)&&o===yn(u)?Kc(t,r,o,mc.moveDown,c):e(t,n,u,yn(u),c,i-1)}))}))},Kc=function(e,t,n,r,o){return bc(e,t,n).bind((function(t){return Zc(e,o,r(t,Hc.getJumpSize()))}))},Zc=function(e,t,n){return Xc.browser.isChrome()||Xc.browser.isSafari()||Xc.browser.isFirefox()||Xc.browser.isEdge()?t.otherRetry(e,n):Xc.browser.isIE()?t.ieRetry(e,n):y.none()},Qc=function(e,t,n,r,o){return bc(e,n,r).bind((function(t){return Zc(e,o,t)}))},el=function(e,t,n){return(r=e,o=t,i=n,r.getSelection().bind((function(e){return Yc(o,e.finish(),e.foffset(),i).fold((function(){return y.some(Wc.point(e.finish(),e.foffset()))}),(function(t){var n=r.fromSitus(t);return function(e){return Uc.cata(e,(function(e){return y.none("BR ADT: none")}),(function(){return y.none()}),(function(e){return y.some(Wc.point(e,0))}),(function(e){return y.some(Wc.point(e,yn(e)))}))}(Uc.verify(r,e.finish(),e.foffset(),n.finish(),n.foffset(),i.failure,o))}))}))).bind((function(r){return Jc(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)}));var r,o,i},tl=Ze.detect(),nl=function(e,t,n,r,o){return zt.closest(r,"td,th",t).bind((function(r){return zt.closest(r,"table",t).bind((function(i){return u=i,function(e,t,n){return Bt.ancestor(e,t,n).isSome()}(o,(function(e){return dt.parent(e).exists((function(e){return et.eq(e,u)}))}))?el(e,t,n).bind((function(e){return zt.closest(e.finish(),"td,th",t).map((function(t){return{start:h.constant(r),finish:h.constant(t),range:h.constant(e)}}))})):y.none();var u}))}))},rl=function(e,t,n,r,o,i){return tl.browser.isIE()?y.none():i(r,t).orThunk((function(){return nl(e,t,n,r,o).map((function(e){var t=e.range();return ec.response(y.some(ac(t.start(),t.soffset(),t.finish(),t.foffset())),!0)}))}))},il=function(e,t,n,r,o,i,u){return nl(e,n,r,o,i).bind((function(e){return dc(t,n,e.start(),e.finish(),u)}))},al=function(e,t){return zt.closest(e,"tr",t).bind((function(e){return zt.closest(e,"table",t).bind((function(n){var r=At.descendants(n,"tr");return et.eq(e,r[0])?Pc.seekLeft(n,(function(e){return Cn(e).isSome()}),t).map((function(e){var t=yn(e);return ec.response(y.some(ac(e,t,e,t)),!0)})):y.none()}))}))},sl=function(e,t){return zt.closest(e,"tr",t).bind((function(e){return zt.closest(e,"table",t).bind((function(n){var r=At.descendants(n,"tr");return et.eq(e,r[r.length-1])?Pc.seekRight(n,(function(e){return kn(e).isSome()}),t).map((function(e){return ec.response(y.some(ac(e,0,e,0)),!0)})):y.none()}))}))},cl=function(e,t){return zt.closest(e,"td,th",t)},ll={down:{traverse:dt.nextSibling,gather:Pc.after,relative:fs.before,otherRetry:Hc.tryDown,ieRetry:Hc.ieTryDown,failure:Uc.adt.failedDown},up:{traverse:dt.prevSibling,gather:Pc.before,relative:fs.before,otherRetry:Hc.tryUp,ieRetry:Hc.ieTryUp,failure:Uc.adt.failedUp}},fl=ae.immutable("rows","cols"),pl=function(e,t){var n=ae.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),r=y.none(),o=function(e){var t=function(t){_t.remove(t,e.selected()),_t.remove(t,e.firstSelected()),_t.remove(t,e.lastSelected())},n=function(t){_t.set(t,e.selected(),"1")},r=function(n){var r=At.descendants(n,e.selectedSelector());M(r,t)};return{clear:r,selectRange:function(t,o,i,u){r(t),M(o,n),_t.set(i,e.firstSelected(),"1"),_t.set(u,e.lastSelected(),"1")},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}(br);return e.on("init",(function(i){var u=e.getWin(),a=la(e),c=ua(e),l=function(e,t,n,r){var o,i,u,a,c,l,s=cc(e),d=(o=s,i=t,u=n,a=r,c=y.none(),l=function(){c=y.none()},{mousedown:function(e){a.clear(i),c=cl(e.target(),u)},mouseover:function(e){c.each((function(t){a.clear(i),cl(e.target(),u).each((function(e){Zn(t,e,u).each((function(n){var r=n.boxes().getOr([]);(r.length>1||1===r.length&&!et.eq(t,e))&&(a.selectRange(i,r,n.start(),n.finish()),o.selectContents(e))}))}))}))},mouseup:function(){c.each(l)}});return{mousedown:d.mousedown,mouseover:d.mouseover,mouseup:d.mouseup}}(u,a,c,o),s=function(e,t,n,r){var o=cc(e),i=function(){return r.clear(t),y.none()};return{keydown:function(e,u,a,c,l,s){var d=e.raw().which,f=!0===e.raw().shiftKey;return Qn(t,r.selectedSelector()).fold((function(){return oc.isDown(d)&&f?h.curry(il,o,t,n,ll.down,c,u,r.selectRange):oc.isUp(d)&&f?h.curry(il,o,t,n,ll.up,c,u,r.selectRange):oc.isDown(d)?h.curry(rl,o,n,ll.down,c,u,sl):oc.isUp(d)?h.curry(rl,o,n,ll.up,c,u,al):y.none}),(function(e){var n=function(n){return function(){return _o(n,(function(n){return fc(n.rows(),n.cols(),t,e,r)})).fold((function(){return er(t,r.firstSelectedSelector(),r.lastSelectedSelector()).map((function(e){var n=oc.isDown(d)||s.isForward(d)?fs.after:fs.before;return o.setRelativeSelection(fs.on(e.first(),0),n(e.table())),r.clear(t),ec.response(y.none(),!0)}))}),(function(e){return y.some(ec.response(y.none(),!0))}))}};return oc.isDown(d)&&f?n([fl(1,0)]):oc.isUp(d)&&f?n([fl(-1,0)]):s.isBackward(d)&&f?n([fl(0,-1),fl(-1,0)]):s.isForward(d)&&f?n([fl(0,1),fl(1,0)]):oc.isNavigation(d)&&!1===f?i:y.none}))()},keyup:function(e,o,i,u,a){return Qn(t,r.selectedSelector()).fold((function(){var c=e.raw().which;return 0==(!0===e.raw().shiftKey)?y.none():oc.isNavigation(c)?uc(t,n,o,i,u,a,r.selectRange):y.none()}),y.none)}}}(u,a,c,o),d=function(t,n){n.kill()&&t.kill(),n.selection().each((function(t){var n=hs.relative(t.start(),t.finish()),r=Ts(u,n);e.selection.setRng(r)}))},f=function(t){var n=m(t);if(n.raw().shiftKey&&oc.isNavigation(n.raw().which)){var r=e.selection.getRng(),o=he.fromDom(r.startContainer),i=he.fromDom(r.endContainer);s.keyup(n,o,r.startOffset,i,r.endOffset).each((function(e){d(n,e)}))}},g=function(e){return!(_t.has(e,"data-mce-bogus")||"br"===xt.name(e)||xt.isText(e)&&0===vn.get(e).length)},p=function(n){var r,o,i=m(n);t().each((function(e){e.hideBars()})),40===n.which&&(r=he.fromDom(e.getBody()),o=function(e){return dt.prevSibling(e).bind((function(e){return g(e)?y.some(e):o(e)}))},dt.lastChild(r).bind((function(e){return g(e)?y.some(e):o(e)}))).each((function(t){"table"===xt.name(t)&&(e.settings.forced_root_block?e.dom.add(e.getBody(),e.settings.forced_root_block,e.settings.forced_root_block_attrs,"<br/>"):e.dom.add(e.getBody(),"br"))}));var u=e.selection.getRng(),a=he.fromDom(e.selection.getStart()),c=he.fromDom(u.startContainer),l=he.fromDom(u.endContainer),f=ba(a).isRtl()?oc.rtl:oc.ltr;s.keydown(i,c,u.startOffset,l,u.endOffset,f).each((function(e){d(i,e)})),t().each((function(e){e.showBars()}))},m=function(e){var t=he.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=h.compose(r,n);return{target:h.constant(t),x:h.constant(e.x),y:h.constant(e.y),stop:n,prevent:r,kill:o,raw:h.constant(e)}},v=function(e){return 0===e.button},b=function(e){v(e)&&l.mousedown(m(e))},x=function(e){var t;(void 0===(t=e).buttons||0!=(1&t.buttons))&&l.mouseover(m(e))},w=function(e){v&&l.mouseup(m(e))};e.on("mousedown",b),e.on("mouseover",x),e.on("mouseup",w),e.on("keyup",f),e.on("keydown",p),e.on("nodechange",(function(){var t=e.selection,n=he.fromDom(t.getStart()),r=he.fromDom(t.getEnd()),i=jt(n),u=jt(r);i.bind((function(e){return u.bind((function(t){return et.eq(e,t)?y.some(!0):y.none()}))})).fold((function(){o.clear(a)}),h.noop)})),r=y.some(n({mousedown:b,mouseover:x,mouseup:w,keyup:f,keydown:p}))})),{clear:o.clear,destroy:function(){r.each((function(e){}))}}},ml=function(e){return{get:function(){return function(e,t){return Qn(e,t)}(la(e),br.selectedSelector()).fold((function(){return void 0===e.selection.getStart()?ir.none():ir.single(e.selection)}),(function(e){return ir.multiple(e)}))}}},hl=xa.each,gl=function(e){var t=[];function n(t){return function(){e.execCommand(t)}}hl("inserttable tableprops deletetable | cell row column".split(" "),(function(n){"|"===n?t.push({text:"-"}):t.push(e.menuItems[n])})),e.addButton("table",{type:"menubutton",title:"Table",menu:t}),e.addButton("tableprops",{title:"Table properties",onclick:h.curry(Oa,e,!0),icon:"table"}),e.addButton("tabledelete",{title:"Delete table",onclick:n("mceTableDelete")}),e.addButton("tablecellprops",{title:"Cell properties",onclick:n("mceTableCellProps")}),e.addButton("tablemergecells",{title:"Merge cells",onclick:n("mceTableMergeCells")}),e.addButton("tablesplitcells",{title:"Split cell",onclick:n("mceTableSplitCells")}),e.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:n("mceTableInsertRowBefore")}),e.addButton("tableinsertrowafter",{title:"Insert row after",onclick:n("mceTableInsertRowAfter")}),e.addButton("tabledeleterow",{title:"Delete row",onclick:n("mceTableDeleteRow")}),e.addButton("tablerowprops",{title:"Row properties",onclick:n("mceTableRowProps")}),e.addButton("tablecutrow",{title:"Cut row",onclick:n("mceTableCutRow")}),e.addButton("tablecopyrow",{title:"Copy row",onclick:n("mceTableCopyRow")}),e.addButton("tablepasterowbefore",{title:"Paste row before",onclick:n("mceTablePasteRowBefore")}),e.addButton("tablepasterowafter",{title:"Paste row after",onclick:n("mceTablePasteRowAfter")}),e.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:n("mceTableInsertColBefore")}),e.addButton("tableinsertcolafter",{title:"Insert column after",onclick:n("mceTableInsertColAfter")}),e.addButton("tabledeletecol",{title:"Delete column",onclick:n("mceTableDeleteCol")})},bl=function(e){var t=e.settings.table_toolbar;""!==t&&!1!==t&&(t||(t="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),e.addContextToolbar((function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)}),t))},vl=function(e,t){var n=y.none(),r=[],o=[],i=[],u=[],a=function(e){e.disabled(!0)},c=function(e){e.disabled(!1)},l=function(){var e=this;r.push(e),n.fold((function(){a(e)}),(function(t){c(e)}))},s=function(){var e=this;o.push(e),n.fold((function(){a(e)}),(function(t){c(e)}))};e.on("init",(function(){e.on("nodechange",(function(l){var s=y.from(e.dom.getParent(e.selection.getStart(),"th,td"));(n=s.bind((function(e){var n=he.fromDom(e);return jt(n).map((function(e){return fr.forMenu(t,e,n)}))}))).fold((function(){M(r,a),M(o,a),M(i,a),M(u,a)}),(function(e){M(r,c),M(o,c),M(i,(function(t){t.disabled(e.mergable().isNone())})),M(u,(function(t){t.disabled(e.unmergable().isNone())}))}))}))}));var d=function(e,t,n,r){var o,i,u,a,c,l=r.getEl().getElementsByTagName("table")[0],s=r.isRtl()||"tl-tr"===r.parent().rel;for(l.nextSibling.innerHTML=t+1+" x "+(n+1),s&&(t=9-t),i=0;i<10;i++)for(o=0;o<10;o++)a=l.rows[i].childNodes[o].firstChild,c=(s?o>=t:o<=t)&&i<=n,e.dom.toggleClass(a,"mce-active",c),c&&(u=a);return u.parentNode},f=!1===e.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:h.curry(Oa,e)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(t){t.aria&&(this.parent().hideAll(),t.stopImmediatePropagation(),Oa(e))},onshow:function(){d(e,0,0,this.menu.items()[0])},onhide:function(){var t=this.menu.items()[0].getEl().getElementsByTagName("a");e.dom.removeClass(t,"mce-active"),e.dom.addClass(t[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(t){var n,r,o=t.target;"A"===o.tagName.toUpperCase()&&(n=parseInt(o.getAttribute("data-mce-x"),10),r=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(n=9-n),n===this.lastX&&r===this.lastY||(d(e,n,r,t.control),this.lastX=n,this.lastY=r))},onclick:function(t){var n=this;"A"===t.target.tagName.toUpperCase()&&(t.preventDefault(),t.stopPropagation(),n.parent().cancel(),e.undoManager.transact((function(){vr(e,n.lastX+1,n.lastY+1)})),e.addVisual())}}]};function g(t){return function(){e.execCommand(t)}}var p={text:"Table properties",context:"table",onPostRender:l,onclick:h.curry(Oa,e,!0)},m={text:"Delete table",context:"table",onPostRender:l,cmd:"mceTableDelete"},v={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:g("mceTableInsertRowBefore"),onPostRender:s},{text:"Insert row after",onclick:g("mceTableInsertRowAfter"),onPostRender:s},{text:"Delete row",onclick:g("mceTableDeleteRow"),onPostRender:s},{text:"Row properties",onclick:g("mceTableRowProps"),onPostRender:s},{text:"-"},{text:"Cut row",onclick:g("mceTableCutRow"),onPostRender:s},{text:"Copy row",onclick:g("mceTableCopyRow"),onPostRender:s},{text:"Paste row before",onclick:g("mceTablePasteRowBefore"),onPostRender:s},{text:"Paste row after",onclick:g("mceTablePasteRowAfter"),onPostRender:s}]},b={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:g("mceTableInsertColBefore"),onPostRender:s},{text:"Insert column after",onclick:g("mceTableInsertColAfter"),onPostRender:s},{text:"Delete column",onclick:g("mceTableDeleteCol"),onPostRender:s}]},x={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:g("mceTableCellProps"),onPostRender:s},{text:"Merge cells",onclick:g("mceTableMergeCells"),onPostRender:function(){var e=this;i.push(e),n.fold((function(){a(e)}),(function(t){e.disabled(t.mergable().isNone())}))}},{text:"Split cell",onclick:g("mceTableSplitCells"),onPostRender:function(){var e=this;u.push(e),n.fold((function(){a(e)}),(function(t){e.disabled(t.unmergable().isNone())}))}}]};e.addMenuItem("inserttable",f),e.addMenuItem("tableprops",p),e.addMenuItem("deletetable",m),e.addMenuItem("row",v),e.addMenuItem("column",b),e.addMenuItem("cell",x)};f.add("table",(function(e){var t=os(e),n=pl(e,t.lazyResize),r=function(e,t){var n,r=function(e){return"table"===xt.name(la(e))};!1!==e.settings.table_clone_elements&&("string"==typeof e.settings.table_clone_elements?n=e.settings.table_clone_elements.split(/[ ,]/):Array.isArray(e.settings.table_clone_elements)&&(n=e.settings.table_clone_elements));var o=y.from(n),i=function(t,n,r,c){return function(u,a){var l=At.descendants(u,"td[data-mce-style],th[data-mce-style]");M(l,(function(e){_t.remove(e,"data-mce-style")}));var d=c(),s=he.fromDom(e.getDoc()),f=Qr(ba),m=Nn(r,s,o);return n(u)?t(d,u,a,m,f).bind((function(t){return M(t.newRows(),(function(t){var n;n=t,e.fire("newrow",{node:n.dom()}),n.dom()})),M(t.newCells(),(function(t){var n;n=t,e.fire("newcell",{node:n.dom()}),n.dom()})),t.cursor().map((function(t){var n=e.dom.createRng();return n.setStart(t.dom(),0),n.setEnd(t.dom(),0),n}))})):y.none()}};return{deleteRow:i(sa.eraseRows,(function(t){var n=eo(t);return!1===r(e)||n.rows()>1}),h.noop,t),deleteColumn:i(sa.eraseColumns,(function(t){var n=eo(t);return!1===r(e)||n.columns()>1}),h.noop,t),insertRowsBefore:i(sa.insertRowsBefore,h.always,h.noop,t),insertRowsAfter:i(sa.insertRowsAfter,h.always,h.noop,t),insertColumnsBefore:i(sa.insertColumnsBefore,h.always,Ir,t),insertColumnsAfter:i(sa.insertColumnsAfter,h.always,Ir,t),mergeCells:i(sa.mergeCells,h.always,h.noop,t),unmergeCells:i(sa.unmergeCells,h.always,h.noop,t),pasteRowsBefore:i(sa.pasteRowsBefore,h.always,h.noop,t),pasteRowsAfter:i(sa.pasteRowsAfter,h.always,h.noop,t),pasteCells:i(sa.pasteCells,h.always,h.noop,t)}}(e,t.lazyWire),o=ml(e);Fa(e,r,n,o),pr(e,o,r,n),vl(e,o),gl(e),bl(e),e.on("PreInit",(function(){e.serializer.addTempAttr(br.firstSelected()),e.serializer.addTempAttr(br.lastSelected())})),!1!==e.settings.table_tab_navigation&&e.on("keydown",(function(n){Qs(n,e,r,t.lazyWire)})),e.on("remove",(function(){t.destroy(),n.destroy()})),this.insertTable=function(t,n){return vr(e,t,n)},this.setClipboardRows=Ua,this.getClipboardRows=ja}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),i=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=tinymce.util.Tools.resolve("tinymce.util.VK"),c=function(e){return e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))},l=t.DOM,s=function(e){e.keyCode!==u.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};e.add("tabfocus",(function(e){!function(e){function t(t){var s,a,d,f;if(!(t.keyCode!==u.TAB||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented())&&(1===(d=o.explode(c(e))).length&&(d[1]=d[0],d[0]=":prev"),a=t.shiftKey?":prev"===d[0]?h(-1):l.get(d[0]):":next"===d[1]?h(1):l.get(d[1]))){var m=n.get(a.id||a.name);a.id&&m?m.focus():r.setTimeout((function(){i.webkit||window.focus(),a.focus()}),10),t.preventDefault()}function h(i){function r(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&n.get(t.id)&&-1!==e.tabIndex&&function i(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&i(e.parentNode)}(e)}if(a=l.select(":input:enabled,*[tabindex]:not(iframe)"),o.each(a,(function(t,n){if(t.id===e.id)return s=n,!1})),i>0){for(f=s+1;f<a.length;f++)if(r(a[f]))return a[f]}else for(f=s-1;f>=0;f--)if(r(a[f]))return a[f];return null}}e.on("init",(function(){e.inline&&l.setAttrib(e.getBody(),"tabIndex",null),e.on("keyup",s),i.gecko?e.on("keypress keydown",t):e.on("keydown",t)}))}(e)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return!(!/(^|[ ,])tinymcespellchecker([, ]|$)/.test(e.settings.plugins)||!t.get("tinymcespellchecker")||(void 0!==window.console&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),0))},r=function(e){var t=e.getParam("language","en");return e.getParam("spellchecker_language",t)},i=function(e){return e.getParam("spellchecker_rpc_url")},a=function(e){var t=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return e.getParam("spellchecker_wordchar_pattern",t)},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=tinymce.util.Tools.resolve("tinymce.util.URI"),u=tinymce.util.Tools.resolve("tinymce.util.XHR");function c(e){return e&&1===e.nodeType&&"false"===e.contentEditable}var g,p=function(e,t){if(!t.get()){var n=function(e,t){var n,r,o,i,l,a=[],d=t.dom;function s(e,t){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function u(t){var n=e.getElementsByTagName("*"),r=[];t="number"==typeof t?""+t:null;for(var o=0;o<n.length;o++){var i=n[o],c=i.getAttribute("data-mce-index");null!==c&&c.length&&-1!==i.className.indexOf("mce-spellchecker-word")&&(c!==t&&null!==t||r.push(i))}return r}function f(e){for(var t=a.length;t--;)if(a[t]===e)return t;return-1}function m(e){for(var t=0,n=a.length;t<n&&!1!==e(a[t],t);t++);return this}function g(e){var t,n,r=u(e?f(e):null);for(t=r.length;t--;)(n=r[t]).parentNode.insertBefore(n.firstChild,n),n.parentNode.removeChild(n);return this}function h(e){var n=u(f(e)),r=t.dom.createRng();return r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),r}return o=t.schema.getBlockElements(),i=t.schema.getWhiteSpaceElements(),l=t.schema.getShortEndedElements(),{text:r=function p(e){var t;if(3===e.nodeType)return e.data;if(i[e.nodeName]&&!o[e.nodeName])return"";if(c(e))return"\n";if(t="",(o[e.nodeName]||l[e.nodeName])&&(t+="\n"),e=e.firstChild)do{t+=p(e)}while(e=e.nextSibling);return t}(e),matches:a,each:m,filter:function(e){var t=[];return m((function(n,r){e(n,r)&&t.push(n)})),a=t,this},reset:function(){return a.splice(0,a.length),g(),this},matchFromElement:function(e){return a[e.getAttribute("data-mce-index")]},elementFromMatch:function(e){return u(f(e))[0]},find:function(e,t){if(r&&e.global)for(;n=e.exec(r);)a.push(s(n,t));return this},add:function(e,t,n){return a.push({start:e,end:e+t,text:r.substr(e,t),data:n}),this},wrap:function(t){return a.length&&function(e,t,n){var r,a,d,s,u,f=[],m=0,g=e,h=0;(t=t.slice(0)).sort((function(e,t){return e.start-t.start})),u=t.shift();e:for(;;){if((o[g.nodeName]||l[g.nodeName]||c(g))&&m++,3===g.nodeType&&(!a&&g.length+m>=u.end?(a=g,s=u.end-m):r&&f.push(g),!r&&g.length+m>u.start&&(r=g,d=u.start-m),m+=g.length),r&&a){if(g=n({startNode:r,startNodeIndex:d,endNode:a,endNodeIndex:s,innerNodes:f,match:u.text,matchIndex:h}),m-=a.length-s,r=null,a=null,f=[],h++,!(u=t.shift()))break}else if(i[g.nodeName]&&!o[g.nodeName]||!g.firstChild){if(g.nextSibling){g=g.nextSibling;continue}}else if(!c(g)){g=g.firstChild;continue}for(;;){if(g.nextSibling){g=g.nextSibling;break}if(g.parentNode===e)break e;g=g.parentNode}}}(e,a,function(e){function t(t,n){var r=a[n];r.stencil||(r.stencil=e(r));var o=r.stencil.cloneNode(!1);return o.setAttribute("data-mce-index",n),t&&o.appendChild(d.doc.createTextNode(t)),o}return function(e){var n,r,o,i=e.startNode,c=e.endNode,a=e.matchIndex,s=d.doc;if(i===c){var u=i;o=u.parentNode,e.startNodeIndex>0&&(n=s.createTextNode(u.data.substring(0,e.startNodeIndex)),o.insertBefore(n,u));var l=t(e.match,a);return o.insertBefore(l,u),e.endNodeIndex<u.length&&(r=s.createTextNode(u.data.substring(e.endNodeIndex)),o.insertBefore(r,u)),u.parentNode.removeChild(u),l}n=s.createTextNode(i.data.substring(0,e.startNodeIndex)),r=s.createTextNode(c.data.substring(e.endNodeIndex));for(var f=t(i.data.substring(e.startNodeIndex),a),m=[],g=0,h=e.innerNodes.length;g<h;++g){var p=e.innerNodes[g],v=t(p.data,a);p.parentNode.replaceChild(v,p),m.push(v)}var x=t(c.data.substring(0,e.endNodeIndex),a);return(o=i.parentNode).insertBefore(n,i),o.insertBefore(f,i),o.removeChild(i),(o=c.parentNode).insertBefore(x,c),o.insertBefore(r,c),o.removeChild(c),x}}(t)),this},unwrap:g,replace:function(e,n){var r=h(e);return r.deleteContents(),n.length>0&&r.insertNode(t.dom.doc.createTextNode(n)),r},rangeFromMatch:h,indexOf:f}}(e.getBody(),e);t.set(n)}return t.get()},l=function(e,t,n,r,c,a,l){var d,f,g;(function(e){return e.getParam("spellchecker_callback")}(e)||(d=e,f=t,g=n,function(e,t,n,r){var c={method:e,lang:g.get()},l="";c["addToDictionary"===e?"word":"text"]=t,o.each(c,(function(e,t){l&&(l+="&"),l+=t+"="+encodeURIComponent(e)})),u.send({url:new s(f).toAbsolute(i(d)),type:"post",content_type:"application/x-www-form-urlencoded",data:l,success:function(e){if(e=JSON.parse(e))e.error?r(e.error):n(e);else{var t=d.translate("Server response wasn't proper JSON.");r(t)}},error:function(){var e=d.translate("The spelling service was not found: (")+i(d)+d.translate(")");r(e)}})})).call(e.plugins.spellchecker,r,c,a,l)},d=function(e,t,n){e.dom.select("span.mce-spellchecker-word").length||f(e,t,n)},f=function(e,t,n){if(p(e,n).reset(),n.set(null),t.get())return t.set(!1),function(e){e.fire("SpellcheckEnd")}(e),!0},m=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},h=function(e,t,n,r,o){var i,c;if(o.words?(c=!!o.dictionary,i=o.words):i=o,e.setProgressState(!1),function(e){for(var t in e)return!1;return!0}(i)){var l=e.translate("No misspellings found.");return e.notificationManager.open({text:l,type:"info"}),void t.set(!1)}r.set({suggestions:i,hasDictionarySupport:c}),p(e,n).find(a(e)).filter((function(e){return!!i[e.text]})).wrap((function(t){return e.dom.create("span",{class:"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":t.text})})),t.set(!0),function(e){e.fire("SpellcheckStart")}(e)},v=function(e,t,n,r,o,i){f(e,n,r)||(e.setProgressState(!0),l(e,t,i,"spellcheck",p(e,r).text,(function(t){h(e,n,r,o,t)}),(function(t){e.notificationManager.open({text:t,type:"error"}),e.setProgressState(!1),f(e,n,r)})),e.focus())},x=d,y=function(e,t,n,r,o,i){e.setProgressState(!0),l(e,t,"addToDictionary",o,(function(){e.setProgressState(!1),e.dom.remove(i,!0),d(e,n,r)}),(function(t){e.notificationManager.open({text:t,type:"error"}),e.setProgressState(!1)}))},w=function(e,t,n,r,c,i){e.selection.collapse(),i?o.each(e.dom.select("span.mce-spellchecker-word"),(function(t){t.getAttribute("data-mce-word")===r&&e.dom.remove(t,!0)})):e.dom.remove(c,!0),d(e,t,n)},k=function(e,t){var n,r=[];if((n=o.toArray(e.getBody().getElementsByTagName("span"))).length)for(var c=0;c<n.length;c++){var i=m(n[c]);null!==i&&i.length&&i===t.toString()&&r.push(n[c])}return r},C=m,_=h,S=function(e,t,n,o,i){return{getTextMatcher:function(){return o.get()},getWordCharPattern:function(){return a(e)},markErrors:function(r){_(e,t,o,n,r)},getLanguage:function(){return r(e)}}},E=function(e,t,n,i,c,a){var s,u,l,d,f=(l=e,s=o.map(function(e){return e.getParam("spellchecker_languages","English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv")}(l).split(","),(function(e){return{name:(e=e.split("="))[0],value:e[1]}})),u=[],o.each(s,(function(e){u.push({selectable:!0,text:e.name,data:e.value})})),u),g=function(){v(e,t,n,i,a,c)},m={tooltip:"Spellcheck",onclick:g,onPostRender:function(t){var r=t.control;e.on("SpellcheckStart SpellcheckEnd",(function(){r.active(n.get())}))}};f.length>1&&(m.type="splitbutton",m.menu=f,m.onshow=(d=e,function(e){var t=r(d);e.control.items().each((function(e){e.active(e.settings.data===t)}))}),m.onselect=function(e){c.set(e.control.settings.data)}),e.addButton("spellchecker",m),e.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:g,selectable:!0,onPostRender:function(){var t=this;t.active(n.get()),e.on("SpellcheckStart SpellcheckEnd",(function(){t.active(n.get())}))}})},T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),N=tinymce.util.Tools.resolve("tinymce.ui.Factory"),R=function(e,t,n,r,c){e.on("click",(function(i){var l=i.target;if("mce-spellchecker-word"===l.className){i.preventDefault();var a=k(e,C(l));if(a.length>0){var s=e.dom.createRng();s.setStartBefore(a[0]),s.setEndAfter(a[a.length-1]),e.selection.setRng(s),function(e,t,n,r,c,i,l){var a=[],s=n.get().suggestions[i];o.each(s,(function(t){a.push({text:t,onclick:function(){e.insertContent(e.dom.encode(t)),e.dom.remove(l),x(e,r,c)}})})),a.push({text:"-"}),n.get().hasDictionarySupport&&a.push({text:"Add to Dictionary",onclick:function(){y(e,t,r,c,i,l)}}),a.push.apply(a,[{text:"Ignore",onclick:function(){w(e,r,c,i,l)}},{text:"Ignore all",onclick:function(){w(e,r,c,i,l,!0)}}]),(g=N.create("menu",{items:a,context:"contextmenu",onautohide:function(e){-1!==e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){g.remove(),g=null}})).renderTo(document.body);var u=T.DOM.getPos(e.getContentAreaContainer()),d=e.dom.getPos(l[0]),f=e.dom.getRoot();"BODY"===f.nodeName?(d.x-=f.ownerDocument.documentElement.scrollLeft||f.scrollLeft,d.y-=f.ownerDocument.documentElement.scrollTop||f.scrollTop):(d.x-=f.scrollLeft,d.y-=f.scrollTop),u.x+=d.x,u.y+=d.y,g.moveTo(u.x,u.y+l[0].offsetHeight)}(e,t,n,r,c,l.getAttribute("data-mce-word"),a)}}}))};t.add("spellchecker",(function(t,o){if(!1===n(t)){var i=e(!1),c=e(r(t)),a=e(null),l=e({});return E(t,o,i,a,c,l),R(t,o,l,i,a),function(e,t,n,r,o,i){e.addCommand("mceSpellCheck",(function(){v(e,t,n,r,o,i)}))}(t,o,i,a,l,c),S(t,i,l,a)}}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");function r(e){return e&&1===e.nodeType&&"false"===e.contentEditable}var o=function(e,t,n,a,i){var o,c,l,d,s,u,f=[],p=0;function g(e,t){if(t=t||0,!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");var n=e.index;if(t>0){var r=e[t];if(!r)throw new Error("Invalid capture group");n+=e[0].indexOf(r),e[0]=r}return[n,n+e[0].length,[e[0]]]}if(l=t.ownerDocument,d=i.getBlockElements(),s=i.getWhiteSpaceElements(),u=i.getShortEndedElements(),c=function e(t){var n;if(3===t.nodeType)return t.data;if(s[t.nodeName]&&!d[t.nodeName])return"";if(n="",r(t))return"\n";if((d[t.nodeName]||u[t.nodeName])&&(n+="\n"),t=t.firstChild)do{n+=e(t)}while(t=t.nextSibling);return n}(t)){if(e.global)for(;o=e.exec(c);)f.push(g(o,a));else o=c.match(e),f.push(g(o,a));return f.length&&(p=f.length,function(e,t,n){var a,i,o,c,l=[],f=0,p=e,g=t.shift(),m=0;e:for(;;){if((d[p.nodeName]||u[p.nodeName]||r(p))&&f++,3===p.nodeType&&(!i&&p.length+f>=g[1]?(i=p,c=g[1]-f):a&&l.push(p),!a&&p.length+f>g[0]&&(a=p,o=g[0]-f),f+=p.length),a&&i){if(p=n({startNode:a,startNodeIndex:o,endNode:i,endNodeIndex:c,innerNodes:l,match:g[2],matchIndex:m}),f-=i.length-c,a=null,i=null,l=[],m++,!(g=t.shift()))break}else if(s[p.nodeName]&&!d[p.nodeName]||!p.firstChild){if(p.nextSibling){p=p.nextSibling;continue}}else if(!r(p)){p=p.firstChild;continue}for(;;){if(p.nextSibling){p=p.nextSibling;break}if(p.parentNode===e)break e;p=p.parentNode}}}(t,f,function(e){var t;if("function"!=typeof e){var n=e.nodeType?e:l.createElement(e);t=function(e,t){var r=n.cloneNode(!1);return r.setAttribute("data-mce-index",t),e&&r.appendChild(l.createTextNode(e)),r}}else t=e;return function(e){var n,r,a,i=e.startNode,o=e.endNode,c=e.matchIndex;if(i===o){var d=i;a=d.parentNode,e.startNodeIndex>0&&(n=l.createTextNode(d.data.substring(0,e.startNodeIndex)),a.insertBefore(n,d));var s=t(e.match[0],c);return a.insertBefore(s,d),e.endNodeIndex<d.length&&(r=l.createTextNode(d.data.substring(e.endNodeIndex)),a.insertBefore(r,d)),d.parentNode.removeChild(d),s}n=l.createTextNode(i.data.substring(0,e.startNodeIndex)),r=l.createTextNode(o.data.substring(e.endNodeIndex));for(var u=t(i.data.substring(e.startNodeIndex),c),f=[],p=0,g=e.innerNodes.length;p<g;++p){var m=e.innerNodes[p],h=t(m.data,c);m.parentNode.replaceChild(h,m),f.push(h)}var v=t(o.data.substring(0,e.endNodeIndex),c);return(a=i.parentNode).insertBefore(n,i),a.insertBefore(u,i),a.removeChild(i),(a=o.parentNode).insertBefore(v,o),a.insertBefore(r,o),a.removeChild(o),v}}(n))),p}},i=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},c=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},l=function(e,t){var r,a=[];if((r=n.toArray(e.getBody().getElementsByTagName("span"))).length)for(var o=0;o<r.length;o++){var c=i(r[o]);null!==c&&c.length&&c===t.toString()&&a.push(r[o])}return a},d=function(e,t,n){var r=t.get(),a=e.dom;(n=!1!==n)?r++:r--,a.removeClass(l(e,t.get()),"mce-match-marker-selected");var i=l(e,r);return i.length?(a.addClass(l(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(i[0]),r):-1},f=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},s=function(e,t){var n=d(e,t,!0);-1!==n&&t.set(n)},u=function(e,t){var n=d(e,t,!1);-1!==n&&t.set(n)},m=function(e){var t=i(e);return null!==t&&t.length>0},p=function(e,t,r){var a,o,l,d;for(o=n.toArray(e.getBody().getElementsByTagName("span")),a=0;a<o.length;a++){var s=i(o[a]);null!==s&&s.length&&(s===t.get().toString()&&(l||(l=o[a].firstChild),d=o[a].firstChild),c(o[a]))}if(l&&d){var u=e.dom.createRng();return u.setStart(l,0),u.setEnd(d,d.data.length),!1!==r&&e.selection.setRng(u),u}},g=function(e,t){return l(e,t.get()+1).length>0},h=function(e,t){return l(e,t.get()-1).length>0},v=p,x=function(e,t,n,r,i){n=(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).replace(/\s/g,"\\s"),n=i?"\\b"+n+"\\b":n;var c,l,f,s,u,m=(c=e,l=t,f=new RegExp(n,r?"g":"gi"),(u=c.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",s=c.getBody(),p(c,l,!1),o(f,s,u,!1,c.schema));return m&&(t.set(-1),t.set(d(e,t,!0))),m},y=s,w=u,k=function(e,t,r,a,o){var l,p,d,v,x,b,y=t.get();for(a=!1!==a,d=e.getBody(),p=n.grep(n.toArray(d.getElementsByTagName("span")),m),l=0;l<p.length;l++){var w=i(p[l]);if(v=x=parseInt(w,10),o||v===t.get()){for(r.length?(p[l].firstChild.nodeValue=r,c(p[l])):f(e.dom,p[l]);p[++l];){if((v=parseInt(i(p[l]),10))!==x){l--;break}f(e.dom,p[l])}a&&y--}else x>t.get()&&p[l].setAttribute("data-mce-index",x-1)}return t.set(y),a?(b=g(e,t),s(e,t)):(b=h(e,t),u(e,t)),!o&&b},C=g,_=h,S=function(e,t){var r,a={};function i(){c.statusbar.find("#next").disabled(!1===C(e,t)),c.statusbar.find("#prev").disabled(!1===_(e,t))}function o(){e.windowManager.alert("Could not find the specified string.",(function(){c.find("#find")[0].focus()}))}e.undoManager.add(),r=n.trim(e.selection.getContent({format:"text"}));var c=e.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){e.focus(),v(e,t),e.undoManager.add()},onSubmit:function(n){var r,l,d,s;return n.preventDefault(),l=c.find("#case").checked(),s=c.find("#words").checked(),(d=c.find("#find").value()).length?a.text===d&&a.caseState===l&&a.wholeWord===s?C(e,t)?(y(e,t),void i()):void o():((r=x(e,t,d,l,s))||o(),c.statusbar.items().slice(1).disabled(0===r),i(),void(a={text:d,caseState:l,wholeWord:s})):(v(e,t,!1),void c.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){c.submit()}},{text:"Replace",disabled:!0,onclick:function(){k(e,t,c.find("#replace").value())||(c.statusbar.items().slice(1).disabled(!0),t.set(-1),a={})}},{text:"Replace all",disabled:!0,onclick:function(){k(e,t,c.find("#replace").value(),!0,!0),c.statusbar.items().slice(1).disabled(!0),a={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){w(e,t),i()}},{text:"Next",name:"next",disabled:!0,onclick:function(){y(e,t),i()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:r},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})},E=function(e,t){return function(){S(e,t)}};t.add("searchreplace",(function(t){var n=e(-1);return function(e,t){e.addCommand("SearchReplace",(function(){S(e,t)}))}(t,n),function(e,t){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:E(e,t),separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",onclick:E(e,t)}),e.shortcuts.add("Meta+F","",E(e,t))}(t,n),function(e,t){return{done:function(n){return v(e,t,n)},find:function(n,r,a){return x(e,t,n,r,a)},next:function(){return y(e,t)},prev:function(){return w(e,t)},replace:function(n,r,a){return k(e,t,n,r,a)}}}(t,n)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(e){return e.getParam("save_enablewhendirty",!0)},i=function(e,t){e.notificationManager.open({text:e.translate(t),type:"error"})},r=function(e){e.addCommand("mceSave",(function(){!function(e){var n;if(n=t.DOM.getParent(e.id,"form"),!a(e)||e.isDirty()){if(e.save(),function(e){return!!e.getParam("save_onsavecallback")}(e))return e.execCallback("save_onsavecallback",e),void e.nodeChanged();n?(e.setDirty(!1),n.onsubmit&&!n.onsubmit()||("function"==typeof n.submit?n.submit():i(e,"Error: Form submit field collision.")),e.nodeChanged()):i(e,"Error: No form element found.")}}(e)})),e.addCommand("mceCancel",(function(){!function(e){var t=n.trim(e.startContent);!function(e){return!!e.getParam("save_oncancelcallback")}(e)?(e.setContent(t),e.undoManager.clear(),e.nodeChanged()):e.execCallback("save_oncancelcallback",e)}(e)}))},s=function(e){return function(t){var n=t.control;e.on("nodeChange dirty",(function(){n.disabled(a(e)&&!e.isDirty())}))}};e.add("save",(function(e){(function(e){e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:s(e)}),e.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:s(e)}),e.addShortcut("Meta+S","","mceSave")})(e),r(e)}))}(),function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("print",(function(i){var e;(e=i).addCommand("mcePrint",(function(){e.getWin().print()})),function(e){e.addButton("print",{title:"Print",cmd:"mcePrint"}),e.addMenuItem("print",{text:"Print",cmd:"mcePrint",icon:"print"})}(i),i.addShortcut("Meta+P","","mcePrint")}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){var t="",r=e.dom.encode,i=function(e){return e.getParam("content_style","")}(e);t+='<base href="'+r(e.documentBaseURI.getURI())+'">',i&&(t+='<style type="text/css">'+i+"</style>"),n.each(e.contentCSS,(function(i){t+='<link type="text/css" rel="stylesheet" href="'+r(e.documentBaseURI.toAbsolute(i))+'">'}));var o=e.settings.body_id||"tinymce";-1!==o.indexOf("=")&&(o=(o=e.getParam("body_id","","hash"))[e.id]||o);var a=e.settings.body_class||"";-1!==a.indexOf("=")&&(a=(a=e.getParam("body_class","","hash"))[e.id]||"");var s=e.settings.directionality?' dir="'+e.settings.directionality+'"':"";return"<!DOCTYPE html><html><head>"+t+'</head><body id="'+r(o)+'" class="mce-content-body '+r(a)+'"'+r(s)+">"+e.getContent()+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> </body></html>'},a=function(e,t,n){var i=r(e);if(n)t.src="data:text/html;charset=utf-8,"+encodeURIComponent(i);else{var o=t.contentWindow.document;o.open(),o.write(i),o.close()}},s=function(e){var n=!t.ie,r='<iframe src="javascript:\'\'" frameborder="0"'+(n?' sandbox="allow-scripts"':"")+"></iframe>",o=function(e){return parseInt(e.getParam("plugin_preview_width","650"),10)}(e),s=function(e){return parseInt(e.getParam("plugin_preview_height","500"),10)}(e);e.windowManager.open({title:"Preview",width:o,height:s,html:r,buttons:{text:"Close",onclick:function(e){e.control.parent().parent().close()}},onPostRender:function(t){var r=t.control.getEl("body").firstChild;a(e,r,n)}})};e.add("preview",(function(e){(function(e){e.addCommand("mcePreview",(function(){s(e)}))})(e),function(e){e.addButton("preview",{title:"Preview",cmd:"mcePreview"}),e.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}(e)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!t.get("powerpaste")||(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))},r=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},c=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},l=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},d=function(e,t){return e.fire("paste",{ieFake:t})},f=function(e){return e.getParam("paste_plaintext_inform",!0)},m=function(e){return e.getParam("paste_block_drop",!1)},h=function(e){return e.getParam("paste_data_images",!1)},v=function(e){return e.getParam("paste_filter_drop",!0)},x=function(e){return e.getParam("paste_preprocess")},y=function(e){return e.getParam("paste_postprocess")},w=function(e){return e.getParam("paste_webkit_styles")},k=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},C=function(e){return e.getParam("paste_merge_formats",!0)},_=function(e){return e.getParam("smart_paste",!0)},S=function(e){return e.getParam("paste_as_text",!1)},E=function(e){return e.getParam("paste_retain_style_properties")},T=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},N=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},R=function(e){return e.getParam("paste_enable_default_filters",!0)},s=function(e,t,n){e.addCommand("mceTogglePlainTextPaste",(function(){!function(e,t,n){var r,s;"text"===t.pasteFormat?(t.pasteFormat="html",l(e,!1)):(t.pasteFormat="text",l(e,!0),s=e,!1===n.get()&&f(s)&&((r=e).notificationManager.open({text:r.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),type:"info"}),n.set(!0))),e.focus()}(e,t,n)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))},A=tinymce.util.Tools.resolve("tinymce.Env"),u=tinymce.util.Tools.resolve("tinymce.util.Delay"),D=tinymce.util.Tools.resolve("tinymce.util.Tools"),P=tinymce.util.Tools.resolve("tinymce.util.VK"),O="x-tinymce/html",M="\x3c!-- "+O+" --\x3e",B=function(e){return M+e},I=function(e){return e.replace(M,"")},z=function(e){return-1!==e.indexOf(M)},L=function(){return O},g=tinymce.util.Tools.resolve("tinymce.html.Entities"),H=function(e){return e.replace(/\r?\n/g,"<br>")},F=function(e,t,n){var r=e.split(/\n\n/),a=function(e,t){var n,r=[],a="<"+e;if("object"==o(t)){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+g.encodeAllRaw(t[n])+'"');r.length&&(a+=" "+r.join(" "))}return a+">"}(t,n),i="</"+t+">",c=D.map(r,(function(e){return e.split(/\n/).join("<br />")}));return 1===c.length?c[0]:D.map(c,(function(e){return a+e+i})).join("")},j=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},U=function(e,t,n){return t?F(e,t,n):H(e)},W=tinymce.util.Tools.resolve("tinymce.html.DomParser"),b=tinymce.util.Tools.resolve("tinymce.html.Node"),$=tinymce.util.Tools.resolve("tinymce.html.Schema"),V=tinymce.util.Tools.resolve("tinymce.html.Serializer");function G(e,t){return D.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e}var Y={filter:G,innerText:function(e){var t=$(),n=W({},t),r="",a=t.getShortEndedElements(),i=D.makeMap("script noscript style textarea video audio iframe object"," "),o=t.getBlockElements();return e=G(e,[/<!\[[^\]]+\]>/g]),function s(e){var t=e.name,n=e;if("br"!==t)if(a[t]&&(r+=" "),i[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{s(e)}while(e=e.next);o[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}else r+="\n"}(n.parse(e)),r},trimHtml:function(e){return G(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?" ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==navigator.userAgent.indexOf(" Edge/")}};function X(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),D.each(n,(function(n){if(n.test(e))return t=!0,!1})),t}function J(e,t,n,r){var a,o={},s=e.dom.parseStyle(r);return D.each(s,(function(s,c){switch(c){case"mso-list":(a=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(a[1],10)),/Ignore/i.test(s)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":c="text-align";break;case"vert-align":c="vertical-align";break;case"font-color":case"mso-foreground":c="color";break;case"mso-background":case"mso-highlight":c="background";break;case"font-weight":case"font-style":return void("normal"!==s&&(o[c]=s));case"mso-element":if(/^(comment|comment-list)$/i.test(s))return void n.remove()}0!==c.indexOf("mso-comment")?0!==c.indexOf("mso-")&&("all"===E(e)||t&&t[c])&&(o[c]=s):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new b("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new b("i",1))),(o=e.dom.serializeStyle(o,n.name))||null}var K=function(e,t){return R(e)?function(e,t){var n,r;(n=E(e))&&(r=D.makeMap(n.split(/[, ]/))),t=Y.filter(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(" "):""}]]);var a=T(e),o=$({valid_elements:a,valid_children:"-li[p]"});D.each(o.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var s=W({},o);s.addAttributeFilter("style",(function(t){for(var n,a=t.length;a--;)(n=t[a]).attr("style",J(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),s.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),s.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),s.addNodeFilter("a",(function(e){for(var t,n,r,a=e.length;a--;)if(n=(t=e[a]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var c=s.parse(t);return N(e)&&function(e){var t,n,r=1;function a(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=a(e)}while(e=e.next);return t}function i(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0}function o(e,a,o){var s=e._listLevel||r;s!==r&&(s<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===a?t.append(e):(n=n||t,t=new b(a,1),o>1&&t.attr("start",""+o),e.wrap(t)),e.name="li",s>r&&n&&n.lastChild.append(t),r=s,function e(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{e(t)}while(t=t.next)}(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)}for(var s=[],c=e.firstChild;null!=c;)if(s.push(c),null!==(c=c.walk()))for(;void 0!==c&&c.parent!==e;)c=c.walk();for(var u=0;u<s.length;u++)if("p"===(e=s[u]).name&&e.firstChild){var l=a(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)){o(e,"ul");continue}if(X(l)){var d=/([0-9]+)\./.exec(l),f=1;d&&(f=parseInt(d[1],10)),o(e,"ol",f);continue}if(e._listLevel){o(e,"ul",1);continue}t=null}else n=t,t=null}(c),V({validate:e.settings.validate},o).serialize(c)}(e,t):t},Z=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},Q=function(e,t){return{content:e,cancelled:t}},ee=function(e,t,n,o){var i,l,s,d,u,f,m=r(e,t,n,o);return e.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?(i=e,l=m.content,s=n,d=o,u=i.dom.create("div",{style:"display:none"},l),f=c(i,u,s,d),Q(f.node.innerHTML,f.isDefaultPrevented())):Q(m.content,m.isDefaultPrevented())},te=function(e,t,n){var r=Z(t),a=r?K(e,t):t;return ee(e,a,n,r)},ne=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},re=function(e){return ne(e)&&/.(gif|jpe?g|png)$/.test(e)},oe=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!ne(t)||(a=t,i=n,(r=e).undoManager.extra((function(){i(r,a)}),(function(){r.execCommand("mceInsertLink",!1,a)})),0));var r,a,i},ie=function(e,t,n){return!!re(t)&&(a=t,i=n,(r=e).undoManager.extra((function(){i(r,a)}),(function(){r.insertContent('<img src="'+a+'">')})),!0);var r,a,i},ae=function(e,t){return e.insertContent(t,{merge:C(e),paste:!0}),!0},se=function(e,t){var n,r;!1===_(e)?ae(e,t):(n=e,r=t,D.each([oe,ie,ae],(function(e){return!0!==e(n,r,ae)})))},ce=function(e){var t,n,r,o,s,c,l=this,g=0,f=(t=e,r="%MCEPASTEBIN%",{create:function(){var e,a,i=t.dom,o=t.getBody(),s=t.dom.getViewPort(t.getWin()).y,u=20;if(n=t.selection.getRng(),t.inline&&(a=t.selection.getScrollContainer())&&a.scrollTop>0&&(s=a.scrollTop),n.getClientRects){var c=function(e){var t,r,a,o=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1===o.nodeType){for(a=o.childNodes[n.startOffset];a&&3===a.nodeType&&!a.data.length;)a=a.nextSibling;if(a)return"BR"===a.tagName&&(r=i.doc.createTextNode("\ufeff"),a.parentNode.insertBefore(r,a),(e=i.createRng()).setStartBefore(r),e.setEndAfter(r),t=e.getClientRects(),i.remove(r)),t.length?t[0]:void 0}}(n);if(c)u=s+(c.top-i.getPos(o).y);else{u=s;var l=n.startContainer;l&&(3===l.nodeType&&l.parentNode!==o&&(l=l.parentNode),1===l.nodeType&&(u=i.getPos(l,a||o).y))}}e=t.dom.add(t.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+u+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"},r),(A.ie||A.gecko)&&i.setStyle(e,"left","rtl"===i.getStyle(o,"direction",!0)?65535:-65535),i.bind(e,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),e.focus(),t.selection.select(e,!0)},remove:function(){if(o()){for(var e=void 0;e=t.dom.get("mcepastebin");)t.dom.remove(e),t.dom.unbind(e);n&&t.selection.setRng(n)}n=null},getEl:o=function(){return t.dom.get("mcepastebin")},getHtml:function(){var e,n,r,a,i,o=function(e,n){e.appendChild(n),t.dom.remove(n,!0)};for(n=D.grep(t.getBody().childNodes,(function(e){return"mcepastebin"===e.id})),e=n.shift(),D.each(n,(function(t){o(e,t)})),r=(a=t.dom.select("div[id=mcepastebin]",e)).length-1;r>=0;r--)i=t.dom.create("div"),e.insertBefore(i,a[r]),o(i,a[r]);return e?e.innerHTML:""},getLastRng:function(){return n},isDefault:function(){var e,t=o();return(e=t)&&"mcepastebin"===e.id&&s(t.innerHTML)},isDefaultContent:s=function(e){return e===r}}),m=Y.createIdGenerator("mceclip");function b(t,n){var r=n||z(t),a=te(e,I(t),r);!1===a.cancelled&&se(e,a.content)}function h(t){t=e.dom.encode(t).replace(/\r\n/g,"\n"),b(t=U(t,e.settings.forced_root_block,e.settings.forced_root_block_attrs),!1)}function v(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var a=e.types[r];try{t[a]=e.getData(a)}catch(e){t[a]=""}}}return t}function x(e){return k(e,"text/html")||k(e,"text/plain")}function y(t,n,r){t&&(e.selection.setRng(t),t=null);var a,i,s,o,u,c=n.result,l=-1!==(i=(a=c).indexOf(","))?a.substr(i+1):null,d=m(),f=e.settings.images_reuse_filename&&r.name?(s=r.name.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?e.dom.encode(s[1]):null:d,p=new Image;if(p.src=c,u=p,!(o=e.settings).images_dataimg_filter||o.images_dataimg_filter(u)){var g,h=e.editorUpload.blobCache,v=void 0;(g=h.findFirst((function(e){return e.base64()===l})))?v=g:(v=h.create(d,r,l,f),h.add(v)),b('<img src="'+v.blobUri()+'">',!1)}else b('<img src="'+c+'">',!1)}function w(t,n){var r=t.clipboardData||t.dataTransfer;function a(e){var r,a,i,o=!1;if(e)for(r=0;r<e.length;r++)if(a=e[r],/^image\/(jpeg|png|gif|bmp)$/.test(a.type)){var s=a.getAsFile?a.getAsFile():a;(i=new window.FileReader).onload=y.bind(null,n,i,s),i.readAsDataURL(s),t.preventDefault(),o=!0}return o}if(e.settings.paste_data_images&&r)return a(r.items)||a(r.files)}function k(e,t){return t in e&&e[t].length>0}function C(e){return P.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}l.pasteFormat=S(e)?"text":"html",l.pasteHtml=b,l.pasteText=h,l.pasteImageData=w,l.getDataTransferItems=v,l.hasHtmlOrText=x,l.hasContentType=k,e.on("preInit",(function(){var t;(function(){function t(t,n,r,a){var i,o;k(t,"text/html")?i=t["text/html"]:(i=f.getHtml(),a=a||z(i),f.isDefaultContent(i)&&(r=!0)),i=Y.trimHtml(i),f.remove(),o=!1===a&&j(i),i.length&&!o||(r=!0),r&&(i=k(t,"text/plain")&&o?t["text/plain"]:Y.innerText(i)),f.isDefaultContent(i)?n||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):r?h(i):b(i,a)}e.on("keydown",(function(t){function n(e){C(e)&&!e.isDefaultPrevented()&&f.remove()}if(C(t)&&!t.isDefaultPrevented()){if((c=t.shiftKey&&86===t.keyCode)&&A.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(t.stopImmediatePropagation(),g=(new Date).getTime(),A.ie&&c)return t.preventDefault(),void d(e,!0);f.remove(),f.create(),e.once("keyup",n),e.once("paste",(function(){e.off("keyup",n)}))}})),e.on("paste",(function(n){var r,a,i=(new Date).getTime(),o=(r=v(n.clipboardData||e.getDoc().dataTransfer),Y.isMsEdge()?D.extend(r,{"text/html":""}):r),s=(new Date).getTime()-i,d=(new Date).getTime()-g-s<1e3,m="text"===l.pasteFormat||c,h=k(o,L());c=!1,n.isDefaultPrevented()||(a=n.clipboardData,-1!==navigator.userAgent.indexOf("Android")&&a&&a.items&&0===a.items.length)?f.remove():x(o)||!w(n,f.getLastRng()||e.selection.getRng())?(d||n.preventDefault(),!A.ie||d&&!n.ieFake||k(o,"text/html")||(f.create(),e.dom.bind(f.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),o["text/html"]=f.getHtml()),k(o,"text/html")?(n.preventDefault(),h||(h=z(o["text/html"])),t(o,d,m,h)):u.setEditorTimeout(e,(function(){t(o,d,m,h)}),0)):f.remove()}))})(),e.parser.addNodeFilter("img",(function(n,r,a){function i(e){e.attr("data-mce-object")||t===A.transparentSrc||e.remove()}if(!e.settings.paste_data_images&&(s=a).data&&!0===s.data.paste)for(var o=n.length;o--;)(t=n[o].attributes.map.src)&&(0===t.indexOf("webkit-fake-url")?i(n[o]):e.settings.allow_html_data_urls||0!==t.indexOf("data:")||i(n[o]));var s}))}))},le=function(){},ue=function(e,t,n,r){!function(e,t,n){if(r=e,!1!==A.iOS||void 0===r||"function"!=typeof r.setData||!0===Y.isMsEdge())return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(L(),t),!0}catch(e){return!1}var r}(e.clipboardData,t.html,t.text)?n(t.html,r):(e.preventDefault(),r())},de=function(e){return function(t,n){var r=B(t),a=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(a,{position:"fixed",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(i),e.dom.add(e.getBody(),a);var o=e.selection.getRng();i.focus();var s=e.dom.createRng();s.selectNodeContents(i),e.selection.setRng(s),setTimeout((function(){a.parentNode.removeChild(a),e.selection.setRng(o),n()}),0)}},fe=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},pe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),me=function(e,t){return pe.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},he=function(e,t){e.focus(),e.selection.setRng(t)},ge=function(e,t,n){m(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),h(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(r){var a,o;if(o=me(e,r),!r.isDefaultPrevented()&&!n.get()){a=t.getDataTransferItems(r.dataTransfer);var s,c=t.hasContentType(a,L());if((t.hasHtmlOrText(a)&&(!(s=a["text/plain"])||0!==s.indexOf("file://"))||!t.pasteImageData(r,o))&&o&&v(e)){var l=a["mce-internal"]||a["text/html"]||a["text/plain"];l&&(r.preventDefault(),u.setEditorTimeout(e,(function(){e.undoManager.transact((function(){a["mce-internal"]&&e.execCommand("Delete"),he(e,o),l=Y.trimHtml(l),a["text/html"]?t.pasteHtml(l,c):t.pasteText(l)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){h(e)&&!1===n.get()&&(t.preventDefault(),he(e,me(e,t))),"dragend"===t.type&&n.set(!1)}))},q=function(e){var t=e.plugins.paste,n=x(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=y(e);r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))};function be(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))}function ve(e,t){if(!Z(t))return t;var n=[];D.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=Y.filter(t,[[r,"$1"]]),Y.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function xe(e,t,n,r){if(r||n)return t;var a=w(e);if(!1===k(e)||"all"===a)return t;if(a&&(a=a.split(/[, ]/)),a){var o=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var i=o.parseStyle(o.decode(n),"span"),c={};if("none"===a)return t+r;for(var u=0;u<a.length;u++){var l=i[a[u]],d=o.getStyle(s,a[u],!0);/color/.test(a[u])&&(l=o.toHex(l),d=o.toHex(d)),d!==l&&(c[a[u]]=l)}return(c=o.serializeStyle(c,"span"))?t+' style="'+c+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}))}function ye(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))}var we=function(e){return function(){return e}},ke=(we(!1),we(!0),function(e,t){var n=function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var a=t.concat(n);return e.apply(null,a)}}((we(!1),we(!0),function(e,t,n){var r=n.control;r.active("text"===t.pasteFormat),e.on("PastePlainTextToggle",(function(e){r.active(e.state)}))}),e,t);e.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:t.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})}),Ce=e(!1);t.add("paste",(function(t){if(!1===n(t)){var a=new ce(t),i=function(e){var t,n;A.webkit&&be(e,xe),A.ie&&(be(e,ve),n=ye,(t=e).on("PastePostProcess",(function(e){n(t,e.node)})))}(t),r=e(!1);return ke(t,a),s(t,a,Ce),q(t),function(e){var t,n;e.on("cut",(t=e,function(e){!1===t.selection.isCollapsed()&&ue(e,fe(t),de(t),(function(){setTimeout((function(){t.execCommand("Delete")}),0)}))})),e.on("copy",(n=e,function(e){!1===n.selection.isCollapsed()&&ue(e,fe(n),de(n),le)}))}(t),ge(t,a,r),function(e,t){return{clipboard:e,quirks:t}}(a,i)}}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.Env"),t=function(e){return e.getParam("pagebreak_split_block",!1)},n=function(){return'<img src="'+a.transparentSrc+'" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />'},i=n,g=function(){return"mce-pagebreak"};e.add("pagebreak",(function(e){(function(e){e.addCommand("mcePageBreak",(function(){e.settings.pagebreak_split_block?e.insertContent("<p>"+i()+"</p>"):e.insertContent(i())}))})(e),function(e){e.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),e.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"})}(e),function(e){var a=function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")}(e),r=new RegExp(a.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi");e.on("BeforeSetContent",(function(e){e.content=e.content.replace(r,n())})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(n){for(var r,o,c=n.length;c--;)if((o=(r=n[c]).attr("class"))&&-1!==o.indexOf("mce-pagebreak")){var i=r.parent;if(e.schema.getBlockElements()[i.name]&&t(e)){i.type=3,i.value=a,i.raw=!0,r.remove();continue}r.type=3,r.value=a,r.raw=!0}}))}))}(e),function(e){e.on("ResolveName",(function(a){"IMG"===a.target.nodeName&&e.dom.hasClass(a.target,g())&&(a.name="pagebreak")}))}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")},i=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}},r=function(e,t,n){return function(r){var a=arguments,i=a[a.length-2],o=i>0?t.charAt(i-1):"";if('"'===o)return r;if(">"===o){var c=t.lastIndexOf("<",i);if(-1!==c&&-1!==t.substring(c,i).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode("string"==typeof a[1]?a[1]:a[0])+"</span>"}},o=function(e){var o,c,u="contenteditable";o=" "+t.trim(function(e){return e.getParam("noneditable_editable_class","mceEditable")}(e))+" ",c=" "+t.trim(n(e))+" ";var l=i(o),s=i(c),d=function(e){var t=e.getParam("noneditable_regexp",[]);return t&&t.constructor===RegExp?[t]:t}(e);e.on("PreInit",(function(){d.length>0&&e.on("BeforeSetContent",(function(t){!function(e,t,o){var a=t.length,i=o.content;if("raw"!==o.format){for(;a--;)i=i.replace(t[a],r(e,i,n(e)));o.content=i}}(e,d,t)})),e.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],l(t)?t.attr(u,"true"):s(t)&&t.attr(u,"false")})),e.serializer.addAttributeFilter(u,(function(e){for(var t,n=e.length;n--;)t=e[n],(l(t)||s(t))&&(d.length>0&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(u,null))}))}))};e.add("noneditable",(function(e){o(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){var n,a=(n=e).plugins.visualchars&&n.plugins.visualchars.isEnabled()?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";e.insertContent(function(e,t){for(var n="",a=0;a<t;a++)n+=e;return n}(a,t)),e.dom.setAttrib(e.dom.select("span.mce-nbsp"),"data-mce-bogus","1")},a=tinymce.util.Tools.resolve("tinymce.util.VK");e.add("nonbreaking",(function(e){(function(e){e.addCommand("mceNonBreaking",(function(){t(e,1)}))})(e),function(e){e.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),e.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})}(e),function(e){var n=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t}(e);n>0&&e.on("keydown",(function(i){if(i.keyCode===a.TAB&&!i.isDefaultPrevented()){if(i.shiftKey)return;i.preventDefault(),i.stopImmediatePropagation(),t(e,n)}}))}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(e){return e.getParam("media_scripts")},r=function(e){return e.getParam("media_live_embeds",!0)},o=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),c=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),p=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},l=function(e){return function(t){return t?t.style[e].replace(/px$/,""):""}},g=function(e){return function(t,n){var i;t&&(t.style[e]=/^[0-9.]+$/.test(i=n)?i+"px":i)}},d={getMaxWidth:l("maxWidth"),getMaxHeight:l("maxHeight"),setMaxWidth:g("maxWidth"),setMaxHeight:g("maxHeight")},f=c.DOM,b=function(e){return f.getAttrib(e,"data-ephox-embed-iri")},m=function(e,t){return s=t,u=f.createFragment(s),""!==b(u.firstChild)?(c=t,l=f.createFragment(c).firstChild,{type:"ephox-embed-iri",source1:b(l),source2:"",poster:"",width:d.getMaxWidth(l),height:d.getMaxHeight(l)}):(i=e,a=t,r={},new o({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(e,t){if(r.source1||"param"!==e||(r.source1=t.map.movie),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(r.type||(r.type=e),r=n.extend(t.map,r)),"script"===e){var a=p(i,t.map.src);if(!a)return;r={type:"script",source1:t.map.src,width:a.width,height:a.height}}"source"===e&&(r.source1?r.source2||(r.source2=t.map.src):r.source1=t.map.src),"img"!==e||r.poster||(r.poster=t.map.src)}}).parse(a),r.source1=r.source1||r.src||r.data,r.source2=r.source2||"",r.poster=r.poster||"",r);var i,a,r,c,l,s,u},h=tinymce.util.Tools.resolve("tinymce.util.Promise"),v=function(e){return{mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()]||""},x=tinymce.util.Tools.resolve("tinymce.html.Writer"),y=tinymce.util.Tools.resolve("tinymce.html.Schema"),w=c.DOM,k=function(e,t){var n,i,a,r;for(n in t)if(a=""+t[n],e.map[n])for(i=e.length;i--;)(r=e[i]).name===n&&(a?(e.map[n]=a,r.value=a):(delete e.map[n],e.splice(i,1)));else a&&(e.push({name:n,value:a}),e.map[n]=a)},C=function(e,t,n){return u=e,f=w.createFragment(u),""!==w.getAttrib(f.firstChild,"data-ephox-embed-iri")?function(e,t){var n,i,a=w.createFragment(e).firstChild;return d.setMaxWidth(a,t.width),d.setMaxHeight(a,t.height),n=a.outerHTML,i=x(),new o(i).parse(n),i.getContent()}(e,t):(i=e,a=t,r=n,l=x(),s=0,new o({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){l.comment(e)},cdata:function(e){l.cdata(e)},text:function(e,t){l.text(e,t)},start:function(e,t,n){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==a.height&&void 0!==a.width&&k(t,{width:a.width,height:a.height})}if(r)switch(e){case"video":k(t,{poster:a.poster,src:""}),a.source2&&k(t,{src:""});break;case"iframe":k(t,{src:a.source1});break;case"source":if(++s<=2&&(k(t,{src:a["source"+s],type:a["source"+s+"mime"]}),!a["source"+s]))return;break;case"img":if(!a.poster)return;c=!0}l.start(e,t,n)},end:function(e){if("video"===e&&r)for(var t=1;t<=2;t++)if(a["source"+t]){var n=[];n.map={},s<t&&(k(n,{src:a["source"+t],type:a["source"+t+"mime"]}),l.start("source",n,!0))}if(a.poster&&"object"===e&&r&&!c){var i=[];i.map={},k(i,{src:a.poster,width:a.width,height:a.height}),l.start("img",i,!0)}l.end(e)}},y({})).parse(i),l.getContent());var i,a,r,c,l,s,u,f},_=[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+(?:\?.+)?)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],S={},E=function(e){return function(t){return function(e,t){var r=n.extend({},t);if(!r.source1&&(n.extend(r,m(i(e),r.embed)),!r.source1))return"";if(r.source2||(r.source2=""),r.poster||(r.poster=""),r.source1=e.convertURL(r.source1,"source"),r.source2=e.convertURL(r.source2,"source"),r.source1mime=v(r.source1),r.source2mime=v(r.source2),r.poster=e.convertURL(r.poster,"poster"),n.each(_,(function(e){var t,n,i=e.regex.exec(r.source1);if(i){for(n=e.url,t=0;i[t];t++)n=n.replace("$"+t,(function(){return i[t]}));r.source1=n,r.type=e.type,r.allowFullscreen=e.allowFullscreen,r.width=r.width||e.w,r.height=r.height||e.h}})),r.embed)return C(r.embed,r,!0);var o=p(i(e),r.source1);o&&(r.type="script",r.width=o.width,r.height=o.height);var s,u,c,l,d,f,h,g,x=function(e){return e.getParam("audio_template_callback")}(e),y=function(e){return e.getParam("video_template_callback")}(e);return r.width=r.width||300,r.height=r.height||150,n.each(r,(function(t,n){r[n]=e.dom.encode(t)})),"iframe"===r.type?(g=(h=r).allowFullscreen?' allowFullscreen="1"':"",'<iframe src="'+h.source1+'" width="'+h.width+'" height="'+h.height+'"'+g+"></iframe>"):"application/x-shockwave-flash"===r.source1mime?(f='<object data="'+(d=r).source1+'" width="'+d.width+'" height="'+d.height+'" type="application/x-shockwave-flash">',d.poster&&(f+='<img src="'+d.poster+'" width="'+d.width+'" height="'+d.height+'" />'),f+="</object>"):-1!==r.source1mime.indexOf("audio")?(c=r,(l=x)?l(c):'<audio controls="controls" src="'+c.source1+'">'+(c.source2?'\n<source src="'+c.source2+'"'+(c.source2mime?' type="'+c.source2mime+'"':"")+" />\n":"")+"</audio>"):"script"===r.type?'<script src="'+r.source1+'"><\/script>':(s=r,(u=y)?u(s):'<video width="'+s.width+'" height="'+s.height+'"'+(s.poster?' poster="'+s.poster+'"':"")+' controls="controls">\n<source src="'+s.source1+'"'+(s.source1mime?' type="'+s.source1mime+'"':"")+" />\n"+(s.source2?'<source src="'+s.source2+'"'+(s.source2mime?' type="'+s.source2mime+'"':"")+" />\n":"")+"</video>")}(e,t)}},T=function(e,t){var n,i,a,r,o,c=function(e){return e.getParam("media_url_resolver")}(e);return c?(a=t,r=E(e),o=c,new h((function(e,t){var n=function(t){return t.html&&(S[a.source1]=t),e({url:a.source1,html:t.html?t.html:r(a)})};S[a.source1]?n(S[a.source1]):o({url:a.source1},n,t)}))):(n=t,i=E(e),new h((function(e){e({html:i(n),url:n.source1})})))},N=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},R=function(e,t){var n=e.find("#width")[0],i=e.find("#height")[0],a=e.find("#constrain")[0];n&&i&&a&&t(n,i,a.checked())},A=function(e,t,n){var i=e.state.get("oldVal"),a=t.state.get("oldVal"),r=e.value(),o=t.value();n&&i&&a&&r&&o&&(r!==i?(o=Math.round(r/i*o),isNaN(o)||t.value(o)):(r=Math.round(o/a*r),isNaN(r)||e.value(r))),N(e,t)},D=function(e){R(e,A)},P=D,O=t.ie&&t.ie<=8?"onChange":"onInput",M=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},B=function(e,t){return function(a){var r=a.html,o=e.find("#embed")[0],c=n.extend(m(i(t),r),{source1:a.url});e.fromJSON(c),o&&(o.value(r),P(e))}},I=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),function(e,t){var n,i,a=e.dom.select("img[data-mce-object]");for(n=0;n<t.length;n++)for(i=a.length-1;i>=0;i--)t[n]===a[i]&&a.splice(i,1);e.selection.select(a[0])}(e,n),e.nodeChanged()},z=function(e){var t,a,r,o,c,s=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout((function(){T(e,t.toJSON()).then(B(t,e)).catch(M(e))}),1)},onchange:function(i){var a,r;T(e,t.toJSON()).then(B(t,e)).catch(M(e)),a=t,r=i.meta,n.each(r,(function(e,t){a.find("#"+t).value(e)}))},onbeforecall:function(e){e.meta=t.toJSON()}}],l=[];if(function(e){return e.getParam("media_alt_source",!0)}(e)&&l.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),function(e){return e.getParam("media_poster",!0)}(e)&&l.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),function(e){return e.getParam("media_dimensions",!0)}(e)){var f=function(e){var t=function(){e((function(e){D(e)}))};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}}((function(e){e(t),a=t.toJSON(),t.find("#embed").value(C(a.embed,a))}));s.push(f)}c=(o=(r=e).selection.getNode()).getAttribute("data-ephox-embed-iri"),a=c?{source1:c,"data-ephox-embed-iri":c,width:d.getMaxWidth(o),height:d.getMaxHeight(o)}:o.getAttribute("data-mce-object")?m(i(r),r.serializer.serialize(o,{selection:!0})):{};var p={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()}(e),multiline:!0,rows:5,label:"Source"};p[O]=function(){a=n.extend({},m(i(e),this.value())),this.parent().parent().fromJSON(a)},function(e){R(e,N)}(t=e.windowManager.open({title:"Insert/edit media",data:a,bodyType:"tabpanel",body:[{title:"General",type:"form",items:s},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},p]},{title:"Advanced",type:"form",items:l}],onSubmit:function(){var n,i;P(t),n=e,(i=t.toJSON()).embed=C(i.embed,i),i.embed&&function(e){return S.hasOwnProperty(e)}(i.source1)?I(n,i.embed):T(n,i).then((function(e){I(n,e.html)})).catch(M(n))}}))},L=tinymce.util.Tools.resolve("tinymce.html.Node"),H=function(e,t){if(!1===function(e){return e.getParam("media_filter_html",!0)}(e))return t;var n,i=x();return new o({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(t,a,r){if(n=!0,"script"!==t&&"noscript"!==t){for(var o=0;o<a.length;o++){if(0===a[o].name.indexOf("on"))return;"style"===a[o].name&&(a[o].value=e.dom.serializeStyle(e.dom.parseStyle(a[o].value),t))}i.start(t,a,r),n=!1}},end:function(e){n||i.end(e)}},y({})).parse(t),i.getContent()},F=function(e,n){var i,a=n.name;return(i=new L("img",1)).shortEnded=!0,U(e,n,i),i.attr({width:n.attr("width")||"300",height:n.attr("height")||("audio"===a?"30":"150"),style:n.attr("style"),src:t.transparentSrc,"data-mce-object":a,class:"mce-object mce-object-"+a}),i},j=function(e,t){var n,i,a,r=t.name;return(n=new L("span",1)).attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":r,class:"mce-preview-object mce-object-"+r}),U(e,t,n),(i=new L(r,1)).attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),width:t.attr("width")||"300",height:t.attr("height")||("audio"===r?"30":"150"),frameborder:"0"}),(a=new L("span",1)).attr("class","mce-shim"),n.append(i),n.append(a),n},U=function(e,t,n){var i,a,r,o,c;for(o=(r=t.attributes).length;o--;)i=r[o].name,a=r[o].value,"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a));(c=t.firstChild&&t.firstChild.value)&&(n.attr("data-mce-html",escape(H(e,c))),n.firstChild=null)},W=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return!0;return!1},$=function(e){return function(n){for(var a,o,c=n.length;c--;)(a=n[c]).parent&&(a.parent.attr("data-mce-object")||("script"!==a.name||(o=p(i(e),a.attr("src"))))&&(o&&(o.width&&a.attr("width",o.width.toString()),o.height&&a.attr("height",o.height.toString())),"iframe"===a.name&&r(e)&&t.ceFalse?W(a)||a.replace(j(e,a)):W(a)||a.replace(F(e,a))))}};e.add("media",(function(e){return function(e){e.addCommand("mceMedia",(function(){z(e)}))}(e),function(e){e.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContext:!0})}(e),function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))}(e),function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();n.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var i=e.schema.getBoolAttrs();n.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){i[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",$(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){for(var i,a,r,o,c,s,u,l,d=t.length;d--;)if((i=t[d]).parent){for(u=i.attr(n),a=new L(u,1),"audio"!==u&&"script"!==u&&((l=i.attr("class"))&&-1!==l.indexOf("mce-preview-object")?a.attr({width:i.firstChild.attr("width"),height:i.firstChild.attr("height")}):a.attr({width:i.attr("width"),height:i.attr("height")})),a.attr({style:i.attr("style")}),r=(o=i.attributes).length;r--;){var f=o[r].name;0===f.indexOf("data-mce-p-")&&a.attr(f.substr(11),o[r].value)}"script"===u&&a.attr("type","text/javascript"),(c=i.attr("data-mce-html"))&&((s=new L("#text",3)).raw=!0,s.value=H(e,unescape(c)),a.append(s)),i.replace(a)}}))})),e.on("setContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var i=e.$(n);0===i.find("span.mce-shim",n).length&&i.append('<span class="mce-shim"></span>')}))}))}(e),function(e){e.on("click keyup",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()})),e.on("objectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(C(t,{width:e.width,height:e.height}))))}))}(e),function(e){return{showDialog:function(){z(e)}}}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),n=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),r=tinymce.util.Tools.resolve("tinymce.util.VK"),o=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),s=function(e){return e&&"BR"===e.nodeName},c=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},l=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},d=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},u=s,f=function(e){return e.parentNode.firstChild===e},g=function(e){return e.parentNode.lastChild===e},p=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},m=function(e,t){return e&&e.nodeName in t},h=function(e,t){return!!s(t)&&!(!e.isBlock(t.nextSibling)||s(t.previousSibling))},v=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},x=function(e,t){return e.isChildOf(t,e.getRoot())},y=function(e,n){var r=t.getNode(e,n);return l(e)&&function(e){return e&&3===e.nodeType}(r)?{container:r,offset:n>=e.childNodes.length?r.data.length:0}:{container:e,offset:n}},w=function(e){var t=e.cloneRange(),n=y(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=y(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},k=a.DOM,b=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=k.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):k.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},C=function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,k.remove(o),!n.hasChildNodes()&&k.isBlock(n)&&n.appendChild(k.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=k.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),w(n)},_=a.DOM,S=function(e,t){i.each(i.grep(e.select("ol,ul",t)),(function(t){!function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),v(e,r)&&_.remove(r)):_.setStyle(r,"listStyleType","none")),c(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}(e,t)}))},E=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),T=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",N(e,t))},N=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},R={getParentList:T,getSelectedSubLists:function(e){var t,n,r,o=T(e),a=e.selection.getSelectedBlocks();return r=a,(n=o)&&1===r.length&&r[0]===n?(t=o,i.grep(t.querySelectorAll("ol,ul,dl"),(function(e){return c(e)}))):i.grep(a,(function(e){return c(e)&&o!==e}))},getSelectedListItems:function(e){var t,n,r,o=e.selection.getSelectedBlocks();return i.grep((t=e,n=o,r=i.map(n,(function(e){return t.dom.getParent(e,"li,dd,dt",N(t,e))||e})),E.unique(r)),(function(e){return l(e)}))},getClosestListRootElm:N},A=tinymce.util.Tools.resolve("tinymce.Env"),D=a.DOM,P=function(e,t,n){var r,o,i,a=D.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&((o=D.create(n)).tagName===e.settings.forced_root_block&&D.setAttribs(o,e.settings.forced_root_block_attrs),m(t.firstChild,s)||a.appendChild(o)),t)for(;r=t.firstChild;){var c=r.nodeName;i||"SPAN"===c&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),m(r,s)?(a.appendChild(r),o=null):n?(o||(o=D.create(n),a.appendChild(o)),o.appendChild(r)):a.appendChild(r)}return e.settings.forced_root_block?i||A.ie&&!(A.ie>10)||o.appendChild(D.create("br",{"data-mce-bogus":"1"})):a.appendChild(D.create("br")),a},O=a.DOM,M=function(e,t,n,r){var o,a,s,c,l;for(s=O.select('span[data-mce-type="bookmark"]',t),r=r||P(e,n),(o=O.createRng()).setStartAfter(n),o.setEndAfter(t),c=(a=o.extractContents()).firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){O.remove(c);break}e.dom.isEmpty(a)||O.insertAfter(a,t),O.insertAfter(r,t),v(e.dom,n.parentNode)&&(l=n.parentNode,i.each(s,(function(e){l.parentNode.insertBefore(e,n.parentNode)})),O.remove(l)),O.remove(n),v(e.dom,t)&&O.remove(t)},B=a.DOM,I=function(e,t){v(e,t)&&B.remove(t)},z=function(e,t){var n,r=t.parentNode,o=r.parentNode;return!(r!==e.getBody()&&("DD"===t.nodeName?(B.rename(t,"DT"),0):f(t)&&g(t)?("LI"===o.nodeName?(B.insertAfter(t,o),I(e.dom,o),B.remove(r)):c(o)?B.remove(r,!0):(o.insertBefore(P(e,t),r),B.remove(r)),0):f(t)?("LI"===o.nodeName?(B.insertAfter(t,o),t.appendChild(r),I(e.dom,o)):c(o)?o.insertBefore(t,r):(o.insertBefore(P(e,t),r),B.remove(t)),0):g(t)?("LI"===o.nodeName?B.insertAfter(t,o):c(o)?B.insertAfter(t,r):(B.insertAfter(P(e,t),r),B.remove(t)),0):("LI"===o.nodeName?(r=o,n=P(e,t,"LI")):n=c(o)?P(e,t,"LI"):P(e,t),M(e,r,t,n),S(e.dom,r.parentNode),0)))},L=z,H=function(e){var t=R.getSelectedListItems(e);if(t.length){var n=b(e.selection.getRng(!0)),r=void 0,o=void 0,i=R.getClosestListRootElm(e,e.selection.getStart(!0));for(r=t.length;r--;)for(var a=t[r].parentNode;a&&a!==i;){for(o=t.length;o--;)if(t[o]===a){t.splice(r,1);break}a=a.parentNode}for(r=0;r<t.length&&(z(e,t[r])||0!==r);r++);return e.selection.setRng(C(n)),e.nodeChanged(),!0}},F=function(e,t){i.each(t,(function(t,n){e.setAttribute(n,t)}))},j=function(e,t,n){var r,o,a,s,c,l,d;r=e,o=t,s=(a=n)["list-style-type"]?a["list-style-type"]:null,r.setStyle(o,"list-style-type",s),c=e,F(l=t,(d=n)["list-attributes"]),i.each(c.select("li",l),(function(e){F(e,d["list-item-attributes"])}))},U=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&u(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(p(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},q=function(e,t,n){var r,a=e.selection.getRng(!0),s="LI",l=R.getClosestListRootElm(e,e.selection.getStart(!0)),d=e.dom;n=n||{},"false"!==d.getContentEditable(e.selection.getNode())&&("DL"===(t=t.toUpperCase())&&(s="DT"),r=b(a),i.each(function(e,t,n){for(var r,a=[],s=e.dom,c=U(e,t,!0,n),l=U(e,t,!1,n),d=[],f=c;f&&(d.push(f),f!==l);f=f.nextSibling);return i.each(d,(function(t){if(p(e,t))return a.push(t),void(r=null);if(s.isBlock(t)||u(t))return u(t)&&s.remove(t),void(r=null);var i=t.nextSibling;o.isBookmarkNode(t)&&(p(e,i)||!i&&t.parentNode===n)?r=null:(r||(r=s.create("p"),t.parentNode.insertBefore(r,t),a.push(r)),r.appendChild(t))})),a}(e,a,l),(function(r){var o,i,a,l,u;(i=r.previousSibling)&&c(i)&&i.nodeName===t&&(a=i,l=n,d.getStyle(a,"list-style-type")===(u=null===(u=l?l["list-style-type"]:"")?"":u))?(o=i,r=d.rename(r,s),i.appendChild(r)):(o=d.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=d.rename(r,s)),j(d,o,n),V(e.dom,o)})),e.selection.setRng(C(r)))},W=function(e){var t=b(e.selection.getRng(!0)),n=R.getClosestListRootElm(e,e.selection.getStart(!0)),r=R.getSelectedListItems(e),o=i.grep(r,(function(t){return e.dom.isEmpty(t)}));r=i.grep(r,(function(t){return!e.dom.isEmpty(t)})),i.each(o,(function(t){v(e.dom,t)&&L(e,t)})),i.each(r,(function(t){var r,o;if(t.parentNode!==e.getBody()){for(r=t;r&&r!==n;r=r.parentNode)c(r)&&(o=r);M(e,o,t),S(e.dom,o.parentNode)}})),e.selection.setRng(C(t))},$=function(e,t,n){return l=n,(s=t)&&l&&c(s)&&s.nodeName===l.nodeName&&(i=t,a=n,(o=e).getStyle(i,"list-style-type",!0)===o.getStyle(a,"list-style-type",!0))&&(r=n,t.className===r.className);var r,o,i,a,s,l},V=function(e,t){var n,r;if(n=t.nextSibling,$(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,$(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},G=function(e){return"list-style-type"in e},Y={toggleList:function(e,t,n){var r=R.getParentList(e),o=R.getSelectedSubLists(e);n=n||{},r&&o.length>0?function(e,t,n,r,o){if(t.nodeName!==r||G(o)){var a=b(e.selection.getRng(!0));i.each([t].concat(n),(function(t){!function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);j(e,o,r)}else j(e,t,r)}(e.dom,t,r,o)})),e.selection.setRng(C(a))}else W(e)}(e,r,o,t,n):function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||G(r)){var o=b(e.selection.getRng(!0));j(e.dom,t,r),V(e.dom,e.dom.rename(t,n)),e.selection.setRng(C(o))}else W(e);else q(e,n,r)}(e,r,t,n)},removeList:W,mergeWithAdjacentLists:V},X=function(e,r,o,i){var a,s,c=r.startContainer,l=r.startOffset;if(3===c.nodeType&&(o?l<c.data.length:l>0))return c;for(a=e.schema.getNonEmptyElements(),1===c.nodeType&&(c=t.getNode(c,l)),s=new n(c,i),o&&h(e.dom,c)&&s.next();c=s[o?"next":"prev2"]();){if("LI"===c.nodeName&&!c.hasChildNodes())return c;if(a[c.nodeName])return c;if(3===c.nodeType&&c.data.length>0)return c}},J=function(e,t){var n=t.childNodes;return 1===n.length&&!c(n[0])&&e.isBlock(n[0])},K=function(e,t,n){var r,o,i=t.parentNode;x(e,t)&&x(e,n)&&(c(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&u(i.previousSibling)&&e.remove(i.previousSibling),(r=n.lastChild)&&u(r)&&t.hasChildNodes()&&e.remove(r),v(e,n,!0)&&e.$(n).empty(),function(e,t,n){var r,o,i,a;if(o=J(e,n)?n.firstChild:n,J(i=e,a=t)&&i.remove(a.firstChild,!0),!v(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)}(e,t,n),o&&n.appendChild(o),e.remove(t),v(e,i)&&i!==e.getRoot()&&e.remove(i))},Z=function(e,t){var n,r,o,i=e.dom,a=e.selection,s=a.getStart(),c=R.getClosestListRootElm(e,s),l=i.getParent(a.getStart(),"LI",c);if(l){if((n=l.parentNode)===e.getBody()&&v(i,n))return!0;if(r=w(a.getRng(!0)),(o=i.getParent(X(e,r,t,c),"LI",c))&&o!==l)return t?function(e,t,n,r){var o,i,a,s=e.dom;if(s.isEmpty(r))i=n,a=r,(o=e).dom.$(a).empty(),K(o.dom,i,a),o.selection.setCursorLocation(a);else{var c=b(t);K(s,n,r),e.selection.setRng(C(c))}}(e,r,o,l):function(e,t,n,r){var o=b(t);K(e.dom,n,r);var i=C(o);e.selection.setRng(i)}(e,r,l,o),!0;if(!o&&!t&&Y.removeList(e))return!0}return!1},Q=function(e,t){return e.selection.isCollapsed()?function(e,t){return Z(e,t)||function(e,t){var n=e.dom,r=e.selection.getStart(),o=R.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=w(e.selection.getRng(!0)),s=n.getParent(X(e,a,t,o),"LI",o);if(s)return e.undoManager.transact((function(){var r,a,c,l;a=i,c=o,l=(r=n).getParent(a.parentNode,r.isBlock,c),r.remove(a),l&&r.isEmpty(l)&&r.remove(l),Y.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)})),!0}return!1}(e,t)}(e,t):(r=(n=e).selection.getStart(),o=R.getClosestListRootElm(n,r),!!(n.dom.getParent(r,"LI,DT,DD",o)||R.getSelectedListItems(n).length>0)&&(n.undoManager.transact((function(){n.execCommand("Delete"),S(n.dom,n.getBody())})),!0));var n,r,o},ee=Q,te=a.DOM,ne=function(e,t){var n;if(c(e)){for(;n=e.firstChild;)t.appendChild(n);te.remove(e)}},re=function(e){var t,n,r,o,i=R.getSelectedListItems(e);if(i.length){for(var a=b(e.selection.getRng(!0)),s=0;s<i.length&&(n=void 0,r=void 0,o=void 0,("DT"===(t=i[s]).nodeName?(te.rename(t,"DD"),1):(n=t.previousSibling)&&c(n)?(n.appendChild(t),1):n&&"LI"===n.nodeName&&c(n.lastChild)?(n.lastChild.appendChild(t),ne(t.lastChild,n.lastChild),1):(n=t.nextSibling)&&c(n)?(n.insertBefore(t,n.firstChild),1):(n=t.previousSibling)&&"LI"===n.nodeName&&(r=te.create(t.parentNode.nodeName),(o=te.getStyle(t.parentNode,"listStyleType"))&&te.setStyle(r,"listStyleType",o),n.appendChild(r),r.appendChild(t),ne(t.lastChild,r),1))||0!==s);s++);return e.selection.setRng(C(a)),e.nodeChanged(),!0}},oe=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},ie=function(e){var t;(function(e){return e.getParam("lists_indent_on_tab",!0)})(e)&&(t=e).on("keydown",(function(e){e.keyCode!==r.TAB||r.metaKeyPressed(e)||t.dom.getParent(t.selection.getStart(),"LI,DT,DD")&&(e.preventDefault(),e.shiftKey?H(t):re(t))})),function(e){e.on("keydown",(function(t){t.keyCode===r.BACKSPACE?Q(e,!1)&&t.preventDefault():t.keyCode===r.DELETE&&Q(e,!0)&&t.preventDefault()}))}(e)},ae=function(e,t){return function(n){var r=n.control;e.on("NodeChange",(function(e){var n=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e.parents,d),o=-1!==n?e.parents.slice(0,n):e.parents,a=i.grep(o,c);r.active(a.length>0&&a[0].nodeName===t)}))}};e.add("lists",(function(e){return ie(e),function(e){var t,n,r;n=(t=e).settings.plugins?t.settings.plugins:"",-1===i.inArray(n.split(/[ ,]/),"advlist")&&(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:ae(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:ae(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:(r=e,function(e){var t=e.control;r.on("nodechange",(function(){var e=R.getSelectedListItems(r),n=e.length>0&&f(e[0]);t.disabled(n)}))})})}(e),function(e){e.on("BeforeExecCommand",(function(t){var n,r=t.command.toLowerCase();if("indent"===r?re(e)&&(n=!0):"outdent"===r&&H(e)&&(n=!0),n)return e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0})),e.addCommand("InsertUnorderedList",(function(t,n){Y.toggleList(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){Y.toggleList(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){Y.toggleList(e,"DL",n)})),e.addQueryStateHandler("InsertUnorderedList",oe(e,"UL")),e.addQueryStateHandler("InsertOrderedList",oe(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",oe(e,"DL"))}(e),function(e){return{backspaceDelete:function(t){ee(e,t)}}}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.VK"),n=function(e){return e.target_list},r=function(e){return e.rel_list},i=function(e){return e.link_class_list},s=n,o=function(e){return!1!==n(e)},c=r,l=function(e){return void 0!==r(e)},g=i,d=function(e){return void 0!==i(e)},p=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},f=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),m=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(e,t){var n,r,i=["noopener"],o=e?e.split(/\s+/):[],a=function(e){return e.filter((function(e){return-1===h.inArray(i,e)}))};return(o=t?(n=a(n=o)).length?n.concat(i):i:a(o)).length?(r=o,h.trim(r.sort().join(" "))):null},x=function(e,t){return t=t||e.selection.getNode(),w(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},y=function(e){return e&&"A"===e.nodeName&&e.href},w=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},k=function(e,t){return function(n){e.undoManager.transact((function(){var r=e.selection.getNode(),i=x(e,r),o={href:n.href,target:n.target?n.target:null,rel:n.rel?n.rel:null,class:n.class?n.class:null,title:n.title?n.title:null};l(e.settings)||!1!==p(e.settings)||(o.rel=v(o.rel,"_blank"===o.target)),n.href===t.href&&(t.attach(),t={}),i?(e.focus(),n.hasOwnProperty("text")&&("innerText"in i?i.innerText=n.text:i.textContent=n.text),e.dom.setAttribs(i,o),e.selection.select(i),e.undoManager.add()):w(r)?function(e,t,n){var r,i;(i=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),i.parentNode.insertBefore(r,i),r.appendChild(i))}(e,r,o):n.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",o,e.dom.encode(n.text))):e.execCommand("mceInsertLink",!1,o)}))}},C=function(e){return function(){e.undoManager.transact((function(){var t=e.selection.getNode();w(t)?function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&(n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n))}(e,t):e.execCommand("unlink")}))}},_=y,S=function(e){return h.grep(e,y).length>0},E=x,T=v,N=tinymce.util.Tools.resolve("tinymce.util.Delay"),R=tinymce.util.Tools.resolve("tinymce.util.XHR"),A={},D=function(e,t,n){return function e(n,r){return r=r||[],h.each(n,(function(n){var i={text:n.text||n.title};n.menu?i.menu=e(n.menu):(i.value=n.value,t&&t(i)),r.push(i)})),r}(e,n||[])},q=function(e,t,n){var r=e.selection.getRng();N.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))},P=function(e,t){var n,r,i,a,f,m,v,b,x,y,w,_={},S=e.selection,N=e.dom,R=function(e){var t=i.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),i.find("#href").value(e.control.value())},P=function(){r||!a||_.text||this.parent().parent().find("#text")[0].value(this.value())};a=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))}(S.getContent()),n=E(e),_.text=r=function(e,t){return(t?t.innerText||t.textContent:e.getContent({format:"text"})).replace(/\uFEFF/g,"")}(e.selection,n),_.href=n?N.getAttrib(n,"href"):"",n?_.target=N.getAttrib(n,"target"):function(e){return"string"==typeof e.default_link_target}(e.settings)&&(_.target=function(e){return e.default_link_target}(e.settings)),(w=N.getAttrib(n,"rel"))&&(_.rel=w),(w=N.getAttrib(n,"class"))&&(_.class=w),(w=N.getAttrib(n,"title"))&&(_.title=w),a&&(f={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){_.text=this.value()}}),t&&(m={type:"listbox",label:"Link list",values:D(t,(function(t){t.value=e.convertURL(t.value||t.url,"href")}),[{text:"None",value:""}]),onselect:R,value:e.convertURL(_.href,"href"),onPostRender:function(){m=this}}),o(e.settings)&&(void 0===s(e.settings)&&function(e,t){e.settings.target_list=t}(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),b={name:"target",type:"listbox",label:"Target",values:D(s(e.settings))}),l(e.settings)&&(v={name:"rel",type:"listbox",label:"Rel",values:D(c(e.settings),(function(t){!1===p(e.settings)&&(t.value=T(t.value,"_blank"===_.target))}))}),d(e.settings)&&(x={name:"class",type:"listbox",label:"Class",values:D(g(e.settings),(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})}))}),function(e){return!1!==e.link_title}(e.settings)&&(y={name:"title",type:"textbox",label:"Title",value:_.title}),i=e.windowManager.open({title:"Insert link",data:_,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(t){var n=t.meta||{};m&&m.value(e.convertURL(this.value(),"href")),h.each(t.meta,(function(e,t){var n=i.find("#"+t);"text"===t?0===r.length&&(n.value(e),_.text=e):n.value(e)})),n.attach&&(A={href:this.value(),attach:n.attach}),n.text||P.call(this)},onkeyup:P,onbeforecall:function(e){e.meta=i.toJSON()}},f,y,function(t){var n=[];if(h.each(e.dom.select("a:not([href])"),(function(e){var r=e.name||e.id;r&&n.push({text:r,value:"#"+r,selected:-1!==t.indexOf("#"+r)})})),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:R}}(_.href),m,v,b,x],onSubmit:function(t){var n=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets}(e.settings),i=k(e,A),o=C(e),u=h.extend({},_,t.data),c=u.href;c?(a&&u.text!==r||delete u.text,c.indexOf("@")>0&&-1===c.indexOf("//")&&-1===c.indexOf("mailto:")?q(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",(function(e){e&&(u.href="mailto:"+c),i(u)})):!0===n&&!/^\w+:/i.test(c)||!1===n&&/^\s*www[\.|\d\.]/i.test(c)?q(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",(function(e){e&&(u.href="http://"+c),i(u)})):i(u)):o()}})},O=function(e,t){return e.dom.getParent(t,"a[href]")},M=function(e){return O(e,e.selection.getStart())},B=function(e,t){if(t){var n=(i=t).getAttribute("data-mce-href")||i.getAttribute("href");if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else!function(e){if(!m.ie||m.ie>10){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o=t,a=n,document.body.appendChild(o),o.dispatchEvent(a),document.body.removeChild(o)}else{var r=window.open("","_blank");if(r){r.opener=null;var i=r.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+f.DOM.encode(e)+'">'),i.close()}}var o,a}(t.href)}var i},I=function(e){return function(){!function(e){var t,n,r;n=P,"string"==typeof(r=function(e){return e.link_list}((t=e).settings))?R.send({url:r,success:function(e){n(t,JSON.parse(e))}}):"function"==typeof r?r((function(e){n(t,e)})):n(t,r)}(e)}},z=function(e){return function(){B(e,M(e))}},L=function(e){return function(){var t=this;e.on("nodechange",(function(n){t.active(!e.readonly&&!!E(e,n.element))}))}},H=function(e){return function(){var t=this,n=function(e){S(e.parents)?t.show():t.hide()};S(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",(function(){e.off("nodechange",n)}))}},F=function(e){e.addContextToolbar&&e.addContextToolbar(function(e){return function(t){var n,r,i,o,c;return!!(function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar}(e.settings)&&(o=e,c=o.plugins.contextmenu,!c||!c.isContextMenuVisible())&&_(t)&&3===(i=(r=(n=e.selection).getRng()).startContainer).nodeType&&n.isCollapsed()&&r.startOffset>0&&r.startOffset<i.data.length)}}(e),"openlink | link unlink")};e.add("link",(function(e){(function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:I(e),onpostrender:L(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:C(e),onpostrender:L(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:z(e)})})(e),function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:z(e),onPostRender:H(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:I(e),stateSelector:"a[href]",context:"insert",prependToContext:!0})}(e),F(e),function(e){e.on("click",(function(n){var r=O(e,n.target);r&&t.metaKeyPressed(n)&&(n.preventDefault(),B(e,r))})),e.on("keydown",(function(t){var n,r=M(e);r&&13===t.keyCode&&!0===(n=t).altKey&&!1===n.shiftKey&&!1===n.ctrlKey&&!1===n.metaKey&&(t.preventDefault(),B(e,r))}))}(e),function(e){e.addCommand("mceLink",I(e))}(e),function(e){e.addShortcut("Meta+K","",I(e))}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools");e.add("legacyoutput",(function(e){(function(e){e.settings.inline_styles=!1,e.on("init",(function(){var n,i,a,r;n=e,i="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",a=t.explode(n.settings.font_size_style_values),r=n.schema,n.formatter.register({alignleft:{selector:i,attributes:{align:"left"}},aligncenter:{selector:i,attributes:{align:"center"}},alignright:{selector:i,attributes:{align:"right"}},alignjustify:{selector:i,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(e){return t.inArray(a,e.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),t.each("b,i,u,strike".split(","),(function(e){r.addValidElements(e+"[*]")})),r.getElementRule("font")||r.addValidElements("font[face|size|color|style]"),t.each(i.split(","),(function(e){var t=r.getElementRule(e);t&&(t.attributes.align||(t.attributes.align={},t.attributesOrder.push("align")))}))}))})(e),function(e){e.addButton("fontsizeselect",(function(){var t=[],n=e.settings.fontsizeFormats||"8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7";return e.$.each(n.split(" "),(function(e,n){var i=n,a=n,r=n.split("=");r.length>1&&(i=r[0],a=r[1]),t.push({text:i,value:a})})),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:function(){var t=this;e.on("NodeChange",(function(){var n;(n=e.dom.getParent(e.selection.getNode(),"font"))?t.value(n.size):t.value("")}))},onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})),e.addButton("fontselect",(function(){var t=[],n=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return e.$.each(n,(function(e,n){t.push({text:{raw:n[0]},value:n[1],textStyle:-1===n[1].indexOf("dings")?"font-family:"+n[1]:""})})),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:function(){var t=this;e.on("NodeChange",(function(){var n;(n=e.dom.getParent(e.selection.getNode(),"font"))?t.value(n.face):t.value("")}))},onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}))}(e)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},r=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},i=n,o=r,u=function(e){var t=r(e);return t.length>0?t[0]:n(e)},c="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d="January February March April May June July August September October November December".split(" "),p=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},f=function(e,t,n){return n=n||new Date,(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",p(n.getMonth()+1,2))).replace("%d",p(n.getDate(),2))).replace("%H",""+p(n.getHours(),2))).replace("%M",""+p(n.getMinutes(),2))).replace("%S",""+p(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(d[n.getMonth()]))).replace("%b",""+e.translate(s[n.getMonth()]))).replace("%A",""+e.translate(l[n.getDay()]))).replace("%a",""+e.translate(c[n.getDay()]))).replace("%%","%")},g=function(e,t){if(function(e){return e.getParam("insertdatetime_element",!1)}(e)){var n,r=f(e,t);n=/%[HMSIp]/.test(t)?f(e,"%Y-%m-%dT%H:%M"):f(e,"%Y-%m-%d");var a=e.dom.getParent(e.selection.getStart(),"time");a?(o=a,u=n,c=r,l=(i=e).dom.create("time",{datetime:u},c),o.parentNode.insertBefore(l,o),i.dom.remove(o),i.selection.select(l,!0),i.selection.collapse(!1)):e.insertContent('<time datetime="'+n+'">'+r+"</time>")}else e.insertContent(f(e,t));var i,o,u,c,l},m=f,h=tinymce.util.Tools.resolve("tinymce.util.Tools");t.add("insertdatetime",(function(t){var n=e(null);(function(e){e.addCommand("mceInsertDate",(function(){g(e,function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))}(e))})),e.addCommand("mceInsertTime",(function(){g(e,i(e))}))})(t),function(e,t){var n,r,a,i=(r=t,a=o(n=e),h.map(a,(function(e){return{text:m(n,e),onclick:function(){r.set(e),g(n,e)}}})));e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",menu:i,onclick:function(){var n=t.get();g(e,n||u(e))}}),e.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:i,context:"insert"})}(t,n)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(e){return e.getParam("importcss_selector_converter")},o=function(e){var t=r.cacheSuffix;return"string"==typeof e&&(e=e.replace("?"+t,"").replace("&"+t,"")),e},g=function(e,t){var r=e.settings,i=!1!==r.skin&&(r.skin||"lightgray");return!!i&&t===(r.skin_url?e.documentBaseURI.toAbsolute(r.skin_url):n.baseURL+"/skins/"+i)+"/content"+(e.inline?".inline":"")+".min.css"},p=function(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e},c=function(e,t,n){var r=[],c={};i.each(e.contentCSS,(function(e){c[e]=!0})),n||(n=function(e,t){return t||c[e]});try{i.each(t.styleSheets,(function(t){!function t(c,l){var s,u=c.href;if((u=o(u))&&n(u,l)&&!g(e,u)){i.each(c.imports,(function(e){t(e,!0)}));try{s=c.cssRules||c.rules}catch(e){}i.each(s,(function(e){e.styleSheet?t(e.styleSheet,!0):e.selectorText&&i.each(e.selectorText.split(","),(function(e){r.push(i.trim(e))}))}))}}(t)}))}catch(e){}return r},l=function(e,t){var n,r=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(r){var o=r[1],s=r[2].substr(1).split(".").join(" "),u=i.makeMap("a,img");return r[1]?(n={title:t},e.schema.getTextBlockElements()[o]?n.block=o:e.schema.getBlockElements()[o]||u[o.toLowerCase()]?n.selector=o:n.inline=o):r[2]&&(n={inline:"span",title:t.substr(1),classes:s}),!1!==function(e){return e.getParam("importcss_merge_classes")}(e)?n.classes=s:n.attributes={class:s},n}},d=function(e,t){return null===t||!1!==function(e){return e.getParam("importcss_exclusive")}(e)},f=l;e.add("importcss",(function(e){return function(e){e.on("renderFormatsMenu",(function(n){var r,o={},f=p(function(e){return e.getParam("importcss_selector_filter")}(e)),m=n.control,g=(r=function(e){return e.getParam("importcss_groups")}(e),i.map(r,(function(e){return i.extend({},e,{original:e,selectors:{},filter:p(e.filter),item:{text:e.title,menu:[]}})}))),h=function(n,r){if(y=n,k=o,!(d(e,w=r)?y in k:y in w.selectors)){p=n,x=o,d(e,v=r)?x[p]=!0:v.selectors[p]=!0;var c=(f=e,a=e.plugins.importcss,h=n,((g=r)&&g.selector_converter?g.selector_converter:s(f)?s(f):function(){return l(f,h)}).call(a,h,g));if(c){var u=c.name||t.DOM.uniqueId();return e.formatter.register(u,c),i.extend({},m.settings.itemDefaults,{text:c.title,format:u})}}var f,a,h,g,p,v,x,y,w,k;return null};(function(e){return e.getParam("importcss_append")})(e)||m.items().remove(),i.each(c(e,n.doc||e.getDoc(),p(function(e){return e.getParam("importcss_file_filter")}(e))),(function(e){if(-1===e.indexOf(".mce-")&&(!f||f(e))){var t=(r=g,o=e,i.grep(r,(function(e){return!e.filter||e.filter(o)})));if(t.length>0)i.each(t,(function(t){var n=h(e,t);n&&t.item.menu.push(n)}));else{var n=h(e,null);n&&m.add(n)}}var r,o})),i.each(g,(function(e){e.item.menu.length>0&&m.add(e.item)})),n.control.renderNew()}))}(e),function(e){return{convertSelectorToFormat:function(t){return f(e,t)}}}(e)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools");function c(e,t){return i(document.createElement("canvas"),e,t)}function l(e){return e.getContext("2d")}function i(e,t,n){return e.width=t,e.height=n,e}var a,u,d,f,s={create:c,clone:function(e){var t;return l(t=c(e.width,e.height)).drawImage(e,0,0),t},resize:i,get2dContext:l,get3dContext:function(e){var t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t}},m=function(e){return e.naturalWidth||e.width},h=function(e){return e.naturalHeight||e.height},v=window.Promise?window.Promise:function(){var e=function(e){if("object"!=o(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(e,r(i,this),r(a,this))},n=e.immediateFn||"function"==typeof t&&t||function(e){setTimeout(e,1)};function r(e,t){return function(){e.apply(t,arguments)}}var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function l(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==o(e)||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void d(r(t,e),r(i,this),r(a,this))}this._state=!0,this._value=e,u.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)l.call(this,this._deferreds[e]);this._deferreds=null}function d(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){l.call(r,new function(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(t,n,e,i))}))},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e((function(e,n){if(0===t.length)return e([]);var r=t.length;function c(i,a){try{if(a&&("object"==o(a)||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){c(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)c(i,t[i])}))},e.resolve=function(t){return t&&"object"==o(t)&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},e}(),x=function(e){return function(){return e}},p={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:x,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:x(!1),always:x(!0)},y=p.never,g=p.always,w=function(){return k},k=(f={fold:function(e,t){return e()},is:y,isSome:y,isNone:g,getOr:d=function(e){return e},getOrThunk:u=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:d,orThunk:u,map:w,ap:w,each:function(){},bind:w,flatten:w,exists:y,forall:g,filter:w,equals:a=function(e){return e.isNone()},equals_:a,toArray:function(){return[]},toString:p.constant("none()")},Object.freeze&&Object.freeze(f),f),b=function b(e){var t=function(){return e},n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:g,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return b(t(e))},ap:function(t){return t.fold(w,(function(t){return b(t(e))}))},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?o:k},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(y,(function(t){return n(e,t)}))},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},C=b,_=w,S="undefined"!=typeof window?window:Function("return this;")(),E=function(e,t){return function(e,t){for(var n=null!=t?t:S,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n}(e.split("."),t)},T=function(e,t){var n=E(e,t);if(null==n)throw e+" not available on this browser";return n},N=function(){return new(T("FileReader"))},R=function(e){return new(T("Uint8Array"))(e)},A=function(e){return T("atob")(e)};function D(e){return new v((function(t,n){var r=URL.createObjectURL(e),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)};function a(){i(),t(o)}function u(){i(),n("Unable to load data of type "+e.type+": "+r)}o.addEventListener("load",a),o.addEventListener("error",u),o.src=r,o.complete&&a()}))}function P(e){return new v((function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200==this.status&&t(this.response)},n.send()}))}function O(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return _();for(var r=n[1],o=t[1],i=A(o),a=i.length,u=Math.ceil(a/1024),c=new Array(u),l=0;l<u;++l){for(var s=1024*l,d=Math.min(s+1024,a),f=new Array(d-s),m=s,p=0;m<d;++p,++m)f[p]=i[m].charCodeAt(0);c[l]=R(f)}return C(function(e,t){return new(T("Blob"))(e,t)}(c,{type:r}))}function M(e){return new v((function(t,n){O(e).fold((function(){n("uri is not base64: "+e)}),t)}))}function B(e){return new v((function(t){var n=new N;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}var I={blobToImage:D,imageToBlob:function(e){return(t=e,new v((function(e){t.complete?e(t):t.addEventListener("load",(function n(){t.removeEventListener("load",n),e(t)}))}))).then((function(e){var t=e.src;return 0===t.indexOf("blob:")?P(t):0===t.indexOf("data:")?M(t):P(t)}));var t},blobToDataUri:B,blobToBase64:function(e){return B(e).then((function(e){return e.split(",")[1]}))},dataUriToBlobSync:O,canvasToBlob:function(e,t,n){return t=t||"image/png",HTMLCanvasElement.prototype.toBlob?new v((function(r){e.toBlob((function(e){r(e)}),t,n)})):M(e.toDataURL(t,n))},canvasToDataURL:function(e,t,n){return t=t||"image/png",e.then((function(e){return e.toDataURL(t,n)}))},blobToCanvas:function(e){return D(e).then((function(e){var t,n;return t=e,URL.revokeObjectURL(t.src),n=s.create(m(e),h(e)),s.get2dContext(n).drawImage(e,0,0),n}))},uriToBlob:function(e){return 0===e.indexOf("blob:")?P(e):0===e.indexOf("data:")?M(e):null}};function z(e,t,n){var r=t.type;function o(t,n){return e.then((function(e){return I.canvasToDataURL(e,t,n)}))}return{getType:p.constant(r),toBlob:function(){return v.resolve(t)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return I.canvasToBlob(e,t,n)}))},toAdjustedDataURL:o,toAdjustedBase64:function(e,t){return o(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(s.clone)}}}function L(e){return I.blobToDataUri(e).then((function(t){return z(I.blobToCanvas(e),e,t)}))}var H={fromBlob:L,fromCanvas:function(e,t){return I.canvasToBlob(e,t).then((function(t){return z(v.resolve(e),t,e.toDataURL())}))},fromImage:function(e){return I.imageToBlob(e).then((function(e){return L(e)}))},fromBlobAndUrlSync:function(e,t){return z(I.blobToCanvas(e),e,t)}};function F(e,t,n){return(e=parseFloat(e))>n?e=n:e<t&&(e=t),e}var j=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function U(e,t){var n,r,o,i,a=[],u=new Array(10);for(n=0;n<5;n++){for(r=0;r<5;r++)a[r]=t[r+5*n];for(r=0;r<5;r++){for(i=0,o=0;o<5;o++)i+=e[r+5*o]*a[o];u[r+5*n]=i}}return u}function q(e,t){return t=F(t,0,1),e.map((function(e,n){return n%6==0?e=1-(1-e)*t:e*=t,F(e,0,1)}))}var W=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},$=function(e,t){var n;return t=F(t,-1,1),U(e,[(n=(t*=100)<0?127+t/100*127:127*(n=0==(n=t%1)?j[t]:j[Math.floor(t)]*(1-n)+j[Math.floor(t)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])},V=function(e,t){var n,r,o;return U(e,[(r=.3086)*(1-(n=1+((t=F(t,-1,1))>0?3*t:t)))+n,(o=.6094)*(1-n),.082*(1-n),0,0,r*(1-n),o*(1-n)+n,.082*(1-n),0,0,r*(1-n),o*(1-n),.082*(1-n)+n,0,0,0,0,0,1,0,0,0,0,0,1])},G=function(e,t){var n,r,o,i,a;return t=F(t,-180,180)/180*Math.PI,U(e,[(o=.213)+.787*(n=Math.cos(t))+(r=Math.sin(t))*-o,(i=.715)+n*-i+r*-i,(a=.072)+n*-a+.928*r,0,0,o+n*-o+.143*r,i+n*(1-i)+.14*r,a+n*-a+-.283*r,0,0,o+n*-o+-.787*r,i+n*-i+r*i,a+.928*n+r*a,0,0,0,0,0,1,0,0,0,0,0,1])},Y=function(e,t,n,r){return U(e,[t=F(t,0,2),0,0,0,0,0,n=F(n,0,2),0,0,0,0,0,r=F(r,0,2),0,0,0,0,0,1,0,0,0,0,0,1])},X=function(e,t){return U(e,q([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],t=F(t,0,1)))},J=function(e,t){return U(e,q([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],t=F(t,0,1)))};function K(e,t){return e.toCanvas().then((function(n){return r=n,o=e.getType(),i=t,a=function(e,t){var n,r,o,i,a,u=e.data,c=t[0],l=t[1],s=t[2],d=t[3],f=t[4],m=t[5],p=t[6],h=t[7],g=t[8],v=t[9],x=t[10],b=t[11],y=t[12],w=t[13],k=t[14],C=t[15],_=t[16],S=t[17],E=t[18],T=t[19];for(a=0;a<u.length;a+=4)n=u[a],r=u[a+1],o=u[a+2],i=u[a+3],u[a]=n*c+r*l+o*s+i*d+f,u[a+1]=n*m+r*p+o*h+i*g+v,u[a+2]=n*x+r*b+o*y+i*w+k,u[a+3]=n*C+r*_+o*S+i*E+T;return e}((u=s.get2dContext(r)).getImageData(0,0,r.width,r.height),i),u.putImageData(a,0,0),H.fromCanvas(r,o);var r,o,i,a,u}))}function Z(e,t){return e.toCanvas().then((function(n){return r=n,o=e.getType(),i=t,u=function(e,t,n){var r,o,i,a,u,c,l,s,d,f,m,p,g,h,v,b;function x(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),r=e.data,o=t.data,v=e.width,b=e.height,c=0;c<b;c++)for(u=0;u<v;u++){for(l=s=d=0,m=0;m<i;m++)for(f=0;f<i;f++)p=x(u+f-a,0,v-1),g=4*(x(c+m-a,0,b-1)*v+p),h=n[m*i+f],l+=r[g]*h,s+=r[g+1]*h,d+=r[g+2]*h;o[g=4*(c*v+u)]=x(l,0,255),o[g+1]=x(s,0,255),o[g+2]=x(d,0,255)}return t}((c=s.get2dContext(r)).getImageData(0,0,r.width,r.height),u=c.getImageData(0,0,r.width,r.height),i),c.putImageData(u,0,0),H.fromCanvas(r,o);var r,o,i,u,c}))}function Q(e){return function(t,n){return t.toCanvas().then((function(r){return function(t,n,r){var o,i,a=s.get2dContext(t),u=new Array(256);for(i=0;i<u.length;i++)u[i]=e(i,r);return o=function(e,t){var n,r=e.data;for(n=0;n<r.length;n+=4)r[n]=t[r[n]],r[n+1]=t[r[n+1]],r[n+2]=t[r[n+2]];return e}(a.getImageData(0,0,t.width,t.height),u),a.putImageData(o,0,0),H.fromCanvas(t,n)}(r,t.getType(),n)}))}}function ee(e){return function(t,n){return K(t,e(W(),n))}}function te(e){return function(t){return Z(t,e)}}var ne,re={invert:(ne=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0],function(e){return K(e,ne)}),brightness:ee((function(e,t){return U(e,[1,0,0,0,t=F(255*t,-255,255),0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),hue:ee(G),saturate:ee(V),contrast:ee($),grayscale:ee(J),sepia:ee(X),colorize:function(e,t,n,r){return K(e,Y(W(),t,n,r))},sharpen:te([0,-1,0,-1,5,-1,0,-1,0]),emboss:te([-2,-1,0,-1,1,1,0,1,2]),gamma:Q((function(e,t){return 255*Math.pow(e/255,1-t)})),exposure:Q((function(e,t){return 255*(1-Math.exp(-e/255*t))})),colorFilter:K,convoluteFilter:Z},oe=function e(t,n,r){var o=m(t),c=h(t),i=n/o,a=r/c,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var l,d,f,p=(l=t,d=i,f=a,new v((function(e){var t=m(l),n=h(l),r=Math.floor(t*d),o=Math.floor(n*f),i=s.create(r,o);s.get2dContext(i).drawImage(l,0,0,t,n,0,0,r,o),e(i)})));return u?p.then((function(t){return e(t,n,r)})):p},ie=function(e,t){return e.toCanvas().then((function(n){return r=n,o=e.getType(),i=t,a=s.create(r.width,r.height),u=s.get2dContext(a),c=0,l=0,90!=(i=i<0?360+i:i)&&270!=i||s.resize(a,a.height,a.width),90!=i&&180!=i||(c=a.width),270!=i&&180!=i||(l=a.height),u.translate(c,l),u.rotate(i*Math.PI/180),u.drawImage(r,0,0),H.fromCanvas(a,o);var r,o,i,a,u,c,l}))},ae=function(e,t){return e.toCanvas().then((function(n){return r=n,o=e.getType(),i=t,a=s.create(r.width,r.height),u=s.get2dContext(a),"v"==i?(u.scale(1,-1),u.drawImage(r,0,-a.height)):(u.scale(-1,1),u.drawImage(r,-a.width,0)),H.fromCanvas(a,o);var r,o,i,a,u}))},se=function(e,t,n,r,o){return e.toCanvas().then((function(i){return a=i,u=e.getType(),c=t,l=n,d=r,f=o,m=s.create(d,f),s.get2dContext(m).drawImage(a,-c,-l),H.fromCanvas(m,u);var a,u,c,l,d,f,m}))},ce=function(e,t,n){return e.toCanvas().then((function(r){return oe(r,t,n).then((function(t){return H.fromCanvas(t,e.getType())}))}))},le=function(e){return re.invert(e)},ue=function(e){return re.sharpen(e)},de=function(e){return re.emboss(e)},fe=function(e,t){return re.brightness(e,t)},pe=function(e,t){return re.hue(e,t)},me=function(e,t){return re.saturate(e,t)},he=function(e,t){return re.contrast(e,t)},ge=function(e,t){return re.grayscale(e,t)},be=function(e,t){return re.sepia(e,t)},ve=function(e,t,n,r){return re.colorize(e,t,n,r)},xe=function(e,t){return re.gamma(e,t)},ye=function(e,t){return re.exposure(e,t)},we=function(e,t){return ae(e,t)},ke=function(e,t,n,r,o){return se(e,t,n,r,o)},Ce=function(e,t,n){return ce(e,t,n)},_e=function(e,t){return ie(e,t)},Se=function(e){return H.fromBlob(e)},Ee=function(){return T("URL")},Te=function(e){return Ee().createObjectURL(e)},Ne=function(e){Ee().revokeObjectURL(e)},Re=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ae=tinymce.util.Tools.resolve("tinymce.util.Promise"),De=tinymce.util.Tools.resolve("tinymce.util.URI"),Pe=function(e){var t,n;function r(e){return/^[0-9\.]+px$/.test(e)}return t=e.style.width,n=e.style.height,t||n?r(t)&&r(n)?{w:parseInt(t,10),h:parseInt(n,10)}:null:(t=e.width,n=e.height,t&&n?{w:parseInt(t,10),h:parseInt(n,10)}:null)},Oe=function(e,t){var n,r;t&&(n=e.style.width,r=e.style.height,(n||r)&&(e.style.width=t.w+"px",e.style.height=t.h+"px",e.removeAttribute("data-mce-style")),n=e.width,r=e.height,(n||r)&&(e.setAttribute("width",t.w),e.setAttribute("height",t.h)))},Me=function(e){return{w:e.naturalWidth,h:e.naturalHeight}},Be=(Array.prototype.indexOf,Array.prototype.push,Array.prototype.slice,function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return C(o)}return _()}),dt=function(e){return null!=e},Ie=function(e,t){var n;return n=t.reduce((function(e,t){return dt(e)?e[t]:void 0}),e),dt(n)?n:null},ze=function(e){return new Ae((function(t){var n=new N;n.onload=function(e){var n=e.target;t(n.result)},n.readAsText(e)}))},Le=function(e,t){return new Ae((function(n){var o;(o=new function(){return new(T("XMLHttpRequest"))}).onreadystatechange=function(){4===o.readyState&&n({status:o.status,blob:this.response})},o.open("GET",e,!0),r.each(t,(function(e,t){o.setRequestHeader(t,e)})),o.responseType="blob",o.send()}))},He=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t},Fe=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],je=[{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],Ue=function(e){return"ImageProxy HTTP error: "+Be(Fe,(function(t){return e===t.code})).fold(p.constant("Unknown ImageProxy error"),(function(e){return e.message}))},We=function(e){var t=Ue(e);return Ae.reject(t)},$e=function(e){return Be(je,(function(t){return t.type===e})).fold(p.constant("Unknown service error"),(function(e){return e.message}))},qe=function(e,t){return 400===(n=e)||403===n||500===n?function(e,t){return ze(t).then((function(e){var t,n,r=(t=He(e),"ImageProxy Service error: "+((n=Ie(t,["error","type"]))?$e(n):"Invalid JSON in service error message"));return Ae.reject(r)}))}(0,t):We(e);var n},Ve=We,Ge=function(e,t){return t?function(e,t){return Le((n=e,r=t,o=-1===n.indexOf("?")?"?":"&",/[?&]apiKey=/.test(n)||!r?n:n+o+"apiKey="+encodeURIComponent(r)),{"Content-Type":"application/json;charset=UTF-8","tiny-api-key":t}).then((function(e){return e.status<200||e.status>=300?qe(e.status,e.blob):Ae.resolve(e.blob)}));var n,r,o}(e,t):Le(e,{}).then((function(e){return e.status<200||e.status>=300?Ve(e.status):Ae.resolve(e.blob)}))},Ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xe=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Je=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Ke=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ze=tinymce.util.Tools.resolve("tinymce.util.Observable"),Qe=tinymce.util.Tools.resolve("tinymce.util.VK"),et=0,tt=function(e,t,n,o,i){var a,u,c,l,s="mce-",d=s+"crid-"+et++;function f(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function m(t,r,o,i){var u,c,l,s,d;u=r.x,c=r.y,l=r.w,s=r.h,u+=o*t.deltaX,c+=i*t.deltaY,(l+=o*t.deltaW)<20&&(l=20),(s+=i*t.deltaH)<20&&(s=20),d=e=Je.clamp({x:u,y:c,w:l,h:s},n,"move"===t.name),d=f(n,d),a.fire("updateRect",{rect:d}),g(d)}function p(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),Ke("#"+d+"-"+e,o).css({left:t.x,top:t.y,width:t.w,height:t.h})}r.each(u,(function(t){Ke("#"+d+"-"+t.name,o).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function h(t){p(e=t)}function g(e){var t,r;h((t=n,{x:(r=e).x+t.x,y:r.y+t.y,w:r.w,h:r.h}))}return u=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],l=["top","right","bottom","left"],Ke('<div id="'+d+'" class="'+s+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(o),r.each(l,(function(e){Ke("#"+d,o).append('<div id="'+d+"-"+e+'"class="'+s+'croprect-block" style="display: none" data-mce-bogus="all">')})),r.each(u,(function(e){Ke("#"+d,o).append('<div id="'+d+"-"+e.name+'" class="'+s+"croprect-handle "+s+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false">')})),c=r.map(u,(function(t){var n;return new(Xe.get("DragHelper"))(d,{document:o.ownerDocument,handle:d+"-"+t.name,start:function(){n=e},drag:function(e){m(t,n,e.deltaX,e.deltaY)}})})),p(e),Ke(o).on("focusin focusout",(function(e){Ke(e.target).attr("aria-grabbed","focus"===e.type)})),Ke(o).on("keydown",(function(t){var n;function o(e,t,r,o,i){e.stopPropagation(),e.preventDefault(),m(n,r,o,i)}switch(r.each(u,(function(e){if(t.target.id===d+"-"+e.name)return n=e,!1})),t.keyCode){case Qe.LEFT:o(t,0,e,-10,0);break;case Qe.RIGHT:o(t,0,e,10,0);break;case Qe.UP:o(t,0,e,0,-10);break;case Qe.DOWN:o(t,0,e,0,10);break;case Qe.ENTER:case Qe.SPACEBAR:t.preventDefault(),i()}})),a=r.extend({toggleVisibility:function(e){var t;t=r.map(u,(function(e){return"#"+d+"-"+e.name})).concat(r.map(l,(function(e){return"#"+d+"-"+e}))).join(","),e?Ke(t,o).show():Ke(t,o).hide()},setClampRect:function(t){n=t,p(e)},setRect:h,getInnerRect:function(){return f(n,e)},setInnerRect:g,setViewPortRect:function(n){t=n,p(e)},destroy:function(){r.each(c,(function(e){e.destroy()})),c=[]}},Ze)},nt=function(e){return new(Xe.get("Control").extend({Defaults:{classes:"imagepanel"},selection:function(e){return arguments.length?(this.state.set("rect",e),this):this.state.get("rect")},imageSize:function(){var e=this.state.get("viewRect");return{w:e.w,h:e.h}},toggleCropRect:function(e){this.state.set("cropEnabled",e)},imageSrc:function(e){var t=this,n=new Image;n.src=e,function(e){return new Ae((function(t){e.complete?t(e):e.addEventListener("load",(function n(){e.removeEventListener("load",n),t(e)}))}))}(n).then((function(){var e,r,o=t.state.get("viewRect");if((r=t.$el.find("img"))[0])r.replaceWith(n);else{var i=document.createElement("div");i.className="mce-imagepanel-bg",t.getEl().appendChild(i),t.getEl().appendChild(n)}e={x:0,y:0,w:n.naturalWidth,h:n.naturalHeight},t.state.set("viewRect",e),t.state.set("rect",Je.inflate(e,-20,-20)),o&&o.w===e.w&&o.h===e.h||t.zoomFit(),t.repaintImage(),t.fire("load")}))},zoom:function(e){return arguments.length?(this.state.set("zoom",e),this):this.state.get("zoom")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var e,t,n,r,o,i;e=this.$el.find("img"),t=this.getEl().clientWidth,n=this.getEl().clientHeight,r=e[0].naturalWidth,o=e[0].naturalHeight,(i=Math.min((t-10)/r,(n-10)/o))>=1&&(i=1),this.zoom(i)},repaintImage:function(){var e,t,n,r,o,i,a,u,c,l,s;s=this.getEl(),c=this.zoom(),l=this.state.get("rect"),a=this.$el.find("img"),u=this.$el.find(".mce-imagepanel-bg"),o=s.offsetWidth,i=s.offsetHeight,n=a[0].naturalWidth*c,r=a[0].naturalHeight*c,e=Math.max(0,o/2-n/2),t=Math.max(0,i/2-r/2),a.css({left:e,top:t,width:n,height:r}),u.css({left:e,top:t,width:n,height:r}),this.cropRect&&(this.cropRect.setRect({x:l.x*c+e,y:l.y*c+t,w:l.w*c,h:l.h*c}),this.cropRect.setClampRect({x:e,y:t,w:n,h:r}),this.cropRect.setViewPortRect({x:0,y:0,w:o,h:i}))},bindStates:function(){var e=this;e.state.on("change:cropEnabled",(function(t){e.cropRect.toggleVisibility(t.value),e.repaintImage()})),e.state.on("change:zoom",(function(){e.repaintImage()})),e.state.on("change:rect",(function(t){var n,r=t.value;e.cropRect||(n=r,e.cropRect=tt(n,e.state.get("viewRect"),e.state.get("viewRect"),e.getEl(),(function(){e.fire("crop")})),e.cropRect.on("updateRect",(function(t){var n=t.rect,r=e.zoom();n={x:Math.round(n.x/r),y:Math.round(n.y/r),w:Math.round(n.w/r),h:Math.round(n.h/r)},e.state.set("rect",n)})),e.on("remove",e.cropRect.destroy)),e.cropRect.setRect(r)}))}}))(e)};function ot(e){return{blob:e,url:Te(e)}}function it(e){e&&Ne(e.url)}function at(e){r.each(e,it)}function st(e,t,n,o){var i,a,u,c,l,s,d,f,m,p,h,g,v,x,b,y,w,k,C,_,S,E,T,N,R,A,D,P=function(){var e=[],t=-1;function n(){return t>0}function r(){return-1!==t&&t<e.length-1}return{data:e,add:function(n){var r;return r=e.splice(++t),e.push(n),{state:n,removed:r}},undo:function(){if(n())return e[--t]},redo:function(){if(r())return e[++t]},canUndo:n,canRedo:r}}();function O(e){var t,n,r,o;t=i.find("#w")[0],n=i.find("#h")[0],r=parseInt(t.value(),10),o=parseInt(n.value(),10),i.find("#constrain")[0].checked()&&N&&R&&r&&o&&("w"===e.control.settings.name?(o=Math.round(r*A),n.value(o)):(r=Math.round(o*D),t.value(r))),N=r,R=o}function M(e){return Math.round(100*e)+"%"}function B(){i.find("#undo").disabled(!P.canUndo()),i.find("#redo").disabled(!P.canRedo()),i.statusbar.find("#save").disabled(!P.canUndo())}function I(){i.find("#undo").disabled(!0),i.find("#redo").disabled(!0)}function z(e){e&&f.imageSrc(e.url)}function L(e){return function(){var t=r.grep(T,(function(t){return t.settings.name!==e}));r.each(t,(function(e){e.hide()})),e.show(),e.focus()}}function H(e){z(c=ot(e))}function F(e){z(t=ot(e)),at(P.add(t).removed),B()}function j(){var e=f.selection();Se(t.blob).then((function(t){ke(t,e.x,e.y,e.w,e.h).then(V).then((function(e){F(e),q()}))}))}var U=function(e){var n=[].slice.call(arguments,1);return function(){Se((c||t).blob).then((function(t){e.apply(this,[t].concat(n)).then(V).then(H)}))}};function q(){z(t),it(c),L(a)(),B()}function W(){c?(F(c.blob),q()):function t(n,r){c?r():setTimeout((function(){n-- >0?t(n,r):e.windowManager.alert("Error: failed to apply image operation.")}),10)}(100,W)}function $(e){return Xe.create("Form",{layout:"flex",direction:"row",labelGap:5,border:"0 0 1 0",align:"center",pack:"center",padding:"0 10 0 10",spacing:5,flex:0,minHeight:60,defaults:{classes:"imagetool",type:"button"},items:e})}var V=function(e){return e.toBlob()};function G(e,n){return $([{text:"Back",onclick:q},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:W}]).hide().on("show",(function(){I(),Se(t.blob).then((function(e){return n(e)})).then(V).then((function(e){var t=ot(e);z(t),it(c),c=t}))}))}function Y(e,n,r,o,i){return $([{text:"Back",onclick:q},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(e){var r;r=e.value,Se(t.blob).then((function(e){return n(e,r)})).then(V).then((function(e){var t=ot(e);z(t),it(c),c=t}))},minValue:o,maxValue:i,value:r,previewFilter:M},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:W}]).hide().on("show",(function(){this.find("slider").value(r),I()}))}l=$([{text:"Back",onclick:q},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:j}]).hide().on("show hide",(function(e){f.toggleCropRect("show"===e.type)})).on("show",I),s=$([{text:"Back",onclick:q},{type:"spacer",flex:1},{type:"textbox",name:"w",label:"Width",size:4,onkeyup:O},{type:"textbox",name:"h",label:"Height",size:4,onkeyup:O},{type:"checkbox",name:"constrain",text:"Constrain proportions",checked:!0,onchange:function(e){!0===e.control.value()&&(A=R/N,D=N/R)}},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:"submit"}]).hide().on("submit",(function(e){var n=parseInt(i.find("#w").value(),10),r=parseInt(i.find("#h").value(),10);e.preventDefault(),function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=[].slice.call(arguments,1);return function(){Se(t.blob).then((function(t){e.apply(this,[t].concat(o)).then(V).then(F)}))}}(Ce,n,r)(),q()})).on("show",I),d=$([{text:"Back",onclick:q},{type:"spacer",flex:1},{icon:"fliph",tooltip:"Flip horizontally",onclick:U(we,"h")},{icon:"flipv",tooltip:"Flip vertically",onclick:U(we,"v")},{icon:"rotateleft",tooltip:"Rotate counterclockwise",onclick:U(_e,-90)},{icon:"rotateright",tooltip:"Rotate clockwise",onclick:U(_e,90)},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:W}]).hide().on("show",I),h=G(0,le),C=G(0,ue),_=G(0,de),g=Y(0,fe,0,-1,1),v=Y(0,pe,180,0,360),x=Y(0,me,0,-1,1),b=Y(0,he,0,-1,1),y=Y(0,ge,0,0,1),w=Y(0,be,0,0,1),k=function(e,n){function r(){var e,r,o;e=i.find("#r")[0].value(),r=i.find("#g")[0].value(),o=i.find("#b")[0].value(),Se(t.blob).then((function(t){return n(t,e,r,o)})).then(V).then((function(e){var t=ot(e);z(t),it(c),c=t}))}return $([{text:"Back",onclick:q},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:M},{type:"slider",label:"G",name:"g",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:M},{type:"slider",label:"B",name:"b",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:M},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:W}]).hide().on("show",(function(){i.find("#r,#g,#b").value(1),I()}))}(0,ve),S=Y(0,xe,0,-1,1),E=Y(0,ye,1,0,2),u=$([{text:"Back",onclick:q},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:L(v)},{text:"saturate",icon:"saturate",onclick:L(x)},{text:"sepia",icon:"sepia",onclick:L(w)},{text:"emboss",icon:"emboss",onclick:L(_)},{text:"exposure",icon:"exposure",onclick:L(E)},{type:"spacer",flex:1}]).hide(),a=$([{tooltip:"Crop",icon:"crop",onclick:L(l)},{tooltip:"Resize",icon:"resize2",onclick:L(s)},{tooltip:"Orientation",icon:"orientation",onclick:L(d)},{tooltip:"Brightness",icon:"sun",onclick:L(g)},{tooltip:"Sharpen",icon:"sharpen",onclick:L(C)},{tooltip:"Contrast",icon:"contrast",onclick:L(b)},{tooltip:"Color levels",icon:"drop",onclick:L(k)},{tooltip:"Gamma",icon:"gamma",onclick:L(S)},{tooltip:"Invert",icon:"invert",onclick:L(h)}]),f=nt({flex:1,imageSrc:t.url}),m=Xe.create("Container",{layout:"flex",direction:"column",border:"0 1 0 0",padding:5,spacing:5,items:[{type:"button",icon:"undo",tooltip:"Undo",name:"undo",onclick:function(){z(t=P.undo()),B()}},{type:"button",icon:"redo",tooltip:"Redo",name:"redo",onclick:function(){z(t=P.redo()),B()}},{type:"button",icon:"zoomin",tooltip:"Zoom in",onclick:function(){var e=f.zoom();e<2&&(e+=.1),f.zoom(e)}},{type:"button",icon:"zoomout",tooltip:"Zoom out",onclick:function(){var e=f.zoom();e>.1&&(e-=.1),f.zoom(e)}}]}),p=Xe.create("Container",{type:"container",layout:"flex",direction:"row",align:"stretch",flex:1,items:[m,f]}),T=[a,l,s,d,u,h,g,v,x,b,y,w,k,C,_,S,E],(i=e.windowManager.open({layout:"flex",direction:"column",align:"stretch",minWidth:Math.min(Ye.DOM.getViewPort().w,800),minHeight:Math.min(Ye.DOM.getViewPort().h,650),title:"Edit image",items:T.concat([p]),buttons:[{text:"Save",name:"save",subtype:"primary",onclick:function(){n(t.blob),i.close()}},{text:"Cancel",onclick:"close"}]})).on("close",(function(){o(),at(P.data),P=null,c=null})),P.add(t),B(),f.on("load",(function(){N=f.imageSize().w,R=f.imageSize().h,A=R/N,D=N/R,i.find("#w").value(N),i.find("#h").value(R)})),f.on("crop",j)}var ct=function(e,t){return new Ae((function(n,r){return t.toBlob().then((function(t){st(e,ot(t),n,r)}))}))},lt=0,ut=function(e,t){e.notificationManager.open({text:t,type:"error"})},ft=function(e){return e.selection.getNode()},pt=function(e,t){var n=t.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new De(n).host===e.documentBaseURI.host},mt=function(e,t){return-1!==r.inArray(e.settings.imagetools_cors_hosts,new De(t.src).host)},ht=function(e){var t,n,r,o,i,a;return(t=e.editorUpload.blobCache.getByUri(ft(e).src))?Ae.resolve(t.blob()):(n=e,a=(r=ft(e)).src,mt(n,r)?Ge(r.src,null):pt(n,r)?function(e){return I.imageToBlob(e)}(r):(a=function(e){return e.getParam("imagetools_proxy")}(n),a+=(-1===a.indexOf("?")?"?":"&")+"url="+encodeURIComponent(r.src),o=(i=n).settings.api_key||i.settings.imagetools_api_key,Ge(a,o)))},gt=function(e){clearTimeout(e.get())},bt=function(e,t,n,r){return t.toBlob().then((function(o){var i,a,u,c,l,s,d;return u=e.editorUpload.blobCache,i=(l=ft(e)).src,e.settings.images_reuse_filename&&((c=u.getByUri(i))?(i=c.uri(),a=c.name()):(s=e,a=(d=i.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i))?s.dom.encode(d[1]):null)),c=u.create({id:"imagetools"+lt++,blob:o,base64:t.toBase64(),uri:i,name:a}),u.add(c),e.undoManager.transact((function(){e.$(l).on("load",(function t(){e.$(l).off("load",t),e.nodeChanged(),n?e.editorUpload.uploadImagesAuto():(gt(r),function(e,t){var n=Re.setEditorTimeout(e,(function(){e.editorUpload.uploadImagesAuto()}),e.settings.images_upload_timeout||3e4);t.set(n)}(e,r))})),e.$(l).attr({src:c.blobUri()}).removeAttr("data-mce-src")})),c}))},vt=function(e,t,n){return function(){return e._scanForImages().then(p.curry(ht,e)).then(Se).then(n).then((function(n){return bt(e,n,!1,t)}),(function(t){ut(e,t)}))}},xt=function(e,t,n){return function(){return vt(e,t,(function(t){var r=Pe(ft(e));return r&&Oe(ft(e),{w:r.h,h:r.w}),_e(t,n)}))()}},yt=function(e,t,n){return function(){return vt(e,t,(function(e){return we(e,n)}))()}},wt=function(e,t){return function(){var n=ft(e),r=Me(n),o=function(e){return new Ae((function(t){(function(e){return I.blobToImage(e)})(e).then((function(o){var i=Me(o);r.w===i.w&&r.h===i.h||Pe(n)&&Oe(n,i),Ne(o.src),t(e)}))}))};ht(e).then(Se).then(p.curry((function(e,n){return ct(e,n).then(o).then(Se).then((function(n){return bt(e,n,!0,t)}),(function(){}))}),e),(function(t){ut(e,t)}))}},kt=function(e,t){return e.dom.is(t,"img:not([data-mce-object],[data-mce-placeholder])")&&(pt(e,t)||mt(e,t)||e.settings.imagetools_proxy)},Ct=gt,_t=function(e,t){r.each({mceImageRotateLeft:xt(e,t,-90),mceImageRotateRight:xt(e,t,90),mceImageFlipVertical:yt(e,t,"v"),mceImageFlipHorizontal:yt(e,t,"h"),mceEditImage:wt(e,t)},(function(t,n){e.addCommand(n,t)}))};n.add("imagetools",(function(t){var n=e(0),r=e(null);_t(t,n),function(e){e.addButton("rotateleft",{title:"Rotate counterclockwise",cmd:"mceImageRotateLeft"}),e.addButton("rotateright",{title:"Rotate clockwise",cmd:"mceImageRotateRight"}),e.addButton("flipv",{title:"Flip vertically",cmd:"mceImageFlipVertical"}),e.addButton("fliph",{title:"Flip horizontally",cmd:"mceImageFlipHorizontal"}),e.addButton("editimage",{title:"Edit image",cmd:"mceEditImage"}),e.addButton("imageoptions",{title:"Image options",icon:"options",cmd:"mceImage"})}(t),function(e){e.addContextToolbar(p.curry(kt,e),function(e){return e.getParam("imagetools_toolbar","rotateleft rotateright | flipv fliph | crop editimage imageoptions")}(e))}(t),function(e,t,n){e.on("NodeChange",(function(r){var o=n.get();o&&o.src!==r.element.src&&(Ct(t),e.editorUpload.uploadImagesAuto(),n.set(null)),kt(e,r.element)&&n.set(r.element)}))}(t,n,r)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return!1!==e.settings.image_dimensions},r=function(e){return!0===e.settings.image_advtab},o=function(e){return e.getParam("image_prepend_url","")},c=function(e){return e.getParam("image_class_list")},l=function(e){return!1!==e.settings.image_description},d=function(e){return!0===e.settings.image_title},f=function(e){return!0===e.settings.image_caption},m=function(e){return e.getParam("image_list",!1)},h=function(e){return e.getParam("images_upload_url",!1)},v=function(e){return e.getParam("images_upload_handler",!1)},x=function(e){return e.getParam("images_upload_url")},y=function(e){return e.getParam("images_upload_handler")},w=function(e){return e.getParam("images_upload_base_path")},k=function(e){return e.getParam("images_upload_credentials")},a="undefined"!=typeof window?window:Function("return this;")(),C=function(e,t){return function(e,t){for(var n=null!=t?t:a,i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n}(e.split("."),t)},_=function(e,t){var n=C(e,t);if(null==n)throw e+" not available on this browser";return n},S=function(){return new(_("FileReader"))},s=tinymce.util.Tools.resolve("tinymce.util.Promise"),E=tinymce.util.Tools.resolve("tinymce.util.XHR"),u=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},T=function(e,t){var n=document.createElement("img");function a(e,a){n.parentNode&&n.parentNode.removeChild(n),t({width:e,height:a})}n.onload=function(){a(u(n.width,n.clientWidth),u(n.height,n.clientHeight))},n.onerror=function(){a(0,0)};var i=n.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",document.body.appendChild(n),n.src=e},N=function(e,n,a){return function i(e,a){return a=a||[],t.each(e,(function(e){var t={text:e.text||e.title};e.menu?t.menu=i(e.menu):(t.value=e.value,n(t)),a.push(t)})),a}(e,a||[])},R=function(e){return e&&(e=e.replace(/px$/,"")),e},A=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},D=function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},P=function(e,t){var a=m(e);"string"==typeof a?E.send({url:a,success:function(e){t(JSON.parse(e))}}):"function"==typeof a?a(t):t(a)},O=function(e,t,a){function i(){a.onload=a.onerror=null,e.selection&&(e.selection.select(a),e.nodeChanged())}a.onload=function(){t.width||t.height||!n(e)||e.dom.setAttribs(a,{width:a.clientWidth,height:a.clientHeight}),i()},a.onerror=i},M=function(e){return new s((function(t,n){var a=new S;a.onload=function(){t(a.result)},a.onerror=function(){n(S.error.message)},a.readAsDataURL(e)}))},B=function(e,t){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:(a=e,function(e){var t=a.dom,i=e.control.rootControl;if(r(a)){var n=i.toJSON(),o=t.parseStyle(n.style);i.find("#vspace").value(""),i.find("#hspace").value(""),((o=D(o))["margin-top"]&&o["margin-bottom"]||o["margin-right"]&&o["margin-left"])&&(o["margin-top"]===o["margin-bottom"]?i.find("#vspace").value(R(o["margin-top"])):i.find("#vspace").value(""),o["margin-right"]===o["margin-left"]?i.find("#hspace").value(R(o["margin-right"])):i.find("#hspace").value("")),o["border-width"]&&i.find("#border").value(R(o["border-width"])),i.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(o))))}})},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:function(n){t(e,n.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]};var a},I=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},z=function(e,t){var n=e.find("#width")[0],a=e.find("#height")[0],i=e.find("#constrain")[0];n&&a&&i&&t(n,a,i.checked())},p=function(e,t,n){var a=e.state.get("oldVal"),i=t.state.get("oldVal"),r=e.value(),o=t.value();n&&a&&i&&r&&o&&(r!==a?(o=Math.round(r/a*o),isNaN(o)||t.value(o)):(r=Math.round(o/i*r),isNaN(r)||e.value(r))),I(e,t)},L=function(e){z(e,p)},H=function(){var e=function(e){L(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},F=function(e){z(e,I)},j=L,U=function(e){e.meta=e.control.rootControl.toJSON()},W=function(e,a){var i=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(a){var i,r,c,l,s,d,u,f,m;r=e,d=(i=a).meta||{},u=i.control,(m=(f=u.rootControl).find("#image-list")[0])&&m.value(r.convertURL(u.value(),"src")),t.each(d,(function(e,t){f.find("#"+t).value(e)})),d.width||d.height||(c=r.convertURL(u.value(),"src"),l=o(r),s=new RegExp("^(?:[a-z]+:)?//","i"),l&&!s.test(c)&&c.substring(0,l.length)!==l&&(c=l+c),u.value(c),T(r.documentBaseURI.toAbsolute(u.value()),(function(e){e.width&&e.height&&n(r)&&(f.find("#width").value(e.width),f.find("#height").value(e.height),j(f))})))},onbeforecall:U},a];return l(e)&&i.push({name:"alt",type:"textbox",label:"Image description"}),d(e)&&i.push({name:"title",type:"textbox",label:"Image Title"}),n(e)&&i.push(H()),c(e)&&i.push({name:"class",type:"listbox",label:"Class",values:N(c(e),(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})})}))}),f(e)&&i.push({name:"caption",type:"checkbox",label:"Caption"}),i},$=function(e,t){return{title:"General",type:"form",items:W(e,t)}},V=W,G=function(){return _("URL")},Y=tinymce.util.Tools.resolve("tinymce.ui.Factory"),X=function(){},J=function(e){var n=function(t,n,a,i){var r,o;(r=new function(){return new(_("XMLHttpRequest"))}).open("POST",e.url),r.withCredentials=e.credentials,r.upload.onprogress=function(e){i(e.loaded/e.total*100)},r.onerror=function(){a("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){var t,i,o;r.status<200||r.status>=300?a("HTTP Error: "+r.status):(t=JSON.parse(r.responseText))&&"string"==typeof t.location?n((i=e.basePath,o=t.location,i?i.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):a("Invalid JSON: "+r.responseText)},(o=new FormData).append("file",t.blob(),t.filename()),r.send(o)};return e=t.extend({credentials:!1,handler:n},e),{upload:function(t){return e.url||e.handler!==n?(a=t,i=e.handler,new s((function(e,t){try{i(a,e,t,X)}catch(e){t(e.message)}}))):s.reject("Upload url missing from the settings.");var a,i}}},K=function(e){return function(t){var a=Y.get("Throbber"),i=t.control.rootControl,n=new a(i.getEl()),r=t.control.value(),o=function(e){return G().createObjectURL(e)}(r),s=J({url:x(e),basePath:w(e),credentials:k(e),handler:y(e)}),c=function(){n.hide(),function(e){G().revokeObjectURL(e)}(o)};return n.show(),M(r).then((function(t){var n=e.editorUpload.blobCache.create({blob:r,blobUri:o,name:r.name?r.name.replace(/\.[^\.]+$/,""):null,base64:t.split(",")[1]});return s.upload(n).then((function(e){var t=i.find("#src");return t.value(e),i.find("tabpanel")[0].activateTab(0),t.fire("change"),c(),e}))})).catch((function(t){e.windowManager.alert(t),c()}))}},Z=".jpg,.jpeg,.png,.gif",Q=function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:Z,onchange:K(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:Z,height:100,onchange:K(e)}]}},ee=function(e){var a=function(e,t){if(r(e)){var a=e.dom,i=t.toJSON(),n=a.parseStyle(i.style);n=D(n),i.vspace&&(n["margin-top"]=n["margin-bottom"]=A(i.vspace)),i.hspace&&(n["margin-left"]=n["margin-right"]=A(i.hspace)),i.border&&(n["border-width"]=A(i.border)),t.find("#style").value(a.serializeStyle(a.parseStyle(a.serializeStyle(n))))}};function i(i){var n,o,c,s,l={},u=e.dom;function d(){var r,i;j(n),a(e,n),(l=t.extend(l,n.toJSON())).alt||(l.alt=""),l.title||(l.title=""),""===l.width&&(l.width=null),""===l.height&&(l.height=null),l.style||(l.style=null),l={src:l.src,alt:l.alt,title:l.title,width:l.width,height:l.height,style:l.style,caption:l.caption,class:l.class},e.undoManager.transact((function(){if(l.src){if(""===l.title&&(l.title=null),o?u.setAttribs(o,l):(l.id="__mcenew",e.focus(),e.selection.setContent(u.createHTML("img",l)),o=u.get("__mcenew"),u.setAttrib(o,"id",null)),e.editorUpload.uploadImagesAuto(),!1===l.caption&&u.is(o.parentNode,"figure.image")&&(r=o.parentNode,u.insertAfter(o,r),u.remove(r)),!0!==l.caption)O(e,l,o);else if(!u.is(o.parentNode,"figure.image")){i=o,o=o.cloneNode(!0),(r=u.create("figure",{class:"image"})).appendChild(o),r.appendChild(u.create("figcaption",{contentEditable:!0},"Caption")),r.contentEditable=!1;var t=u.getParent(i,(function(t){return e.schema.getTextBlockElements()[t.nodeName]}));t?u.split(t,i,r):u.replace(r,i),e.selection.select(r)}}else if(o){var a=u.is(o.parentNode,"figure.image")?o.parentNode:o;u.remove(a),e.focus(),e.nodeChanged(),u.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}}))}if(o=e.selection.getNode(),(c=u.getParent(o,"figure.image"))&&(o=u.select("img",c)[0]),o&&("IMG"!==o.nodeName||o.getAttribute("data-mce-object")||o.getAttribute("data-mce-placeholder"))&&(o=null),o&&(l={src:u.getAttrib(o,"src"),alt:u.getAttrib(o,"alt"),title:u.getAttrib(o,"title"),class:u.getAttrib(o,"class"),width:u.getAttrib(o,"width"),height:u.getAttrib(o,"height"),caption:!!c}),i&&(s={type:"listbox",label:"Image list",name:"image-list",values:N(i,(function(t){t.value=e.convertURL(t.value||t.url,"src")}),[{text:"None",value:""}]),value:l.src&&e.convertURL(l.src,"src"),onselect:function(e){var t=n.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),n.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){s=this}}),r(e)||h(e)||v(e)){var f=[$(e,s)];r(e)&&(o&&(o.style.marginLeft&&o.style.marginRight&&o.style.marginLeft===o.style.marginRight&&(l.hspace=R(o.style.marginLeft)),o.style.marginTop&&o.style.marginBottom&&o.style.marginTop===o.style.marginBottom&&(l.vspace=R(o.style.marginTop)),o.style.borderWidth&&(l.border=R(o.style.borderWidth)),l.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(o,"style")))),f.push(B(e,a))),(h(e)||v(e))&&f.push(Q(e)),n=e.windowManager.open({title:"Insert/edit image",data:l,bodyType:"tabpanel",body:f,onSubmit:d})}else n=e.windowManager.open({title:"Insert/edit image",data:l,body:V(e,s),onSubmit:d});F(n)}return{open:function(){P(e,i)}}},te=function(e){return function(n){for(var a,i,r=n.length,o=function(t){t.attr("contenteditable",e?"true":null)};r--;)(i=(a=n[r]).attr("class"))&&/\bimage\b/.test(i)&&(a.attr("contenteditable",e?"false":null),t.each(a.getAll("figcaption"),o))}};e.add("image",(function(e){(function(e){e.on("preInit",(function(){e.parser.addNodeFilter("figure",te(!0)),e.serializer.addNodeFilter("figure",te(!1))}))})(e),function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:ee(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:ee(e).open,context:"insert",prependToContext:!0})}(e),function(e){e.addCommand("mceImage",ee(e).open)}(e)}))}(),function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("hr",(function(e){var t;(t=e).addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",!1,"<hr />")})),function(e){e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})}(e)}))}(),function(){"use strict";var e=function e(t){var n=t,i=function(){return n};return{get:i,set:function(e){n=e},clone:function(){return e(i())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e,t){e.fire("FullscreenStateChanged",{state:t})},n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils").DOM,r=function(e,t){e.addCommand("mceFullScreen",(function(){!function(e,t){var r,o,c,l,s,u,d=document.body,a=document.documentElement,f=t.get(),m=function(){var e,t,r,i;n.setStyle(c,"height",(r=window,i=document.body,i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),r.innerWidth&&r.innerHeight&&(e=r.innerWidth,t=r.innerHeight),{w:e,h:t}).h-(o.clientHeight-c.clientHeight))},h=function(){n.unbind(window,"resize",m)};if(r=(o=e.getContainer()).style,l=(c=e.getContentAreaContainer().firstChild).style,f)l.width=f.iframeWidth,l.height=f.iframeHeight,f.containerWidth&&(r.width=f.containerWidth),f.containerHeight&&(r.height=f.containerHeight),n.removeClass(d,"mce-fullscreen"),n.removeClass(a,"mce-fullscreen"),n.removeClass(o,"mce-fullscreen"),s=f.scrollPos,window.scrollTo(s.x,s.y),n.unbind(window,"resize",f.resizeHandler),e.off("remove",f.removeHandler),t.set(null),i(e,!1);else{var g={scrollPos:(u=n.getViewPort(),{x:u.x,y:u.y}),containerWidth:r.width,containerHeight:r.height,iframeWidth:l.width,iframeHeight:l.height,resizeHandler:m,removeHandler:h};l.width=l.height="100%",r.width=r.height="",n.addClass(d,"mce-fullscreen"),n.addClass(a,"mce-fullscreen"),n.addClass(o,"mce-fullscreen"),n.bind(window,"resize",m),e.on("remove",h),m(),t.set(g),i(e,!0)}}(e,t)}))},o=function(e){return function(t){var n=t.control;e.on("FullscreenStateChanged",(function(e){n.active(e.state)}))}};t.add("fullscreen",(function(t){var i=e(null);return r(t,i),function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:o(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:o(e)})}(t),t.addShortcut("Ctrl+Shift+F","","mceFullScreen"),function(e){return{isFullscreen:function(){return null!==e.get()}}}(i)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=tinymce.util.Tools.resolve("tinymce.html.DomParser"),i=tinymce.util.Tools.resolve("tinymce.html.Node"),o=tinymce.util.Tools.resolve("tinymce.html.Serializer"),c=function(e){return e.getParam("fullpage_hide_in_source_view")},l=function(e){return e.getParam("fullpage_default_encoding")},s=function(e){return e.getParam("fullpage_default_font_family")},u=function(e){return e.getParam("fullpage_default_font_size")},d=function(e){return r({validate:!1,root_name:"#document"}).parse(e)},f=d,m=function(e,t,r){var c,a,l,s,u,f=e.dom;function m(e,t,n){e.attr(t,n||void 0)}function g(e){a.firstChild?a.insert(e,a.firstChild):a.append(e)}c=d(r),(a=c.getAll("head")[0])||(s=c.getAll("html")[0],a=new i("head",1),s.firstChild?s.insert(a,s.firstChild,!0):s.append(a)),s=c.firstChild,t.xml_pi?(u='version="1.0"',t.docencoding&&(u+=' encoding="'+t.docencoding+'"'),7!==s.type&&(s=new i("xml",7),c.insert(s,c.firstChild,!0)),s.value=u):s&&7===s.type&&s.remove(),s=c.getAll("#doctype")[0],t.doctype?(s||(s=new i("#doctype",10),t.xml_pi?c.insert(s,c.firstChild):g(s)),s.value=t.doctype.substring(9,t.doctype.length-1)):s&&s.remove(),s=null,n.each(c.getAll("meta"),(function(e){"Content-Type"===e.attr("http-equiv")&&(s=e)})),t.docencoding?(s||((s=new i("meta",1)).attr("http-equiv","Content-Type"),s.shortEnded=!0,g(s)),s.attr("content","text/html; charset="+t.docencoding)):s&&s.remove(),s=c.getAll("title")[0],t.title?(s?s.empty():g(s=new i("title",1)),s.append(new i("#text",3)).value=t.title):s&&s.remove(),n.each("keywords,description,author,copyright,robots".split(","),(function(e){var n,r,o=c.getAll("meta"),a=t[e];for(n=0;n<o.length;n++)if((r=o[n]).attr("name")===e)return void(a?r.attr("content",a):r.remove());a&&((s=new i("meta",1)).attr("name",e),s.attr("content",a),s.shortEnded=!0,g(s))}));var h={};return n.each(c.getAll("link"),(function(e){"stylesheet"===e.attr("rel")&&(h[e.attr("href")]=e)})),n.each(t.stylesheets,(function(e){h[e]||((s=new i("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),s.shortEnded=!0,g(s)),delete h[e]})),n.each(h,(function(e){e.remove()})),(s=c.getAll("body")[0])&&(m(s,"dir",t.langdir),m(s,"style",t.style),m(s,"vlink",t.visited_color),m(s,"link",t.link_color),m(s,"alink",t.active_color),f.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),(s=c.getAll("html")[0])&&(m(s,"lang",t.langcode),m(s,"xml:lang",t.langcode)),a.firstChild||a.remove(),(l=o({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(c)).substring(0,l.indexOf("</body>"))},h=function(e,t){var r=function(e,t){var r,i,o=d(t),c={};function a(e,t){return e.attr(t)||""}return c.fontface=s(e),c.fontsize=u(e),7===(r=o.firstChild).type&&(c.xml_pi=!0,(i=/encoding="([^"]+)"/.exec(r.value))&&(c.docencoding=i[1])),(r=o.getAll("#doctype")[0])&&(c.doctype="<!DOCTYPE"+r.value+">"),(r=o.getAll("title")[0])&&r.firstChild&&(c.title=r.firstChild.value),n.each(o.getAll("meta"),(function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?c[n.toLowerCase()]=e.attr("content"):"Content-Type"===r&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(c.docencoding=t[1])})),(r=o.getAll("html")[0])&&(c.langcode=a(r,"lang")||a(r,"xml:lang")),c.stylesheets=[],n.each(o.getAll("link"),(function(e){"stylesheet"===e.attr("rel")&&c.stylesheets.push(e.attr("href"))})),(r=o.getAll("body")[0])&&(c.langdir=a(r,"dir"),c.style=a(r,"style"),c.visited_color=a(r,"vlink"),c.link_color=a(r,"link"),c.active_color=a(r,"alink")),c}(e,t.get());e.windowManager.open({title:"Document properties",data:r,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(i){var o=m(e,n.extend(r,i.data),t.get());t.set(o)}})},v=n.each,x=function(e){return e.replace(/<\/?[A-Z]+/g,(function(e){return e.toLowerCase()}))},y=function(e){var t,n="",r="";(function(e){return e.getParam("fullpage_default_xml_pi")})(e)&&(n+='<?xml version="1.0" encoding="'+(l(e)||"ISO-8859-1")+'" ?>\n');return n+=function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}(e),n+="\n<html>\n<head>\n",(t=function(e){return e.getParam("fullpage_default_title")}(e))&&(n+="<title>"+t+"</title>\n"),(t=l(e))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=s(e))&&(r+="font-family: "+t+";"),(t=u(e))&&(r+="font-size: "+t+";"),(t=function(e){return e.getParam("fullpage_default_text_color")}(e))&&(r+="color: "+t+";"),n+"</head>\n<body"+(r?' style="'+r+'"':"")+">\n"},w=function(e,t,r){e.on("BeforeSetContent",(function(i){!function(e,t,r,i){var o,a,l,s,u,d="",m=e.dom;if(!(i.selection||(l=function(e,t){return n.each(e,(function(e){t=t.replace(e,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))})),t}(e.settings.protect,i.content),"raw"===i.format&&t.get()||i.source_view&&c(e)))){0!==l.length||i.source_view||(l=n.trim(t.get())+"\n"+n.trim(l)+"\n"+n.trim(r.get())),-1!==(o=(l=l.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(o=l.indexOf(">",o),t.set(x(l.substring(0,o+1))),-1===(a=l.indexOf("</body",o))&&(a=l.length),i.content=n.trim(l.substring(o+1,a)),r.set(x(l.substring(a)))):(t.set(y(e)),r.set("\n</body>\n</html>")),s=f(t.get()),v(s.getAll("style"),(function(e){e.firstChild&&(d+=e.firstChild.value)})),(u=s.getAll("body")[0])&&m.setAttribs(e.getBody(),{style:u.attr("style")||"",dir:u.attr("dir")||"",vLink:u.attr("vlink")||"",link:u.attr("link")||"",aLink:u.attr("alink")||""}),m.remove("fullpage_styles");var g=e.getDoc().getElementsByTagName("head")[0];d&&(m.add(g,"style",{id:"fullpage_styles"},d),(u=m.get("fullpage_styles")).styleSheet&&(u.styleSheet.cssText=d));var h={};n.each(g.getElementsByTagName("link"),(function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(h[e.href]=e)})),n.each(s.getAll("link"),(function(e){var t=e.attr("href");if(!t)return!0;h[t]||"stylesheet"!==e.attr("rel")||m.add(g,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete h[t]})),n.each(h,(function(e){e.parentNode.removeChild(e)}))}}(e,t,r,i)})),e.on("GetContent",(function(i){var o,a,l,s;o=e,a=t.get(),l=r.get(),(s=i).selection||s.source_view&&c(o)||(s.content=function(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,(function(e,t){return unescape(t)}))}(n.trim(a)+"\n"+n.trim(s.content)+"\n"+n.trim(l)))}))};t.add("fullpage",(function(t){var n=e(""),r=e("");(function(e,t){e.addCommand("mceFullPageProperties",(function(){h(e,t)}))})(t,n),function(e){e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})}(t),w(t,n,r)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=[["cool","cry","embarassed","foot-in-mouth"],["frown","innocent","kiss","laughing"],["money-mouth","sealed","smile","surprised"],["tongue-out","undecided","wink","yell"]],n=function(e){var n;return n='<table role="list" class="mce-grid">',t.each(i,(function(i){n+="<tr>",t.each(i,(function(t){var i=e+"/img/smiley-"+t+".gif";n+='<td><a href="#" data-mce-url="'+i+'" data-mce-alt="'+t+'" tabindex="-1" role="option" aria-label="'+t+'"><img src="'+i+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'})),n+="</tr>"})),n+="</table>"};e.add("emoticons",(function(e,t){!function(e,t){var i=n(t);e.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:i,onclick:function(t){var i,n,r,a=e.dom.getParent(t.target,"a");a&&(i=e,n=a.getAttribute("data-mce-url"),r=a.getAttribute("data-mce-alt"),i.insertContent(i.dom.createHTML("img",{src:n,alt:r})),this.hide())}},tooltip:"Emoticons"})}(e,t)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(e,n){var r,o=e.dom,c=e.selection.getSelectedBlocks();c.length&&(r=o.getAttrib(c[0],"dir"),t.each(c,(function(e){o.getParent(e.parentNode,'*[dir="'+n+'"]',o.getRoot())||o.setAttrib(e,"dir",r!==n?n:null)})),e.nodeChanged())},n=function(e){var i=[];return t.each("h1 h2 h3 h4 h5 h6 div p".split(" "),(function(t){i.push(t+"[dir="+e+"]")})),i.join(",")};e.add("directionality",(function(e){(function(e){e.addCommand("mceDirectionLTR",(function(){i(e,"ltr")})),e.addCommand("mceDirectionRTL",(function(){i(e,"rtl")}))})(e),function(e){e.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:n("ltr")}),e.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:n("rtl")})}(e)}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.Env"),u=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=function(e,t){return{x:e,y:t}},r=function(e,t,r){return n(e.x+t,e.y+r)},s=function(e,t){if(e&&"static"!==u.DOM.getStyle(e,"position",!0)){var n=u.DOM.getPos(e),o=n.x-e.scrollLeft,c=n.y-e.scrollTop;return r(t,-o,-c)}return r(t,0,0)},a=function(e){return i.container},o=tinymce.util.Tools.resolve("tinymce.ui.Factory"),c=tinymce.util.Tools.resolve("tinymce.util.Tools"),g=function(e,t,n,r){null===r.get()?r.set(function(e,t){var n,r,i=[];r=function(e){return e.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}(e),c.each(r.split(/[ ,]/),(function(t){var n=e.menuItems[t];"|"===t&&(n={text:t}),n&&(n.shortcut="",i.push(n))}));for(var u=0;u<i.length;u++)"|"===i[u].text&&(0!==u&&u!==i.length-1||i.splice(u,1));return(n=o.create("menu",{items:i,context:"contextmenu",classes:"contextmenu"}).renderTo()).on("hide",(function(e){e.control===this&&t.set(!1)})),e.on("remove",(function(){n.remove(),n=null})),n}(e,n)):r.get().show(),r.get().moveTo(t.x,t.y),n.set(!0)},l=function(e,t,o){e.on("contextmenu",(function(c){var i;i=e,(!c.ctrlKey||function(e){return e.settings.contextmenu_never_use_native}(i))&&(c.preventDefault(),g(e,function(e,t){if(e.inline)return s(a(),n((d=t).pageX,d.pageY));var o,c,l,i,d,f=(o=e.getContentAreaContainer(),c=n((i=t).clientX,i.clientY),l=u.DOM.getPos(o),r(c,l.x,l.y));return s(a(),f)}(e,c),t,o))}))};t.add("contextmenu",(function(t){var n=e(null),r=e(!1);return l(t,r,n),function(e){return{isContextMenuVisible:function(){return e.get()}}}(r)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Color"),i=function(e,t){e.find("#preview")[0].getEl().style.background=t},n=function(e,n){var r=t(n),a=r.toRgb();e.fromJSON({r:a.r,g:a.g,b:a.b,hex:r.toHex().substr(1)}),i(e,r.toHex())},r=function(e,t,r){var a=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:r,onchange:function(){var e=this.rgb();a&&(a.find("#r").value(e.r),a.find("#g").value(e.g),a.find("#b").value(e.b),a.find("#hex").value(this.value().substr(1)),i(a,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,t,i=a.find("colorpicker")[0];if(e=this.name(),t=this.value(),"hex"===e)return n(a,t="#"+t),void i.value(t);t={r:a.find("#r").value(),g:a.find("#g").value(),b:a.find("#b").value()},i.value(t),n(a,t)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){t("#"+a.toJSON().hex)}});n(a,r)};e.add("colorpicker",(function(e){e.settings.color_picker_callback||(e.settings.color_picker_callback=function(t,i){r(e,t,i)})}))}(),function(){"use strict";var t=function e(t){var a=t,n=function(){return a};return{get:n,set:function(e){a=e},clone:function(){return e(n())}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=function(e){return Math.min(a.DOM.getViewPort().w,e.getParam("codesample_dialog_width",800))},s=function(e){return Math.min(a.DOM.getViewPort().w,e.getParam("codesample_dialog_height",650))},c={},l=void 0!==c?c:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},d=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=l.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(t.util.type(e)){case"Object":var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]=t.util.clone(e[n]));return a;case"Array":return e.map&&e.map((function(e){return t.util.clone(e)}))}return e}},languages:{extend:function(e,a){var n=t.util.clone(t.languages[e]);for(var i in a)n[i]=a[i];return n},insertBefore:function(e,a,n,i){var r=(i=i||t.languages)[e];if(2===arguments.length){for(var s in n=arguments[1])n.hasOwnProperty(s)&&(r[s]=n[s]);return r}var o={};for(var c in r)if(r.hasOwnProperty(c)){if(c===a)for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);o[c]=r[c]}return t.languages.DFS(t.languages,(function(t,a){a===i[e]&&t!==e&&(this[t]=o)})),i[e]=o},DFS:function(e,a,n){for(var i in e)e.hasOwnProperty(i)&&(a.call(e,i,e[i],n||i),"Object"===t.util.type(e[i])?t.languages.DFS(e[i],a):"Array"===t.util.type(e[i])&&t.languages.DFS(e[i],a,i))}},plugins:{},highlightAll:function(e,a){for(var n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0,r=void 0;r=n[i++];)t.highlightElement(r,!0===e,a)},highlightElement:function(a,n,i){for(var r,s,o=a;o&&!e.test(o.className);)o=o.parentNode;o&&(r=(o.className.match(e)||[,""])[1],s=t.languages[r]),a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+r,o=a.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+r);var c=a.textContent,u={element:a,language:r,grammar:s,code:c};if(c&&s)if(t.hooks.run("before-highlight",u),n&&l.Worker){var g=new Worker(t.filename);g.onmessage=function(e){u.highlightedCode=e.data,t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i&&i.call(u.element),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},g.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i&&i.call(a),t.hooks.run("after-highlight",u),t.hooks.run("complete",u);else t.hooks.run("complete",u)},highlight:function(e,n,i){var r=t.tokenize(e,n);return a.stringify(t.util.encode(r),i)},tokenize:function(e,a,n){var i=t.Token,r=[e],s=a.rest;if(s){for(var o in s)a[o]=s[o];delete a.rest}e:for(var o in a)if(a.hasOwnProperty(o)&&a[o]){var c=a[o];c="Array"===t.util.type(c)?c:[c];for(var l=0;l<c.length;++l){var u=c[l],g=u.inside,d=!!u.lookbehind,p=0,f=u.alias;u=u.pattern||u;for(var m=0;m<r.length;m++){var h=r[m];if(r.length>e.length)break e;if(!(h instanceof i)){u.lastIndex=0;var b=u.exec(h);if(b){d&&(p=b[1].length);var v=b.index-1+p,x=v+(b=b[0].slice(p)).length,y=h.slice(0,v+1),w=h.slice(x+1),k=[m,1];y&&k.push(y);var C=new i(o,g?t.tokenize(b,g):b,f);k.push(C),w&&k.push(w),Array.prototype.splice.apply(r,k)}}}}}return r},hooks:{all:{},add:function(e,a){var n=t.hooks.all;n[e]=n[e]||[],n[e].push(a)},run:function(e,a){var n=t.hooks.all[e];if(n&&n.length)for(var i=0,r=void 0;r=n[i++];)r(a)}}},a=t.Token=function(e,t,a){this.type=e,this.content=t,this.alias=a};if(a.stringify=function(e,n,i){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map((function(t){return a.stringify(t,n,e)})).join("");var r={type:e.type,content:a.stringify(e.content,n,i),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:i};if("comment"===r.type&&(r.attributes.spellcheck="true"),e.alias){var s="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(r.classes,s)}t.hooks.run("wrap",r);var o="";for(var c in r.attributes)o+=(o?" ":"")+c+'="'+(r.attributes[c]||"")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'" '+o+">"+r.content+"</"+r.tag+">"},!l.document)return l.addEventListener?(l.addEventListener("message",(function(e){var a=JSON.parse(e.data),n=a.language,i=a.code,r=a.immediateClose;l.postMessage(t.highlight(i,t.languages[n],n)),r&&l.close()}),!1),l.Prism):l.Prism}();e.exports&&(e.exports=d),void 0!==r&&(r.Prism=d),d.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},d.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),d.languages.xml=d.languages.markup,d.languages.html=d.languages.markup,d.languages.mathml=d.languages.markup,d.languages.svg=d.languages.markup,d.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},d.languages.css.atrule.inside.rest=d.util.clone(d.languages.css),d.languages.markup&&(d.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:d.languages.markup.tag.inside},rest:d.languages.css},alias:"language-css"}}),d.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:d.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:d.languages.css}},alias:"language-css"}},d.languages.markup.tag)),d.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},d.languages.javascript=d.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),d.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),d.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:d.languages.javascript}},string:/[\s\S]+/}}}),d.languages.markup&&d.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:d.languages.markup.tag.inside},rest:d.languages.javascript},alias:"language-javascript"}}),d.languages.js=d.languages.javascript,d.languages.c=d.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),d.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete d.languages.c["class-name"],delete d.languages.c.boolean,d.languages.csharp=d.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),d.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),d.languages.cpp=d.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,boolean:/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),d.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),d.languages.java=d.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),d.languages.php=d.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),d.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),d.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),d.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),d.languages.markup&&(d.hooks.add("before-highlight",(function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,(function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"})))})),d.hooks.add("before-insert",(function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)})),d.hooks.add("after-highlight",(function(e){if("php"===e.language){for(var t=0,a=void 0;a=e.tokenStack[t];t++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(t+1)+"}}}",d.highlight(a,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}})),d.hooks.add("wrap",(function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))})),d.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:d.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),d.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(d);var f=function(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")},m=function(e){return function(t,a){return e(a)}},g=function(e){var t=e.selection.getNode();return f(t)?t:null},h=g,p=function(e,t,n){e.undoManager.transact((function(){var i=g(e);n=a.DOM.encode(n),i?(e.dom.setAttrib(i,"class","language-"+t),i.innerHTML=n,d.highlightElement(i),e.selection.select(i)):(e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0]))}))},v=function(e){return function(e){return e.settings.codesample_languages}(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]},b=function(e){var t=o(e),a=s(e),n=function(e){var t,a=h(e);return a&&(t=a.className.match(/language-(\w+)/))?t[1]:""}(e),i=v(e),r=function(e){var t=g(e);return t?t.textContent:""}(e);e.windowManager.open({title:"Insert/Edit code sample",minWidth:t,minHeight:a,layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:n,values:i},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:r,autofocus:!0}],onSubmit:function(t){p(e,t.data.language,t.data.code)}})},x=function(e,t,a,i){var n,s=function(e){return e.settings.codesample_content_css}(e);e.inline&&a.get()||!e.inline&&i.get()||(e.inline?a.set(!0):i.set(!0),!1!==s&&(n=e.dom.create("link",{rel:"stylesheet",href:s||t+"/css/prism.css"}),e.getDoc().getElementsByTagName("head")[0].appendChild(n)))},y=t(!1);n.add("codesample",(function(e,a){var n=t(!1);(function(e){var t=e.$;e.on("PreProcess",(function(e){t("pre[contenteditable=false]",e.node).filter(m(f)).each((function(e,a){var n=t(a),i=a.textContent;n.attr("class",t.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(t("<code></code>").each((function(){this.textContent=i})))}))})),e.on("SetContent",(function(){var a=t("pre").filter(m(f)).filter((function(e,t){return"false"!==t.contentEditable}));a.length&&e.undoManager.transact((function(){a.each((function(a,n){t(n).find("br").each((function(t,a){a.parentNode.replaceChild(e.getDoc().createTextNode("\n"),a)})),n.contentEditable=!1,n.innerHTML=e.dom.encode(n.textContent),d.highlightElement(n),n.className=t.trim(n.className)}))}))}))})(e),function(e){e.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),e.addMenuItem("codesample",{cmd:"codesample",text:"Code sample",icon:"codesample"})}(e),function(e){e.addCommand("codesample",(function(){var t=e.selection.getNode();e.selection.isCollapsed()||f(t)?b(e):e.formatter.toggle("code")}))}(e),e.on("init",(function(){x(e,a,y,n)})),e.on("dblclick",(function(t){f(t.target)&&b(e)}))}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=function(e){return e.getParam("code_dialog_height",Math.min(t.DOM.getViewPort().h-200,500))},r=function(e){var t=function(e){return e.getParam("code_dialog_width",600)}(e),r=n(e);e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:t,minHeight:r,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(t){!function(e,t){e.focus(),e.undoManager.transact((function(){e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()}(e,t.data.code)}}).find("#code").value(function(e){return e.getContent({source_view:!0})}(e))};e.add("code",(function(e){return function(e){e.addCommand("mceCodeEditor",(function(){r(e)}))}(e),function(e){e.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){r(e)}}),e.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){r(e)}})}(e),{}}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(e,t){var i=function(e,t){return e.fire("insertCustomChar",{chr:t})}(e,t).chr;e.execCommand("mceInsertContent",!1,i)},i=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=i.isArray,n=function(e){return t(e)?[].concat((n=e,i.grep(n,(function(e){return t(e)&&2===e.length})))):"function"==typeof e?e():[];var n},r=function(e){return function(e,t){var a=function(e){return e.settings.charmap}(e);a&&(t=n(a));var i=function(e){return e.settings.charmap_append}(e);return i?[].concat(t).concat(n(i)):t}(e,[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]])},u=function(e){var t,a,i,n=Math.min(e.length,25),r=Math.ceil(e.length/n);for(t='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>',i=0;i<r;i++){for(t+="<tr>",a=0;a<n;a++){var o=i*n+a;if(o<e.length){var c=e[o],l=parseInt(c[0],10),s=c?String.fromCharCode(l):"&nbsp;";t+='<td title="'+c[1]+'"><div tabindex="-1" title="'+c[1]+'" role="button" data-chr="'+l+'">'+s+"</div></td>"}else t+="<td />"}t+="</tr>"}return t+"</tbody></table>"},o=function(e){for(;e;){if("TD"===e.nodeName)return e;e=e.parentNode}},g=function(e){e.addCommand("mceShowCharmap",(function(){!function(e){var t,i={type:"container",html:u(r(e)),onclick:function(i){var n=i.target;if(/^(TD|DIV)$/.test(n.nodeName)){var r=o(n).firstChild;if(r&&r.hasAttribute("data-chr")){var c=r.getAttribute("data-chr"),l=parseInt(c,10);isNaN(l)||a(e,String.fromCharCode(l)),i.ctrlKey||t.close()}}},onmouseover:function(e){var a=o(e.target);a&&a.firstChild?(t.find("#preview").text(a.firstChild.firstChild.data),t.find("#previewTitle").text(a.title)):(t.find("#preview").text(" "),t.find("#previewTitle").text(" "))}};t=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[i,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){t.close()}}]})}(e)}))};e.add("charmap",(function(e){return g(e),function(e){e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"})}(e),function(e){return{getCharMap:function(){return r(e)},insertChar:function(t){a(e,t)}}}(e)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(e){e=t.trim(e);var n=function(t,n){e=e.replace(t,n)};return n(/\n/gi,"<br />"),n(/\[b\]/gi,"<strong>"),n(/\[\/b\]/gi,"</strong>"),n(/\[i\]/gi,"<em>"),n(/\[\/i\]/gi,"</em>"),n(/\[u\]/gi,"<u>"),n(/\[\/u\]/gi,"</u>"),n(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),n(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),n(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),n(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),n(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),n(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e};e.add("bbcode",(function(){return{init:function(e){e.on("beforeSetContent",(function(e){e.content=i(e.content)})),e.on("postProcess",(function(e){e.set&&(e.content=i(e.content)),e.get&&(e.content=function(e){e=t.trim(e);var n=function(t,n){e=e.replace(t,n)};return n(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),n(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),n(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),n(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),n(/<font>(.*?)<\/font>/gi,"$1"),n(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),n(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),n(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),n(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),n(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),n(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),n(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),n(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),n(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),n(/<\/(strong|b)>/gi,"[/b]"),n(/<(strong|b)>/gi,"[b]"),n(/<\/(em|i)>/gi,"[/i]"),n(/<(em|i)>/gi,"[i]"),n(/<\/u>/gi,"[/u]"),n(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),n(/<u>/gi,"[u]"),n(/<blockquote[^>]*>/gi,"[quote]"),n(/<\/blockquote>/gi,"[/quote]"),n(/<br \/>/gi,"\n"),n(/<br\/>/gi,"\n"),n(/<br>/gi,"\n"),n(/<p>/gi,""),n(/<\/p>/gi,"\n"),n(/&nbsp;|\u00a0/gi," "),n(/&quot;/gi,'"'),n(/&lt;/gi,"<"),n(/&gt;/gi,">"),n(/&amp;/gi,"&"),e}(e.content))}))}}}))}(),function(){"use strict";var e=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(e,t){return((e=/^(\d+)([ms]?)$/.exec(""+(e||t)))[2]?{s:1e3,m:6e4}[e[2]]:1)*parseInt(e,10)},o=function(e){var t=e.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-");return(t=(t=(t=t.replace(/\{path\}/g,document.location.pathname)).replace(/\{query\}/g,document.location.search)).replace(/\{hash\}/g,document.location.hash)).replace(/\{id\}/g,e.id)},c=function(e,t){var n=e.settings.forced_root_block;return""===(t=r.trim(void 0===t?e.getBody().innerHTML:t))||new RegExp("^<"+n+"[^>]*>(( |&nbsp;|[ \t]|<br[^>]*>)+?|)</"+n+">|<br>$","i").test(t)},l=function(e){var t=parseInt(n.getItem(o(e)+"time"),10)||0;return!((new Date).getTime()-t>function(e){return s(e.settings.autosave_retention,"20m")}(e)&&(d(e,!1),1))},d=function(e,t){var r=o(e);n.removeItem(r+"draft"),n.removeItem(r+"time"),!1!==t&&function(e){e.fire("RemoveDraft")}(e)},f=function(e){var t=o(e);!c(e)&&e.isDirty()&&(n.setItem(t+"draft",e.getContent({format:"raw",no_events:!0})),n.setItem(t+"time",(new Date).getTime().toString()),function(e){e.fire("StoreDraft")}(e))},g=function(e){var t=o(e);l(e)&&(e.setContent(n.getItem(t+"draft"),{format:"raw"}),function(e){e.fire("RestoreDraft")}(e))},m={isEmpty:c,hasDraft:l,removeDraft:d,storeDraft:f,restoreDraft:g,startStoreDraft:function(e,t){var n=function(e){return s(e.settings.autosave_interval,"30s")}(e);t.get()||(setInterval((function(){e.removed||f(e)}),n),t.set(!0))},restoreLastDraft:function(e){e.undoManager.transact((function(){g(e),d(e)})),e.focus()}},p=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[t].concat(n))}},h=tinymce.util.Tools.resolve("tinymce.EditorManager");h._beforeUnloadHandler=function(){var e;return r.each(h.get(),(function(t){t.plugins.autosave&&t.plugins.autosave.storeDraft(),!e&&t.isDirty()&&function(e){return e.getParam("autosave_ask_before_unload",!0)}(t)&&(e=t.translate("You have unsaved changes are you sure you want to navigate away?"))})),e};var v=function(e,t){return function(n){var r=n.control;r.disabled(!m.hasDraft(e)),e.on("StoreDraft RestoreDraft RemoveDraft",(function(){r.disabled(!m.hasDraft(e))})),m.startStoreDraft(e,t)}};t.add("autosave",(function(t){var n=e(!1);return window.onbeforeunload=h._beforeUnloadHandler,function(e,t){e.addButton("restoredraft",{title:"Restore last draft",onclick:function(){m.restoreLastDraft(e)},onPostRender:v(e,t)}),e.addMenuItem("restoredraft",{text:"Restore last draft",onclick:function(){m.restoreLastDraft(e)},onPostRender:v(e,t),context:"file"})}(t,n),function(e){return{hasDraft:p(m.hasDraft,e),storeDraft:p(m.storeDraft,e),restoreDraft:p(m.restoreDraft,e),removeDraft:p(m.removeDraft,e),isEmpty:p(m.isEmpty,e)}}(t)}))}(),function(){"use strict";var e=function e(t){var n=t,i=function(){return n};return{get:i,set:function(e){n=e},clone:function(){return e(i())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),r=function(e){return parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10)},o=function e(t,n,r,o,l){i.setEditorTimeout(t,(function(){c(t,n),r--?e(t,n,r,o,l):l&&l()}),o)},g=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},c=function e(t,o){var i,a,u,s,c,l,d,f,p,m,h,v=t.dom;if(a=t.getDoc())if((x=t).plugins.fullscreen&&x.plugins.fullscreen.isFullscreen())g(t,!0);else{var x;u=a.body,s=r(t),l=v.getStyle(u,"margin-top",!0),d=v.getStyle(u,"margin-bottom",!0),f=v.getStyle(u,"padding-top",!0),p=v.getStyle(u,"padding-bottom",!0),m=v.getStyle(u,"border-top-width",!0),h=v.getStyle(u,"border-bottom-width",!0),c=u.offsetHeight+parseInt(l,10)+parseInt(d,10)+parseInt(f,10)+parseInt(p,10)+parseInt(m,10)+parseInt(h,10),(isNaN(c)||c<=0)&&(c=n.ie?u.scrollHeight:n.webkit&&0===u.clientHeight?0:u.offsetHeight),c>r(t)&&(s=c);var y=function(e){return parseInt(e.getParam("autoresize_max_height",0),10)}(t);y&&c>y?(s=y,g(t,!0)):g(t,!1),s!==o.get()&&(i=s-o.get(),v.setStyle(t.iframeElement,"height",s+"px"),o.set(s),n.webkit&&i<0&&e(t,o))}},l={setup:function(e,t){e.on("init",(function(){var t,n,i=e.dom;t=function(e){return e.getParam("autoresize_overflow_padding",1)}(e),n=function(e){return e.getParam("autoresize_bottom_margin",50)}(e),!1!==t&&i.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),!1!==n&&i.setStyles(e.getBody(),{paddingBottom:n})})),e.on("nodechange setcontent keyup FullscreenStateChanged",(function(n){c(e,t)})),function(e){return e.getParam("autoresize_on_init",!0)}(e)&&e.on("init",(function(){o(e,t,20,100,(function(){o(e,t,5,1e3)}))}))},resize:c};t.add("autoresize",(function(t){if(!t.inline){var n=e(0);(function(e,t){e.addCommand("mceAutoResize",(function(){l.resize(e,t)}))})(t,n),l.setup(t,n)}}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e,t){if(t<0&&(t=0),3===e.nodeType){var n=e.data.length;t>n&&(t=n)}return t},r=function(e,t,r){1!==t.nodeType||t.hasChildNodes()?e.setStart(t,n(t,r)):e.setStartBefore(t)},a=function(e,t,r){1!==t.nodeType||t.hasChildNodes()?e.setEnd(t,n(t,r)):e.setEndAfter(t)},o=function(e,t,n){var o,c,s,l,d,u,g,f,m,h,v=function(e){return e.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)}(e),x=function(e){return e.getParam("default_link_target","")}(e);if("A"!==e.selection.getNode().tagName){if((o=e.selection.getRng(!0).cloneRange()).startOffset<5){if(!(f=o.endContainer.previousSibling)){if(!o.endContainer.firstChild||!o.endContainer.firstChild.nextSibling)return;f=o.endContainer.firstChild.nextSibling}if(m=f.length,r(o,f,m),a(o,f,m),o.endOffset<5)return;c=o.endOffset,l=f}else{if(3!==(l=o.endContainer).nodeType&&l.firstChild){for(;3!==l.nodeType&&l.firstChild;)l=l.firstChild;3===l.nodeType&&(r(o,l,0),a(o,l,l.nodeValue.length))}c=1===o.endOffset?2:o.endOffset-1-t}s=c;do{r(o,l,c>=2?c-2:0),a(o,l,c>=1?c-1:0),c-=1,h=o.toString()}while(" "!==h&&""!==h&&160!==h.charCodeAt(0)&&c-2>=0&&h!==n);var p;(p=o.toString())===n||" "===p||160===p.charCodeAt(0)?(r(o,l,c),a(o,l,s),c+=1):0===o.startOffset?(r(o,l,0),a(o,l,s)):(r(o,l,c),a(o,l,s)),"."===(u=o.toString()).charAt(u.length-1)&&a(o,l,s-1),(g=(u=o.toString().trim()).match(v))&&("www."===g[1]?g[1]="http://www.":/@$/.test(g[1])&&!/^mailto:/.test(g[1])&&(g[1]="mailto:"+g[1]),d=e.selection.getBookmark(),e.selection.setRng(o),e.execCommand("createlink",!1,g[1]+g[2]),x&&e.dom.setAttrib(e.selection.getNode(),"target",x),e.selection.moveToBookmark(d),e.nodeChanged())}};e.add("autolink",(function(e){!function(e){var n;e.on("keydown",(function(t){13!==t.keyCode||o(e,-1,"")})),t.ie?e.on("focus",(function(){if(!n){n=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}})):(e.on("keypress",(function(t){41!==t.keyCode||o(e,-1,"(")})),e.on("keyup",(function(t){32!==t.keyCode||o(e,0,"")})))}(e)}))}(),function(){"use strict";var e=function(e){var t=function(e){var t=e.selection.getNode();return"A"===t.tagName&&""===e.dom.getAttrib(t,"href")?t.id||t.name:""}(e);e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:t},onsubmit:function(t){var n,a,r,i=t.data.id;n=e,r=a=i,(/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(r)?(function(e,t){var n=e.selection.getNode();"A"===n.tagName&&""===e.dom.getAttrib(n,"href")?(n.removeAttribute("name"),n.id=t):(e.focus(),e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:t})))}(n,a),0):(n.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),1))&&t.preventDefault()}})},a=function(e){return function(t){for(var n=0;n<t.length;n++)(r=t[n]).attr("href")||!r.attr("id")&&!r.attr("name")||r.firstChild||t[n].attr("contenteditable",e);var r}};tinymce.util.Tools.resolve("tinymce.PluginManager").add("anchor",(function(t){(function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("a",a("false")),e.serializer.addNodeFilter("a",a(null))}))})(t),function(t){t.addCommand("mceAnchor",(function(){e(t)}))}(t),function(e){e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})}(t)}))}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})},r=function(e){e.addCommand("ApplyUnorderedListStyle",(function(t,r){n(e,"UL",r["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",(function(t,r){n(e,"OL",r["list-style-type"])}))},o=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},u=function(e){return t.map(e,(function(e){return{text:e.replace(/\-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()})),data:"default"===e?"":e}}))},c=function(e,n){return function(r){var c=r.control;e.on("NodeChange",(function(r){var i=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(r.parents,o),s=-1!==i?r.parents.slice(0,i):r.parents,u=t.grep(s,function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(r=t,(n=e).$.contains(n.getBody(),r));var n,r}}(e));c.active(u.length>0&&u[0].nodeName===n)}))}},l=function(e,t,r,o,i,l){var a;e.addButton(t,{active:!1,type:"splitbutton",tooltip:r,menu:u(l),onPostRender:c(e,i),onshow:(a=e,function(e){var t=function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul");return e.dom.getStyle(t,"listStyleType")||""}(a);e.control.items().each((function(e){e.active(e.settings.data===t)}))}),onselect:function(t){n(e,i,t.control.settings.data)},onclick:function(){e.execCommand(o)}})},p=function(e,t,n,r,o,i){var d,a,s,u,p;i.length>0?l(e,t,n,r,o,i):(a=t,s=n,u=r,p=o,(d=e).addButton(a,{active:!1,type:"button",tooltip:s,onPostRender:c(d,p),onclick:function(){d.execCommand(u)}}))},d=function(e){p(e,"numlist","Numbered list","InsertOrderedList","OL",function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]}(e)),p(e,"bullist","Bullet list","InsertUnorderedList","UL",function(e){var t=e.getParam("advlist_bullet_styles","default,circle,disc,square");return t?t.split(/[ ,]/):[]}(e))};e.add("advlist",(function(e){var n,i;i=(n=e).settings.plugins?n.settings.plugins:"",-1!==t.inArray(i.split(/[ ,]/),"lists")&&(d(e),r(e))}))}(),function(){"use strict";var e,t,n,i,r,c=tinymce.util.Tools.resolve("tinymce.ThemeManager"),s=tinymce.util.Tools.resolve("tinymce.EditorManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(e){return!1!==u(e)},u=function(e){return e.getParam("menubar")},d=function(e){return e.getParam("toolbar_items_size")},f=function(e){return e.getParam("menu")},m=function(e){return!1===e.settings.skin},h=function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},v=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=tinymce.util.Tools.resolve("tinymce.ui.Factory"),p=tinymce.util.Tools.resolve("tinymce.util.I18n"),b=function(e){return e.fire("ResizeEditor")},x=function(e){return e.fire("BeforeRenderUI")},y=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},w=function(e,t){e.shortcuts.add("Alt+F9","",y(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",y(t,"toolbar")),e.shortcuts.add("Alt+F11","",y(t,"elementpath")),t.on("cancel",(function(){e.focus()}))},k=tinymce.util.Tools.resolve("tinymce.Env"),C=tinymce.util.Tools.resolve("tinymce.geom.Rect"),_=tinymce.util.Tools.resolve("tinymce.util.Delay"),S=function(e){return function(){return e}},E={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:S,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var r=t.concat(n);return e.apply(null,r)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:S(!1),always:S(!0)},T=E.never,N=E.always,R=function(){return A},A=(i={fold:function(e,t){return e()},is:T,isSome:T,isNone:N,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:R,ap:R,each:function(){},bind:R,flatten:R,exists:T,forall:N,filter:R,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:E.constant("none()")},Object.freeze&&Object.freeze(i),i),D=function e(t){var n=function(){return t},r=function(){return o},i=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:N,isNone:T,getOr:n,getOrThunk:n,getOrDie:n,or:r,orThunk:r,map:function(n){return e(n(t))},ap:function(n){return n.fold(R,(function(n){return e(n(t))}))},each:function(e){e(t)},bind:i,flatten:n,exists:i,forall:i,filter:function(e){return e(t)?o:A},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(T,(function(e){return n(t,e)}))},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},P=D,O=R,M=function(e){return null==e?A:D(e)},B=function(){var e=k.container;if(e&&"static"!==v.DOM.getStyle(e,"position",!0)){var t=v.DOM.getPos(e),n=e.scrollLeft-t.x,i=e.scrollTop-t.y;return P({x:n,y:i})}return O()},I=function(e,t,n){var i,r=[];if(t)return a.each(t.split(/[ ,]/),(function(t){var o,s=function(){var n=e.selection;t.settings.stateSelector&&n.selectorChanged(t.settings.stateSelector,(function(e){t.active(e)}),!0),t.settings.disabledStateSelector&&n.selectorChanged(t.settings.disabledStateSelector,(function(e){t.disabled(e)}))};"|"===t?i=null:(i||(i={type:"buttongroup",items:[]},r.push(i)),e.buttons[t]&&(o=t,"function"==typeof(t=e.buttons[o])&&(t=t()),t.type=t.type||"button",t.size=n,t=g.create(t),i.items.push(t),e.initialized?s():e.on("init",s)))})),{type:"toolbar",layout:"flow",items:r}},z=I,L=function(e,t){var n,i,r=[];if(a.each(!1===(i=(n=e).getParam("toolbar"))?[]:a.isArray(i)?a.grep(i,(function(e){return e.length>0})):function(e,t){for(var n=[],i=1;i<10;i++){var r=e["toolbar"+i];if(!r)break;n.push(r)}var o=e.toolbar?[e.toolbar]:["undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"];return n.length>0?n:o}(n.settings),(function(n){var i;(i=n)&&r.push(I(e,i,t))})),r.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:r}},H=v.DOM,F=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},j=function(e,t){e.moveTo(t.left,t.top)},U=function(e,t,n,i,r,o){return o=F({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:F(i),contentAreaRect:F(r),panelRect:o})),o},W=function(e){var t,n=function(){return e.contextToolbars||[]},i=function(t,n){var i,r,o,s,c,u,l,d=e.getParam("inline_toolbar_position_handler");if(!e.removed){if(!t||!t.toolbar.panel)return f=e,void a.each(f.contextToolbars,(function(e){e.panel&&e.panel.hide()}));var f,m,h,g,p;l=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],c=t.toolbar.panel,n&&c.show(),m=t.element,h=H.getPos(e.getContentAreaContainer()),g=e.dom.getRect(m),"BODY"===(p=e.dom.getRoot()).nodeName&&(g.x-=p.ownerDocument.documentElement.scrollLeft||p.scrollLeft,g.y-=p.ownerDocument.documentElement.scrollTop||p.scrollTop),g.x+=h.x,g.y+=h.y,o=g,r=H.getRect(c.getEl()),s=H.getRect(e.getContentAreaContainer()||e.getBody());var v,b,x,y=B().getOr({x:0,y:0});if(o.x+=y.x,o.y+=y.y,r.x+=y.x,r.y+=y.y,s.x+=y.x,s.y+=y.y,"inline"!==H.getStyle(t.element,"display",!0)){var w=t.element.getBoundingClientRect();o.w=w.width,o.h=w.height}e.inline||(s.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&o.w<25&&(o=C.inflate(o,0,8)),i=C.findBestRelativePosition(r,o,s,l),o=C.clamp(o,s),i?(u=C.relativePosition(r,o,i),j(c,U(d,u.x,u.y,o,s,r))):(s.h+=r.h,(o=C.intersect(s,o))?(i=C.findBestRelativePosition(r,o,s,["bc-tc","bl-tl","br-tr"]))?(u=C.relativePosition(r,o,i),j(c,U(d,u.x,u.y,o,s,r))):j(c,U(d,o.x,o.y,o,s,r)):c.hide()),v=c,x=function(e,t){return e===t},b=(b=i)?b.substr(0,2):"",a.each({t:"down",b:"up"},(function(e,t){v.classes.toggle("arrow-"+e,x(t,b.substr(0,1)))})),a.each({l:"left",r:"right"},(function(e,t){v.classes.toggle("arrow-"+e,x(t,b.substr(1,1)))}))}},r=function(t){return function(){_.requestAnimationFrame((function(){e.selection&&i(c(e.selection.getNode()),t)}))}},o=function(n){var o;if(n.toolbar.panel)return n.toolbar.panel.show(),void i(n);!function(){if(!t){var n=r(!0);t=e.selection.getScrollContainer()||e.getWin(),H.bind(t,"scroll",n),H.bind(k.container,"scroll",n),e.on("remove",(function(){H.unbind(t,"scroll",n),H.unbind(k.container,"scroll",n)}))}}(),o=g.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:z(e,n.toolbar.items),oncancel:function(){e.focus()}}),n.toolbar.panel=o,o.renderTo().reflow(),i(n)},s=function(){a.each(n(),(function(e){e.panel&&e.panel.hide()}))},c=function(t){var i,r,o,s=n();for(i=(o=e.$(t).parents().add(t)).length-1;i>=0;i--)for(r=s.length-1;r>=0;r--)if(s[r].predicate(o[i]))return{toolbar:s[r],element:o[i]};return null};e.on("click keyup setContent ObjectResized",(function(t){("setcontent"!==t.type||t.selection)&&_.setEditorTimeout(e,(function(){var t;(t=c(e.selection.getNode()))?(s(),o(t)):s()}))})),e.on("blur hide contextmenu",s),e.on("ObjectResizeStart",(function(){var t=c(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()})),e.on("ResizeEditor ResizeWindow",r(!0)),e.on("nodeChange",r(!1)),e.on("remove",(function(){a.each(n(),(function(e){e.panel&&e.panel.remove()})),e.contextToolbars={}})),e.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",(function(){var t=c(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()}))},$=void 0===(r=Array.prototype.indexOf)?function(e,t){return X(e,t)}:function(e,t){return r.call(e,t)},V=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r,e)}return i},G=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)},q=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},Y=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n,e))return P(n);return O()},X=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},J=Array.prototype.push,K=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);J.apply(t,e[n])}return t},Z=(Array.prototype.slice,V),Q=G,ee=q,te=function(e,t){var n=$(e,t);return-1===n?O():P(n)},ne=function(e,t,n){return G(e,(function(e){n=t(n,e)})),n},re=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n,e))return P(r)}return O()},oe=Y,ie=K,ae=function(e,t){return Y(e,t).isSome()},se={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},ce=function(e,t){return"|"===e?{name:"|",item:{text:"|"}}:t?{name:e,item:t}:null},le=function(e){return e&&"|"===e.item.text},ue=function(e,t,n,i){var r,o,s,c,l,d,f;return t?(o=t[i],c=!0):o=se[i],o&&(r={text:o.title},s=[],a.each((o.items||"").split(/[ ,]/),(function(t){var n=ce(t,e[t]);n&&s.push(n)})),c||a.each(e,(function(e,t){var n;e.context!==i||(n=t,oe(s,(function(e){return e.name===n})).isSome())||("before"===e.separator&&s.push({name:"|",item:{text:"|"}}),e.prependToContext?s.unshift(ce(t,e)):s.push(ce(t,e)),"after"===e.separator&&s.push({name:"|",item:{text:"|"}}))})),r.menu=Z((l=n,d=ee(s,(function(e){return!1===l.hasOwnProperty(e.name)})),f=ee(d,(function(e,t,n){return!le(e)||!le(n[t-1])})),ee(f,(function(e,t,n){return!le(e)||t>0&&t<n.length-1}))),(function(e){return e.item})),!r.menu.length)?null:r},de=function(e){for(var t,n=[],i=function(e){var t,n=[],i=f(e);if(i)for(t in i)n.push(t);else for(t in se)n.push(t);return n}(e),r=a.makeMap((t=e,t.getParam("removed_menuitems","")).split(/[ ,]/)),o=u(e),s="string"==typeof o?o.split(/[ ,]/):i,c=0;c<s.length;c++){var l=s[c],d=ue(e.menuItems,f(e),r,l);d&&n.push(d)}return n},fe=v.DOM,pe=function(e){return{width:e.clientWidth,height:e.clientHeight}},me=function(e,t,n){var i,r,o,s;i=e.getContainer(),r=e.getContentAreaContainer().firstChild,o=pe(i),s=pe(r),null!==t&&(t=Math.max(e.getParam("min_width",100,"number"),t),t=Math.min(e.getParam("max_width",65535,"number"),t),fe.setStyle(i,"width",t+(o.width-s.width)),fe.setStyle(r,"width",t)),n=Math.max(e.getParam("min_height",100,"number"),n),n=Math.min(e.getParam("max_height",65535,"number"),n),fe.setStyle(r,"height",n),b(e)},he=me,ge=function(e,t,n){var i,r=e.settings[n];r&&r((i=t.getEl("body"),{element:function(){return i}}))},be=function(e,t,n){return function(i){var r,o,s,c,u,l=i.control,d=l.parents().filter("panel")[0],f=d.find("#"+t)[0],m=(r=n,o=t,a.grep(r,(function(e){return e.name===o}))[0]);s=t,c=d,u=n,a.each(u,(function(e){var t=c.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==s&&(ge(e,t,"onhide"),t.visible(!1))})),l.parent().items().each((function(e){e.active(!1)})),f&&f.visible()?(ge(m,f,"onhide"),f.hide(),l.active(!1)):(f?(f.show(),ge(m,f,"onshow")):(f=g.create({type:"container",name:t,layout:"stack",classes:"sidebar-panel",html:""}),d.prepend(f),ge(m,f,"onrender"),ge(m,f,"onshow")),l.active(!0)),b(e)}},ve=function(e){return!(k.ie&&!(k.ie>=11)||!e.sidebars)&&e.sidebars.length>0},xe=function(e){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:a.map(e.sidebars,(function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:be(e,t.name,e.sidebars)}}))}]}},ye=function(e){var t=function(){e._skinLoaded=!0,function(e){e.fire("SkinLoaded")}(e)};return function(){e.initialized?t():e.on("init",t)}},we=v.DOM,ke=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},Ce=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),_e=0,Se={id:function(){return"mceu_"+_e++},create:function(e,t,n){var i=document.createElement(e);return v.DOM.setAttribs(i,t),"string"==typeof n?i.innerHTML=n:a.each(n,(function(e){e.nodeType&&i.appendChild(e)})),i},createFragment:function(e){return v.DOM.createFragment(e)},getWindowSize:function(){return v.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return v.DOM.getPos(e,t||Se.getContainer())},getContainer:function(){return k.container?k.container:document.body},getViewPort:function(e){return v.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return v.DOM.addClass(e,t)},removeClass:function(e,t){return v.DOM.removeClass(e,t)},hasClass:function(e,t){return v.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return v.DOM.toggleClass(e,t,n)},css:function(e,t,n){return v.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return v.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return v.DOM.bind(e,t,n,i)},off:function(e,t,n){return v.DOM.unbind(e,t,n)},fire:function(e,t,n){return v.DOM.fire(e,t,n)},innerHtml:function(e,t){v.DOM.setHTML(e,t)}};function Ee(e,t,n){var i,r,o,s,a,c,u,l,d,f;return d=Se.getViewPort(),o=(r=Se.getPos(t)).x,s=r.y,e.state.get("fixed")&&"static"===Se.getRuntimeStyle(document.body,"position")&&(o-=d.x,s-=d.y),i=e.getEl(),a=(f=Se.getSize(i)).width,c=f.height,u=(f=Se.getSize(t)).width,l=f.height,"b"===(n=(n||"").split(""))[0]&&(s+=l),"r"===n[1]&&(o+=u),"c"===n[0]&&(s+=Math.round(l/2)),"c"===n[1]&&(o+=Math.round(u/2)),"b"===n[3]&&(s-=c),"r"===n[4]&&(o-=a),"c"===n[3]&&(s-=Math.round(c/2)),"c"===n[4]&&(o-=Math.round(a/2)),{x:o,y:s,w:a,h:c}}var Te={testMoveRel:function(e,t){for(var n=Se.getViewPort(),i=0;i<t.length;i++){var r=Ee(this,e,t[i]);if(this.state.get("fixed")){if(r.x>0&&r.x+r.w<n.w&&r.y>0&&r.y+r.h<n.h)return t[i]}else if(r.x>n.x&&r.x+r.w<n.w+n.x&&r.y>n.y&&r.y+r.h<n.h+n.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=Ee(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){var n=this;function i(e,t,n){return e<0||e+n>t&&(e=t-n)<0?0:e}if(n.settings.constrainToViewport){var r=Se.getViewPort(window),o=n.layoutRect();e=i(e,r.w+r.x,o.w),t=i(t,r.h+r.y,o.h)}return n.state.get("rendered")?n.layoutRect({x:e,y:t}).repaint():(n.settings.x=e,n.settings.y=t),n.fire("move",{x:e,y:t}),n}},Ne=tinymce.util.Tools.resolve("tinymce.util.Class"),Re=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Ae=function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},De=function(e,t){function n(t){var n=parseFloat(function(t){var n=e.ownerDocument.defaultView;if(n){var i=n.getComputedStyle(e,null);return i?(t=t.replace(/[A-Z]/g,(function(e){return"-"+e})),i.getPropertyValue(t)):null}return e.currentStyle[t]}(t));return isNaN(n)?0:n}return{top:n(t+"TopWidth"),right:n(t+"RightWidth"),bottom:n(t+"BottomWidth"),left:n(t+"LeftWidth")}};function Pe(){}function Oe(e){this.cls=[],this.cls._map={},this.onchange=e||Pe,this.prefix=""}a.extend(Oe.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),Oe.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e};var Me,Be,Ie,ze=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,Le=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,He=/^\s*|\s*$/g,Fe=Ne.extend({init:function(e){var t=this.match;function n(e,n,r){var o;function s(e){e&&n.push(e)}return s(function(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}((o=ze.exec(e.replace(He,"")))[1])),s(function(e){if(e)return function(t){return t._name===e}}(o[2])),s(function(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(o[3])),s(function(e,t,n){if(e)return function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!==n:"^="===t?0===r.indexOf(n):"$="===t&&r.substr(r.length-n.length)===n:!!n}}(o[4],o[5],o[6])),s(function(e){var n;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(n=i(e[1],[]),function(e){return!t(e,n)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}(o[7])),n.pseudo=!!o[7],n.direct=r,n}function i(e,t){var r,o,s,a=[];do{if(Le.exec(""),(o=Le.exec(e))&&(e=o[3],a.push(o[1]),o[2])){r=o[3];break}}while(o);for(r&&i(r,t),e=[],s=0;s<a.length;s++)">"!==a[s]&&e.push(n(a[s],[],">"===a[s-1]));return t.push(e),t}this._selectors=i(e,[])},match:function(e,t){var n,i,r,o,s,a,c,u,l,d,f,m,h;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(h=e,m=0,r=(o=(s=t[n]).length)-1;r>=0;r--)for(u=s[r];h;){if(u.pseudo)for(l=d=(f=h.parent().items()).length;l--&&f[l]!==h;);for(a=0,c=u.length;a<c;a++)if(!u[a](h,l,d)){a=c+1;break}if(a===c){m++;break}if(r===o-1)break;h=h.parent()}if(m===o)return!0}return!1},find:function(e){var t,n,i=[],r=this._selectors;function o(e,t,n){var r,s,a,c,u,l=t[n];for(r=0,s=e.length;r<s;r++){for(u=e[r],a=0,c=l.length;a<c;a++)if(!l[a](u,r,s)){a=c+1;break}if(a===c)n===t.length-1?i.push(u):u.items&&o(u.items(),t,n+1);else if(l.direct)return;u.items&&o(u.items(),t,n)}}if(e.items){for(t=0,n=r.length;t<n;t++)o(e.items(),r[t],0);n>1&&(i=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(i))}return Me||(Me=Fe.Collection),new Me(i)}}),je=Array.prototype.push,Ue=Array.prototype.slice;Ie={length:0,init:function(e){e&&this.add(e)},add:function(e){return a.isArray(e)?je.apply(this,e):e instanceof Be?this.add(e.toArray()):je.call(this,e),this},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(e){var t,n,i,r,o=[];for("string"==typeof e?(e=new Fe(e),r=function(t){return e.match(t)}):r=e,t=0,n=this.length;t<n;t++)r(i=this[t])&&o.push(i);return new Be(o)},slice:function(){return new Be(Ue.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return a.each(this,e),this},toArray:function(){return a.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new Be(a.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n;return void 0!==t?(this.each((function(n){n[e]&&n[e](t)})),this):(n=this[0])&&n[e]?n[e]():void 0},exec:function(e){var t=a.toArray(arguments).slice(1);return this.each((function(n){n[e]&&n[e].apply(n,t)})),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each((function(t){t.classes.add(e)}))},removeClass:function(e){return this.each((function(t){t.classes.remove(e)}))}},a.each("fire on off show hide append prepend before after reflow".split(" "),(function(e){Ie[e]=function(){var t=a.toArray(arguments);return this.each((function(n){e in n&&n[e].apply(n,t)})),this}})),a.each("text name disabled active selected checked visible parent value data".split(" "),(function(e){Ie[e]=function(t){return this.prop(e,t)}})),Be=Ne.extend(Ie),Fe.Collection=Be;var We=Be,$e=function(e){this.create=e.create};$e.create=function(e,t){return new $e({create:function(n,i){var r,o=function(e){n.set(i,e.value)};return n.on("change:"+i,(function(n){e.set(t,n.value)})),e.on("change:"+t,o),(r=n._bindings)||(r=n._bindings=[],n.on("destroy",(function(){for(var e=r.length;e--;)r[e]()}))),r.push((function(){e.off("change:"+t,o)})),e.get(t)}})};var qe=tinymce.util.Tools.resolve("tinymce.util.Observable");function Ve(e){return e.nodeType>0}var Ge,Ye,Xe=Ne.extend({Mixins:[qe],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof $e&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i,r=this.data[e];if(t instanceof $e&&(t=t.create(this,e)),"object"==o(e)){for(n in e)this.set(n,e[n]);return this}return function e(t,n){var r,i;if(t===n)return!0;if(null===t||null===n)return t===n;if("object"!=o(t)||"object"!=o(n))return t===n;if(a.isArray(n)){if(t.length!==n.length)return!1;for(r=t.length;r--;)if(!e(t[r],n[r]))return!1}if(Ve(t)||Ve(n))return t===n;for(r in i={},n){if(!e(t[r],n[r]))return!1;i[r]=!0}for(r in t)if(!i[r]&&!e(t[r],n[r]))return!1;return!0}(r,t)||(this.data[e]=t,i={target:this,name:e,value:t,oldValue:r},this.fire("change:"+e,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return $e.create(this,e)},destroy:function(){this.fire("destroy")}}),Je={},Ke={add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;Je[t._id]||(Je[t._id]=t),Ge||(Ge=!0,_.requestAnimationFrame((function(){var e,t;for(e in Ge=!1,Je)(t=Je[e]).state.get("rendered")&&t.reflow();Je={}}),document.body))}},remove:function(e){Je[e._id]&&delete Je[e._id]}},Ze="onmousewheel"in document,Qe=0,et={Statics:{classPrefix:"mce-"},isRtl:function(){return Ye.rtl},classPrefix:"mce-",init:function(e){var t,n,i=this;function r(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}i.settings=e=a.extend({},i.Defaults,e),i._id=e.id||"mceu_"+Qe++,i._aria={role:e.role},i._elmCache={},i.$=Ce,i.state=new Xe({visible:!0,active:!1,disabled:!1,value:""}),i.data=new Xe(e.data),i.classes=new Oe((function(){i.state.get("rendered")&&(i.getEl().className=this.toString())})),i.classes.prefix=i.classPrefix,(t=e.classes)&&(i.Defaults&&(n=i.Defaults.classes)&&t!==n&&r(n),r(t)),a.each("title text name visible disabled active value".split(" "),(function(t){t in e&&i[t](e[t])})),i.on("click",(function(){if(i.disabled())return!1})),i.settings=e,i.borderBox=Ae(e.border),i.paddingBox=Ae(e.padding),i.marginBox=Ae(e.margin),e.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){return Se.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,o,s,a,c,u,l=this,d=l.settings,f=l.getEl();e=l.borderBox=l.borderBox||De(f,"border"),l.paddingBox=l.paddingBox||De(f,"padding"),l.marginBox=l.marginBox||De(f,"margin"),u=Se.getSize(f),a=d.minWidth,c=d.minHeight,r=a||u.width,o=c||u.height,n=d.width,i=d.height,s=void 0!==(s=d.autoResize)?s:!n&&!i,n=n||r,i=i||o;var m=e.left+e.right,h=e.top+e.bottom,g=d.maxWidth||65535,p=d.maxHeight||65535;return l._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:i,deltaW:m,deltaH:h,contentW:n-m,contentH:i-h,innerW:n-m,innerH:i-h,startMinWidth:a||0,startMinHeight:c||0,minW:Math.min(r,g),minH:Math.min(o,p),maxW:g,maxH:p,autoResize:s,scrollW:0},l._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,s=this,a=s._layoutRect;return a||(a=s.initLayoutRect()),e?(i=a.deltaW,r=a.deltaH,void 0!==e.x&&(a.x=e.x),void 0!==e.y&&(a.y=e.y),void 0!==e.minW&&(a.minW=e.minW),void 0!==e.minH&&(a.minH=e.minH),void 0!==(n=e.w)&&(n=(n=n<a.minW?a.minW:n)>a.maxW?a.maxW:n,a.w=n,a.innerW=n-i),void 0!==(n=e.h)&&(n=(n=n<a.minH?a.minH:n)>a.maxH?a.maxH:n,a.h=n,a.innerH=n-r),void 0!==(n=e.innerW)&&(n=(n=n<a.minW-i?a.minW-i:n)>a.maxW-i?a.maxW-i:n,a.innerW=n,a.w=n+i),void 0!==(n=e.innerH)&&(n=(n=n<a.minH-r?a.minH-r:n)>a.maxH-r?a.maxH-r:n,a.innerH=n,a.h=n+r),void 0!==e.contentW&&(a.contentW=e.contentW),void 0!==e.contentH&&(a.contentH=e.contentH),(t=s._lastLayoutRect).x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||((o=Ye.repaintControls)&&o.map&&!o.map[s._id]&&(o.push(s),o.map[s._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),s):a},repaint:function(){var e,t,n,i,r,o,s,a,c,u,l=this;c=document.createRange?function(e){return e}:Math.round,e=l.getEl().style,i=l._layoutRect,a=l._lastRepaintRect||{},o=(r=l.borderBox).left+r.right,s=r.top+r.bottom,i.x!==a.x&&(e.left=c(i.x)+"px",a.x=i.x),i.y!==a.y&&(e.top=c(i.y)+"px",a.y=i.y),i.w!==a.w&&(u=c(i.w-o),e.width=(u>=0?u:0)+"px",a.w=i.w),i.h!==a.h&&(u=c(i.h-s),e.height=(u>=0?u:0)+"px",a.h=i.h),l._hasBody&&i.innerW!==a.innerW&&(u=c(i.innerW),(n=l.getEl("body"))&&((t=n.style).width=(u>=0?u:0)+"px"),a.innerW=i.innerW),l._hasBody&&i.innerH!==a.innerH&&(u=c(i.innerH),(n=n||l.getEl("body"))&&((t=t||n.style).height=(u>=0?u:0)+"px"),a.innerH=i.innerH),l._lastRepaintRect=a,l.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,Se.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n,i,r,o=this;return tt(o).on(e,"string"!=typeof(n=t)?n:function(e){return i||o.parentsAndSelf().each((function(e){var t=e.settings.callbacks;if(t&&(i=t[n]))return r=e,!1})),i?i.call(r,e):(e.action=n,void this.fire("execute",e))}),o},off:function(e,t){return tt(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=tt(this).fire(e,t),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return tt(this).has(e)},parents:function(e){var t,n=new We;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new We(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=Ce("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"===e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},translate:function(e){return Ye.translate?Ye.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each((function(t){t!==n&&e.push(t)})),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&Ce(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return Ce(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return Ce(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;for(i in o.$el=Ce(o.getEl()),o.state.set("rendered",!0),s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}nt(o),s.style&&(e=o.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var a=o.getRoot();for(var c in a.controlIdLookup||(a.controlIdLookup={}),a.controlIdLookup[o._id]=o,o._aria)o.aria(c,o._aria[c]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",(function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),Ke.add(o)})),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,i,r,o,s,a=this.getEl(),c=a.parentNode,u=function(e,t){var n,i,r=e;for(n=i=0;r&&r!==t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(a,c);return t=u.x,n=u.y,i=a.offsetWidth,r=a.offsetHeight,o=c.clientWidth,s=c.clientHeight,"end"===e?(t-=o-i,n-=s-r):"center"===e&&(t-=o/2-i/2,n-=s/2-r/2),c.scrollLeft=t,c.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){Ke.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function tt(e){return e._eventDispatcher||(e._eventDispatcher=new Re({scope:e,toggleEvent:function(t,n){n&&Re.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&nt(e))}})),e._eventDispatcher}function nt(e){var t,n,i,r,o,s;function a(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function c(){var e=r._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each((function(e){e.fire("mouseleave",{target:e.getEl()})})),r._lastHoverCtrl=null)}function u(t){var n,i,o,s=e.getParentCtrl(t.target),a=r._lastHoverCtrl,c=0;if(s!==a){if(r._lastHoverCtrl=s,(i=s.parents().toArray().reverse()).push(s),a){for((o=a.parents().toArray().reverse()).push(a),c=0;c<o.length&&i[c]===o[c];c++);for(n=o.length-1;n>=c;n--)(a=o[n]).fire("mouseleave",{target:a.getEl()})}for(n=c;n<i.length;n++)(s=i[n]).fire("mouseenter",{target:s.getEl()})}}function l(t){t.preventDefault(),"mousewheel"===t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}if(o=e._nativeEvents){for((i=e.parents().toArray()).unshift(e),t=0,n=i.length;!r&&t<n;t++)r=i[t]._eventsRoot;for(r||(r=i[i.length-1]||e),e._eventsRoot=r,n=t,t=0;t<n;t++)i[t]._eventsRoot=r;var d=r._delegates;for(s in d||(d=r._delegates={}),o){if(!o)return!1;"wheel"!==s?("mouseenter"===s||"mouseleave"===s?r._hasMouseEnter||(Ce(r.getEl()).on("mouseleave",c).on("mouseover",u),r._hasMouseEnter=1):d[s]||(Ce(r.getEl()).on(s,a),d[s]=!0),o[s]=!1):Ze?Ce(e.getEl()).on("mousewheel",l):Ce(e.getEl()).on("DOMMouseScroll",l)}}}a.each("text title visible disabled active value".split(" "),(function(e){et[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}));var ot=Ye=Ne.extend(et),it=function(e){return!!e.getAttribute("data-mce-tabstop")},at=function(e){var t,n,i=e.root;function r(e){return e&&1===e.nodeType}try{t=document.activeElement}catch(e){t=document.body}function o(e){return r(e=e||t)?e.getAttribute("role"):null}function s(e){for(var n,i=e||t;i=i.parentNode;)if(n=o(i))return n}function a(e){var n=t;if(r(n))return n.getAttribute("aria-"+e)}function c(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function u(e){var t=[];return function e(n){if(1===n.nodeType&&"none"!==n.style.display&&!n.disabled){var i;(c(i=n)&&!i.hidden||it(i)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(o(i)))&&t.push(n);for(var r=0;r<n.childNodes.length;r++)e(n.childNodes[r])}}(e||i.getEl()),t}function l(e){var t,i;(i=(e=e||n).parents().toArray()).unshift(e);for(var r=0;r<i.length&&!(t=i[r]).settings.ariaRoot;r++);return t}function d(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,n){var i=-1,r=l();n=n||u(r.getEl());for(var o=0;o<n.length;o++)n[o]===t&&(i=o);i+=e,r.lastAriaIndex=d(i,n)}function m(){"tablist"===s()?f(-1,u(t.parentNode)):n.parent().submenu?v():f(-1)}function h(){var e=o(),n=s();"tablist"===n?f(1,u(t.parentNode)):"menuitem"===e&&"menu"===n&&a("haspopup")?b():f(1)}function g(){f(-1)}function p(){var e=o(),t=s();"menuitem"===e&&"menubar"===t?b():"button"===e&&a("haspopup")?b({key:"down"}):f(1)}function v(){n.fire("cancel")}function b(e){e=e||{},n.fire("click",{target:t,aria:e})}return n=i.getParentCtrl(t),i.on("keydown",(function(e){function i(e,n){c(t)||it(t)||"slider"!==o(t)&&!1!==n(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:i(e,m);break;case 39:i(e,h);break;case 38:i(e,g);break;case 40:i(e,p);break;case 27:v();break;case 14:case 13:case 32:i(e,b);break;case 9:!function(e){if("tablist"===s()){var t=u(n.getEl("body"))[0];t&&t.focus()}else f(e.shiftKey?-1:1)}(e),e.preventDefault()}})),i.on("focusin",(function(e){t=e.target,n=e.control})),{focusFirst:function(e){var t=l(e),n=u(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?d(t.lastAriaIndex,n):d(0,n)}}},st={},rt=ot.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new We,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new Oe((function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())})),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=g.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=st[e]=st[e]||new Fe(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,i,r=this;if(!e||!(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav))return i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each((function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)})),t&&t.focus(),r;n.focusFirst(r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return a.isArray(e)||(e=[e]),a.each(e,(function(e){e&&(e instanceof ot||("string"==typeof e&&(e={type:e}),t=a.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=g.create(t)),i.push(e))})),i},renderNew:function(){var e=this;return e.items().each((function(t,n){var i;t.parent(e),t.state.get("rendered")||((i=e.getEl("body")).hasChildNodes()&&n<=i.childNodes.length-1?Ce(i.childNodes[n]).before(t.renderHtml()):Ce(i).append(t.renderHtml()),t.postRender(),Ke.add(t))})),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var i,r,o;return e=this.create(e),i=this.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find("*").each((function(t){var n=t.name(),i=t.value();n&&void 0!==i&&(e[n]=i)})),e},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=at({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!==t.w||n.h!==t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(Ke.remove(this),this.visible()){for(ot.repaintControls=[],ot.repaintControls.map={},this.recalc(),e=ot.repaintControls.length;e--;)ot.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),ot.repaintControls=[]}return this}});function ct(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}var lt,ut,ft,pt,mt=function(e,t){var n,i,r,o,s,a,c,u=t.document||document;function l(){return u.getElementById(t.handle||e)}t=t||{},r=function(e){var r,d,f,m,h,g,p,v,x,y,w,k=(r=u,x=Math.max,d=r.documentElement,f=r.body,m=x(d.scrollWidth,f.scrollWidth),h=x(d.clientWidth,f.clientWidth),g=x(d.offsetWidth,f.offsetWidth),p=x(d.scrollHeight,f.scrollHeight),v=x(d.clientHeight,f.clientHeight),{width:m<g?h:m,height:p<x(d.offsetHeight,f.offsetHeight)?v:p});ct(e),e.preventDefault(),i=e.button,y=l(),a=e.screenX,c=e.screenY,w=window.getComputedStyle?window.getComputedStyle(y,null).getPropertyValue("cursor"):y.runtimeStyle.cursor,n=Ce("<div></div>").css({position:"absolute",top:0,left:0,width:k.width,height:k.height,zIndex:2147483647,opacity:1e-4,cursor:w}).appendTo(u.body),Ce(u).on("mousemove touchmove",s).on("mouseup touchend",o),t.start(e)},s=function(e){if(ct(e),e.button!==i)return o(e);e.deltaX=e.screenX-a,e.deltaY=e.screenY-c,e.preventDefault(),t.drag(e)},o=function(e){ct(e),Ce(u).off("mousemove touchmove",s).off("mouseup touchend",o),n.remove(),t.stop&&t.stop(e)},this.destroy=function(){Ce(l()).off()},Ce(l()).on("mousedown touchstart",r)},dt={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var e=this;function t(){var t,i,n;function r(n,r,s,a,o,u){var c,l,d,f,m,g,p,h;if(l=e.getEl("scroll"+n)){if(p=r.toLowerCase(),h=s.toLowerCase(),Ce(e.getEl("absend")).css(p,e.layoutRect()[a]-1),!o)return void Ce(l).css("display","none");Ce(l).css("display","block"),c=e.getEl("body"),d=e.getEl("scroll"+n+"t"),f=c["client"+s]-4,m=(f-=t&&i?l["client"+u]:0)/c["scroll"+s],(g={})[p]=c["offset"+r]+2,g[h]=f,Ce(l).css(g),(g={})[p]=c["scroll"+r]*m,g[h]=f*m,Ce(d).css(g)}}n=e.getEl("body"),t=n.scrollWidth>n.clientWidth,i=n.scrollHeight>n.clientHeight,r("h","Left","Width","contentW",t,"Height"),r("v","Top","Height","contentH",i,"Width")}e.settings.autoScroll&&(e._hasScroll||(e._hasScroll=!0,function(){function t(t,i,n,r,s){var a,o=e._id+"-scroll"+t,u=e.classPrefix;Ce(e.getEl()).append('<div id="'+o+'" class="'+u+"scrollbar "+u+"scrollbar-"+t+'"><div id="'+o+'t" class="'+u+'scrollbar-thumb"></div></div>'),e.draghelper=new mt(o+"t",{start:function(){a=e.getEl("body")["scroll"+i],Ce("#"+o).addClass(u+"active")},drag:function(o){var u,c,l,d,f=e.layoutRect();c=f.contentW>f.innerW,l=f.contentH>f.innerH,d=e.getEl("body")["client"+n]-4,u=(d-=c&&l?e.getEl("scroll"+t)["client"+s]:0)/e.getEl("body")["scroll"+n],e.getEl("body")["scroll"+i]=a+o["delta"+r]/u},stop:function(){Ce("#"+o).removeClass(u+"active")}})}e.classes.add("scroll"),t("v","Top","Height","Y","Width"),t("h","Left","Width","X","Height")}(),e.on("wheel",(function(n){var i=e.getEl("body");i.scrollLeft+=10*(n.deltaX||0),i.scrollTop+=10*n.deltaY,t()})),Ce(e.getEl("body")).on("scroll",t)),t())}},ht=rt.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[dt],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),gt={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=Se.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}},bt=[],vt=[];function xt(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function yt(e){var t=Se.getViewPort().y;function n(t,n){for(var i,r=0;r<bt.length;r++)if(bt[r]!==e)for(i=bt[r].parent();i&&(i=i.parent());)i===e&&bt[r].fixed(t).moveBy(0,n).repaint()}e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>t&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),n(!1,e._autoFixY-t)):(e._autoFixY=e.layoutRect().y,e._autoFixY<t&&(e.fixed(!0).layoutRect({y:0}).repaint(),n(!0,t-e._autoFixY))))}function wt(e,t){var n,i,r=kt.zIndex||65535;if(e)vt.push(t);else for(n=vt.length;n--;)vt[n]===t&&vt.splice(n,1);if(vt.length)for(n=0;n<vt.length;n++)vt[n].modal&&(r++,i=vt[n]),vt[n].getEl().style.zIndex=r,vt[n].zIndex=r,r++;var o=Ce("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?Ce(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),pt=!1),kt.currentZIndex=r}var kt=ht.extend({Mixins:[Te,gt],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(lt||(lt=function(e){2!==e.button&&function(e){for(var t=bt.length;t--;){var n=bt[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(xt(i,n)||n.parent()===i))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},Ce(document).on("click touchstart",lt)),function(){if(!ft){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;ft=function(){document.all&&t===e.clientWidth&&n===e.clientHeight||(t=e.clientWidth,n=e.clientHeight,kt.hideAll())},Ce(window).on("resize",ft)}}(),bt.push(t)),e.autofix&&(ut||(ut=function(){var e;for(e=bt.length;e--;)yt(bt[e])},Ce(window).on("scroll",ut)),t.on("move",(function(){yt(this)}))),t.on("postrender show",(function(e){if(e.control===t){var n,i=t.classPrefix;t.modal&&!pt&&((n=Ce("#"+i+"modal-block",t.getContainerElm()))[0]||(n=Ce('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(t.getContainerElm())),_.setTimeout((function(){n.addClass(i+"in"),Ce(t.getEl()).addClass(i+"in")})),pt=!0),wt(!0,t)}})),t.on("show",(function(){t.parents().each((function(e){if(e.state.get("fixed"))return t.fixed(!0),!1}))})),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!==e){if(t.state.get("rendered")){var n=Se.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this._super();for(e=bt.length;e--&&bt[e]!==this;);return-1===e&&bt.push(this),t},hide:function(){return Ct(this),wt(!1,this),this._super()},hideAll:function(){kt.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),wt(!1,this)),this},remove:function(){Ct(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function Ct(e){var t;for(t=bt.length;t--;)bt[t]===e&&bt.splice(t,1);for(t=vt.length;t--;)vt[t]===e&&vt.splice(t,1)}kt.hideAll=function(){for(var e=bt.length;e--;){var t=bt[e];t&&t.settings.autohide&&(t.hide(),bt.splice(e,1))}};var _t,St=function(e){return!(!e||k.container)},Et=function(e,t){var n,i,r=this,o=ot.classPrefix;r.show=function(s,a){function c(){n&&(Ce(e).append('<div class="'+o+"throbber"+(t?" "+o+"throbber-inline":"")+'"></div>'),a&&a())}return r.hide(),n=!0,s?i=_.setTimeout(c,s):c(),r},r.hide=function(){var t=e.lastChild;return _.clearTimeout(i),t&&-1!==t.className.indexOf("throbber")&&t.parentNode.removeChild(t),n=!1,r}},Tt=function(e,t,n){var i=function(e){var t=e.settings,n=t.skin,i=t.skin_url;if(!1!==n){var r=n||"lightgray";i=i?e.documentBaseURI.toAbsolute(i):s.baseURL+"/skins/"+r}return i}(e);return i&&(n.skinUiCss=i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")),function(e,t){var n;e.on("ProgressState",(function(e){n=n||new Et(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()}))}(e,t),e.getParam("inline",!1,"boolean")?function(e,t,n){var i,r,o=v.DOM,s=e.getParam("fixed_toolbar_container");s&&(r=o.select(s)[0]);var a=function(){if(i&&i.moveRel&&i.visible()&&!i._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),r=0,s=0;if(t){var a=o.getPos(n),c=o.getPos(t);r=Math.max(0,c.x-a.x),s=Math.max(0,c.y-a.y)}i.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,s)}},u=function(){i&&(i.show(),a(),o.addClass(e.getBody(),"mce-edit-focus"))},c=function(){i&&(i.hide(),kt.hideAll(),o.removeClass(e.getBody(),"mce-edit-focus"))},f=function(){i?i.visible()||u():(i=t.panel=g.create({type:r?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:St(r),fixed:St(r),border:1,items:[!1===l(e)?null:{type:"menubar",border:"0 0 1 0",items:de(e)},L(e,d(e))]}),x(e),r?i.renderTo(r).reflow():i.renderTo().reflow(),w(e,i),u(),W(e),e.on("nodeChange",a),e.on("ResizeWindow",a),e.on("activate",u),e.on("deactivate",c),e.nodeChanged())};return e.settings.content_editable=!0,e.on("focus",(function(){!1===m(e)&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,f,f):f()})),e.on("blur hide",c),e.on("remove",(function(){i&&(i.remove(),i=null)})),!1===m(e)&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,ye(e)):ye(e)(),{}}(e,t,n):function(e,t,n){var i,r,o,s,a;if(!1===m(e)&&n.skinUiCss?we.styleSheetLoader.load(n.skinUiCss,ye(e)):ye(e)(),i=t.panel=g.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===l(e)?null:{type:"menubar",border:"0 0 1 0",items:de(e)},L(e,d(e))]},ve(e)?(s=e,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[ke("0"),xe(s)]}):ke("1 0 0 0")]}),"none"!==h(e)&&(r={type:"resizehandle",direction:h(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;o={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===h(e)?he(e,o.width+t.deltaX,o.height+t.deltaY):he(e,null,o.height+t.deltaY)}}),e.getParam("statusbar",!0,"boolean")){var u=p.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),c=e.getParam("branding",!0,"boolean")?{type:"label",classes:"branding",html:" "+u}:null;i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},r,c]})}return x(e),e.on("SwitchMode",(a=i,function(e){a.find("*").disabled("readonly"===e.mode)})),i.renderBefore(n.targetNode).reflow(),e.getParam("readonly",!1,"boolean")&&e.setMode("readonly"),n.width&&we.setStyle(i.getEl(),"width",n.width),e.on("remove",(function(){i.remove(),i=null})),w(e,i),W(e),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()}}(e,t,n)},Nt=ot.extend({Mixins:[Te],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)})),e._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),Rt=ot.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==Rt.tooltips&&(t.on("mouseenter",(function(n){var i=t.tooltip().moveTo(-65535);if(n.control===t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"===r),i.classes.toggle("tooltip-nw","bc-tl"===r),i.classes.toggle("tooltip-ne","bc-tr"===r),i.moveRel(t.getEl(),r)}else i.hide()})),t.on("mouseleave mousedown click",(function(){t.tooltip().hide()}))),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return _t||(_t=new Nt({type:"tooltip"})).renderTo(),_t},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){var e=this;function t(t){e.aria("disabled",t),e.classes.toggle("disabled",t)}function n(t){e.aria("pressed",t),e.classes.toggle("active",t)}return e.state.on("change:disabled",(function(e){t(e.value)})),e.state.on("change:active",(function(e){n(e.value)})),e.state.get("disabled")&&t(!0),e.state.get("active")&&n(!0),e._super()},remove:function(){this._super(),_t&&(_t.remove(),_t=null)}}),At=Rt.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var e=this;function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}return e.state.on("change:value",(function(e){t(e.value)})),t(e.state.get("value")),e._super()}}),Dt=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},Pt=ot.extend({Mixins:[Te],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new At),t.on("click",(function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close()}))},renderHtml:function(){var e,t=this,n=t.classPrefix,i="",r="",o="";return t.icon&&(i='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(r='<button type="button" class="'+n+'close" aria-hidden="true">×</button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+i+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+o+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return _.setTimeout((function(){e.$el.addClass(e.classPrefix+"in"),Dt(e,e.state.get("text"))}),100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().firstChild.innerHTML=t.value,Dt(e,t.value)})),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",(function(t){Dt(e,e.state.get("text"))}))),e._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}}),Ot=[],Mt="";function Bt(e){var t,n=Ce("meta[name=viewport]")[0];!1!==k.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==Mt&&(Mt=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Mt))}var It=kt.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new ht({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",(function(e){var n=t.classPrefix+"close";(Se.hasClass(e.target,n)||Se.hasClass(e.target.parentNode,n))&&t.close()})),t.on("cancel",(function(){t.close()})),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(Se.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var r=Se.getSize(e);n.headerW=r.width,n.headerH=r.height,i+=n.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),n.deltaH+=i,n.minH+=i,n.h+=i;var o=Se.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",s="",a=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(a='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===a&&(a=t.renderHtml(e)),e.statusbar&&(s=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+a+"</div>"+s+"</div></div>"},fullscreen:function(e){var t,n,i=this,r=document.documentElement,o=i.classPrefix;if(e!==i._fullscreen)if(Ce(window).on("resize",(function(){var e;if(i._fullscreen)if(t)i._timer||(i._timer=_.setTimeout((function(){var e=Se.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0}),50));else{e=(new Date).getTime();var n=Se.getWindowSize();i.moveTo(0,0).resizeTo(n.w,n.h),(new Date).getTime()-e>50&&(t=!0)}})),n=i.layoutRect(),i._fullscreen=e,e){i._initial={x:n.x,y:n.y,w:n.w,h:n.h},i.borderBox=Ae("0"),i.getEl("head").style.display="none",n.deltaH-=n.headerH+2,Ce([r,document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen");var s=Se.getWindowSize();i.moveTo(0,0).resizeTo(s.w,s.h)}else i.borderBox=Ae(i.settings.border),i.getEl("head").style.display="",n.deltaH+=n.headerH,Ce([r,document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var e,t=this;setTimeout((function(){t.classes.add("in"),t.fire("open")}),0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new mt(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",(function(e){e.isDefaultPrevented()||t.close()})),Ot.push(t),Bt(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),function(e,t){(function(){for(var e=0;e<Ot.length;e++)if(Ot[e]._fullscreen)return!0;return!1})()&&!1===t&&Ce([document.documentElement,document.body]).removeClass(e+"fullscreen")}(t.classPrefix,!1),e=Ot.length;e--;)Ot[e]===t&&Ot.splice(e,1);Bt(Ot.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});!function(){if(!k.desktop){var e={w:window.innerWidth,h:window.innerHeight};_.setInterval((function(){var t=window.innerWidth,n=window.innerHeight;e.w===t&&e.h===n||(e={w:t,h:n},Ce(window).trigger("resize"))}),100)}Ce(window).on("resize",(function(){var e,t,n=Se.getWindowSize();for(e=0;e<Ot.length;e++)t=Ot[e].layoutRect(),Ot[e].moveTo(Ot[e].settings.x||Math.max(0,n.w/2-t.w/2),Ot[e].settings.y||Math.max(0,n.h/2-t.h/2))}))}();var zt=It.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var t,n=e.callback||function(){};function i(e,t,i){return{type:"button",text:e,subtype:i?"primary":"",onClick:function(e){e.control.parents()[1].close(),n(t)}}}switch(e.buttons){case zt.OK_CANCEL:t=[i("Ok",!0,!0),i("Cancel",!1)];break;case zt.YES_NO:case zt.YES_NO_CANCEL:t=[i("Yes",1,!0),i("No",0)],e.buttons===zt.YES_NO_CANCEL&&t.push(i("Cancel",-1));break;default:t=[i("Ok",!0,!0)]}return new It({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:t,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){n(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,zt.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=zt.OK_CANCEL,zt.msgBox(e)}}}),Lt=function(e){return{renderUI:function(t){return Tt(e,this,t)},resizeTo:function(t,n){return he(e,t,n)},resizeBy:function(t,n){return function(e,t,n){var i=e.getContentAreaContainer();me(e,i.clientWidth+t,i.clientHeight+n)}(e,t,n)},getNotificationManagerImpl:function(){return function(e){var t=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(n,i){var r,o=a.extend(n,{maxWidth:(r=t(e),Se.getSize(r).width)}),s=new Pt(o);return s.args=o,o.timeout>0&&(s.timer=setTimeout((function(){s.close(),i()}),o.timeout)),s.on("close",(function(){i()})),s.renderTo(),s},close:function(e){e.close()},reposition:function(n){Q(n,(function(e){e.moveTo(0,0)})),function(n){if(n.length>0){var i=n.slice(0,1)[0],r=t(e);i.moveRel(r,"tc-tc"),Q(n,(function(e,t){t>0&&e.moveRel(n[t-1].getEl(),"bc-tc")}))}}(n)},getArgs:function(e){return e.args}}}(e)},getWindowManagerImpl:function(){return{open:function(e,t,n){var i;return e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),(i=new It(e)).on("close",(function(){n(i)})),e.data&&i.on("postRender",(function(){this.find("*").each((function(t){var n=t.name();n in e.data&&t.value(e.data[n])}))})),i.features=e||{},i.params=t||{},i=i.renderTo().reflow()},alert:function(e,t,n){var i;return(i=zt.alert(e,(function(){t()}))).on("close",(function(){n(i)})),i},confirm:function(e,t,n){var i;return(i=zt.confirm(e,(function(e){t(e)}))).on("close",(function(){n(i)})),i},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}}},Ht=Ne.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=a.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each((function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(i||(i=e),r=e)})),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each((function(e){t+=e.renderHtml()})),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Ft=Ht.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each((function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()}))},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),jt=Rt.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",(function(e){e.preventDefault()})),n.on("touchstart",(function(e){n.fire("click",e),e.preventDefault()})),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.classPrefix,o=n.state.get("icon"),s=n.state.get("text"),a="",c=n.settings;return(e=c.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",s&&(n.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+n.encode(s)+"</span>"),o=o?r+"ico "+r+"i-"+o:"",t="boolean"==typeof c.active?' aria-pressed="'+c.active+'"':"",'<div id="'+i+'" class="'+n.classes+'" tabindex="-1"'+t+'><button id="'+i+'-button" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){var e=this,t=e.$,n=e.classPrefix+"txt";function i(i){var r=t("span."+n,e.getEl());i?(r[0]||(t("button:first",e.getEl()).append('<span class="'+n+'"></span>'),r=t("span."+n,e.getEl())),r.html(e.encode(i))):r.remove(),e.classes.toggle("btn-has-text",!!i)}return e.state.on("change:text",(function(e){i(e.value)})),e.state.on("change:icon",(function(t){var n=t.value,r=e.classPrefix;e.settings.icon=n,n=n?r+"ico "+r+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,s=o.getElementsByTagName("i")[0];n?(s&&s===o.firstChild||(s=document.createElement("i"),o.insertBefore(s,o.firstChild)),s.className=n):s&&o.removeChild(s),i(e.state.get("text"))})),e._super()}}),Ut=jt.extend({init:function(e){e=a.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var e=this,t=Se.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),Ce(t).on("change",(function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)})),Ce(t).on("click",(function(e){e.stopPropagation()})),Ce(e.getEl("button")).on("click",(function(e){e.stopPropagation(),t.click()})),e.getEl().appendChild(t)},remove:function(){Ce(this.getEl("button")).off(),Ce(this.getEl("input")).off(),this._super()}}),Wt=rt.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),$t=Rt.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",(function(e){e.preventDefault()})),t.on("click",(function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())})),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){var e=this;function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}return e.state.on("change:text",(function(t){e.getEl("al").firstChild.data=e.translate(t.value)})),e.state.on("change:checked change:value",(function(n){e.fire("change"),t(n.value)})),e.state.on("change:icon",(function(t){var n=t.value,i=e.classPrefix;if(void 0===n)return e.settings.icon;e.settings.icon=n,n=n?i+"ico "+i+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)})),e.state.get("checked")&&t(!0),e._super()}}),qt=tinymce.util.Tools.resolve("tinymce.util.VK"),Vt=Rt.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",(function(n){var i=n.target,r=t.getEl();if(Ce.contains(r,i)||i===r)for(;i&&i!==r;)i.id&&-1!==i.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode})),t.on("keydown",(function(e){var n;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){if("INPUT"===e.target.nodeName){var n=t.state.get("value"),i=e.target.value;i!==n&&(t.state.set("value",i),t.fire("autocomplete",e))}})),t.on("mouseover",(function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var i=t.statusMessage()||"Ok",r=n.text(i).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"===r),n.classes.toggle("tooltip-nw","bc-tl"===r),n.classes.toggle("tooltip-ne","bc-tr"===r),n.moveRel(e.target,r)}}))},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=g.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",(function(e){e.control===t.menu&&t.focus()})),t.menu.on("show hide",(function(e){e.control.items().each((function(e){e.active(e.value()===t.value())}))})).fire("show"),t.menu.on("select",(function(e){t.value(e.control.value())})),t.on("focusin",(function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()})),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this,i=n.getEl(),r=n.getEl("open"),o=n.layoutRect(),s=0,a=i.firstChild;n.statusLevel()&&"none"!==n.statusLevel()&&(s=parseInt(Se.getRuntimeStyle(a,"padding-right"),10)-parseInt(Se.getRuntimeStyle(a,"padding-left"),10)),e=r?o.w-Se.getSize(r).width-10:o.w-10;var c=document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(t=n.layoutRect().h-2+"px"),Ce(a).css({width:e-s,lineHeight:t}),n._super(),n},postRender:function(){var e=this;return Ce(this.getEl("inp")).on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)})),e._super()},renderHtml:function(){var e,t,n,i=this,r=i._id,o=i.settings,s=i.classPrefix,a=i.state.get("value")||"",c="",u="";return"spellcheck"in o&&(u+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(u+=' maxlength="'+o.maxLength+'"'),o.size&&(u+=' size="'+o.size+'"'),o.subtype&&(u+=' type="'+o.subtype+'"'),n='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',i.disabled()&&(u+=' disabled="disabled"'),(e=o.icon)&&"caret"!==e&&(e=s+"ico "+s+"i-"+o.icon),t=i.state.get("text"),(e||t)&&(c='<div id="'+r+'-open" class="'+s+"btn "+s+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+s+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+r+'" class="'+i.classes+'"><input id="'+r+'-inp" class="'+s+'textbox" value="'+i.encode(a,!1)+'" hidefocus="1"'+u+' placeholder="'+i.encode(o.placeholder)+'" />'+n+c+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var n=this;if(0!==e.length){n.menu?n.menu.items().remove():n.menu=g.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),a.each(e,(function(e){var i,r;n.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:(i=e.value,r=e.title,function(){n.fire("selectitem",{title:r,value:i})})})})),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",(function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())})),n.menu.on("select",(function(){n.focus()}));var i=n.layoutRect().w;n.menu.layoutRect({w:i,minW:0,maxW:i}),n.menu.repaint(),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else n.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",(function(t){e.getEl("inp").value!==t.value&&(e.getEl("inp").value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl("inp").disabled=t.value})),e.state.on("change:statusLevel",(function(t){var n=e.getEl("status"),i=e.classPrefix,r=t.value;Se.css(n,"display","none"===r?"none":""),Se.toggleClass(n,i+"i-checkmark","ok"===r),Se.toggleClass(n,i+"i-warning","warn"===r),Se.toggleClass(n,i+"i-error","error"===r),e.classes.toggle("has-status","none"!==r),e.repaint()})),Se.on(e.getEl("status"),"mouseleave",(function(){e.tooltip().hide()})),e.on("cancel",(function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())}));var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",(function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===qt.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):i===qt.UP&&(n.preventDefault(),t(-1,e.menu)))})),e._super()},remove:function(){Ce(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),Gt=Vt.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",(function(){t.repaintColor(t.value())}))},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.state.get("rendered")&&e.repaintColor(t.value)})),e._super()}}),Yt=jt.extend({showPanel:function(){var e=this,t=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var n=t.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,e.panel=new kt(n).on("hide",(function(){e.classes.remove("opened")})).on("cancel",(function(t){t.stopPropagation(),e.focus(),e.hidePanel()})).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var i=e.panel.testMoveRel(e.getEl(),t.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===i),e.panel.classes.toggle("end","bc-tr"===i),e.panel.moveRel(e.getEl(),i)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",(function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))})),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),Xt=v.DOM,Jt=Yt.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",s="";return i&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(n){n.aria&&"down"===n.aria.key||n.control!==e||Xt.getParent(n.target,"."+e.classPrefix+"open")||(n.stopImmediatePropagation(),t.call(e,n))})),delete e.settings.onclick,e._super()}}),Kt=tinymce.util.Tools.resolve("tinymce.util.Color"),Zt=Rt.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var e,t,n,i,r,o=this,s=o.color();function a(e,t){var n,i,r=Se.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function c(e,t){var s=(360-e.h)/360;Se.css(n,{top:100*s+"%"}),t||Se.css(r,{left:e.s+"%",top:100-e.v+"%"}),i.style.background=Kt({s:100,v:100,h:e.h}).toHex(),o.color().parse({s:e.s,v:e.v,h:e.h})}function u(t){var n;n=a(i,t),e.s=100*n.x,e.v=100*(1-n.y),c(e),o.fire("change")}function l(n){var i;i=a(t,n),(e=s.toHsv()).h=360*(1-i.y),c(e,!0),o.fire("change")}t=o.getEl("h"),n=o.getEl("hp"),i=o.getEl("sv"),r=o.getEl("svp"),o._repaint=function(){c(e=s.toHsv())},o._super(),o._svdraghelper=new mt(o._id+"-sv",{start:u,drag:u}),o._hdraghelper=new mt(o._id+"-h",{start:l,drag:l}),o._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=Kt()),this._color},renderHtml:function(){var e,t=this._id,n=this.classPrefix,i="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+n+'colorpicker-h" style="background: -ms-linear-gradient(top,'+i+");background: linear-gradient(to bottom,"+i+');">'+function(){var e,t,r,o,s="";for(r="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(o=i.split(",")).length-1;e<t;e++)s+='<div class="'+n+'colorpicker-h-chunk" style="height:'+100/t+"%;"+r+o[e]+",endColorstr="+o[e+1]+");-ms-"+r+o[e]+",endColorstr="+o[e+1]+')"></div>';return s}()+'<div id="'+t+'-hp" class="'+n+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+n+'colorpicker-sv"><div class="'+n+'colorpicker-overlay1"><div class="'+n+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+n+'colorpicker-selector1"><div class="'+n+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}}),Qt=Rt.extend({init:function(e){e=a.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e,t,n=this.settings;return e={id:this._id,hidefocus:"1"},t=Se.create("div",e,"<span>"+this.translate(n.text)+"</span>"),n.height&&Se.css(t,"height",n.height+"px"),n.width&&Se.css(t,"width",n.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){var e=this,t=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes};e._super(),e.$el.on("dragover",(function(e){e.preventDefault()})),e.$el.on("dragenter",t),e.$el.on("dragleave",t),e.$el.on("drop",(function(t){if(t.preventDefault(),!e.state.get("disabled")){var n=function(t){var n=e.settings.accept;if("string"!=typeof n)return t;var i=new RegExp("("+n.split(/\s*,\s*/).join("|")+")$","i");return a.grep(t,(function(e){return i.test(e.name)}))}(t.dataTransfer.files);e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},n.length&&e.fire("change",t)}}))},remove:function(){this.$el.off(),this._super()}}),en=Rt.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="»"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",(function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})})),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",(function(t){e.innerHtml(e._getDataPathHtml(t.value))})),e._super()},_getDataPathHtml:function(e){var t,n,i=e||[],r="",o=this.classPrefix;for(t=0,n=i.length;t<n;t++)r+=(t>0?'<div class="'+o+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(t===n-1?" "+o+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";return r||(r='<div class="'+o+'path-item"> </div>'),r}}),tn=en.extend({postRender:function(){var e=this,t=e.settings.editor;function n(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}return!1!==t.settings.elementpath&&(e.on("select",(function(e){t.focus(),t.selection.select(this.row()[e.index].element),t.nodeChanged()})),t.on("nodeChange",(function(i){for(var r=[],o=i.parents,s=o.length;s--;)if(1===o[s].nodeType&&!n(o[s])){var a=t.fire("ResolveName",{name:o[s].nodeName.toLowerCase(),target:o[s]});if(a.isDefaultPrevented()||r.push({name:a.name,element:o[s]}),a.isPropagationStopped())break}e.row(r)}))),e._super()}}),nn=rt.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),rn=rt.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,t=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each((function(t){var n,i=t.settings.label;i&&((n=new nn(a.extend({items:{type:"label",id:t._id+"-l",text:i,flex:0,forId:t._id,disabled:t.disabled()}},e.settings.formItemDefaults))).type="formitem",t.aria("labelledby",t._id+"-l"),void 0===t.settings.flex&&(t.settings.flex=1),e.replace(t,n),n.add(t))}))},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var e=this;function t(){var t,n,i=0,r=[];if(!1!==e.settings.labelGapCalc)for(("children"===e.settings.labelGapCalc?e.find("formitem"):e.items()).filter("formitem").each((function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,r.push(t)})),n=e.settings.labelGap||0,t=r.length;t--;)r[t].settings.minWidth=i+n}e._super(),e.on("show",t),t()}}),on=rn.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),an=0,sn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:E.constant(e)}},cn=sn,ln=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},un=function(e){return e.dom().nodeName.toLowerCase()},dn=function(e){return e.dom().nodeType},fn=function(e){return function(t){return dn(t)===e}},pn=fn(1),mn=fn(3),hn=fn(9),gn={name:un,type:dn,value:function(e){return e.dom().nodeValue},isElement:pn,isText:mn,isDocument:hn,isComment:function(e){return 8===dn(e)||"#comment"===un(e)}},bn=(ln((function(){return bn(cn(document))})),function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return cn(t)}),vn=function(e){return function(t){return function(e){if(null===e)return"null";var t=o(e);return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(t)===e}},xn=(vn("string"),vn("object"),vn("array"),vn("null"),vn("boolean"),vn("undefined"),vn("function"),vn("number"),Object.keys,function(){var e=arguments;return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var i={};return Q(e,(function(e,n){i[e]=E.constant(t[n])})),i}}),yn=("undefined"!=typeof window?window:Function("return this;")(),function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return kn(i(1),i(2))}),wn=function(){return kn(0,0)},kn=function(e,t){return{major:e,minor:t}},Cn=function(e,t){var n=String(t).toLowerCase();return 0===e.length?wn():yn(e,n)},_n=wn,Sn="Firefox",En=function(e,t){return function(){return t===e}},Tn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:En("Edge",t),isChrome:En("Chrome",t),isIE:En("IE",t),isOpera:En("Opera",t),isFirefox:En(Sn,t),isSafari:En("Safari",t)}},Nn=function(){return Tn({current:void 0,version:_n()})},Rn=Tn,An=(E.constant("Edge"),E.constant("Chrome"),E.constant("IE"),E.constant("Opera"),E.constant(Sn),E.constant("Safari"),"Windows"),Dn="Android",Pn="Solaris",On="FreeBSD",Mn=function(e,t){return function(){return t===e}},Bn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Mn(An,t),isiOS:Mn("iOS",t),isAndroid:Mn(Dn,t),isOSX:Mn("OSX",t),isLinux:Mn("Linux",t),isSolaris:Mn(Pn,t),isFreeBSD:Mn(On,t)}},In=function(){return Bn({current:void 0,version:_n()})},zn=Bn,Ln=(E.constant(An),E.constant("iOS"),E.constant(Dn),E.constant("Linux"),E.constant("OSX"),E.constant(Pn),E.constant(On),function(e,t){var n=String(t).toLowerCase();return re(e,(function(e){return e.search(n)}))}),Hn=function(e,t){return-1!==e.indexOf(t)},Fn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jn=function(e){return function(t){return Hn(t,e)}},Un=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Hn(e,"edge/")&&Hn(e,"chrome")&&Hn(e,"safari")&&Hn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fn],search:function(e){return Hn(e,"chrome")&&!Hn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Hn(e,"msie")||Hn(e,"trident")}},{name:"Opera",versionRegexes:[Fn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jn("firefox")},{name:"Safari",versionRegexes:[Fn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Hn(e,"safari")||Hn(e,"mobile/"))&&Hn(e,"applewebkit")}}],Wn=[{name:"Windows",search:jn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Hn(e,"iphone")||Hn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:jn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jn("linux"),versionRegexes:[]},{name:"Solaris",search:jn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jn("freebsd"),versionRegexes:[]}],$n={browsers:E.constant(Un),oses:E.constant(Wn)},qn=function(e){var t,n,i,r,o,s,a,c,u,l,d,f=$n.browsers(),m=$n.oses(),h=function(e,t){return Ln(e,t).map((function(e){var n=Cn(e.versionRegexes,t);return{current:e.name,version:n}}))}(f,e).fold(Nn,Rn),g=function(e,t){return Ln(e,t).map((function(e){var n=Cn(e.versionRegexes,t);return{current:e.name,version:n}}))}(m,e).fold(In,zn);return{browser:h,os:g,deviceType:(n=h,i=e,r=(t=g).isiOS()&&!0===/ipad/i.test(i),o=t.isiOS()&&!r,s=t.isAndroid()&&3===t.version.major,a=t.isAndroid()&&4===t.version.major,c=r||s||a&&!0===/mobile/i.test(i),u=t.isiOS()||t.isAndroid(),l=u&&!c,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(i),{isiPad:E.constant(r),isiPhone:E.constant(o),isTablet:E.constant(c),isPhone:E.constant(l),isTouch:E.constant(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:E.constant(d)})}},Vn=function(e){return 1!==e.nodeType&&9!==e.nodeType||0===e.childElementCount},Gn=function(e,t){var n=void 0===t?document:t.dom();return Vn(n)?[]:Z(n.querySelectorAll(e),cn)},Yn=function(e,t){var n=void 0===t?document:t.dom();return Vn(n)?O():M(n.querySelector(e)).map(cn)},Xn=(ln((function(){var e=navigator.userAgent;return qn(e)}))().browser.isIE(),xn("element","offset"),function(e,t){return Gn(t,e)}),Jn=a.trim,Kn=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Zn=Kn("true"),Qn=Kn("false"),er=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},li=function(e){return e.innerText||e.textContent},nr=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&or(e);var t},rr=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},or=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Zn(e)}return!1}(e)&&!Qn(e)},ir=function(e){return rr(e)&&or(e)},ar=function(e){var t,n,i=(t=e).id?t.id:function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++an+String(t)}("h");return er("header",li(e),"#"+i,rr(n=e)?parseInt(n.nodeName.substr(1),10):0,(function(){e.id=i}))},sr=function(e){var t=e.id||e.name,n=li(e);return er("anchor",n||"#"+t,"#"+t,0,E.noop)},cr=function(e){return Jn(e.title).length>0},lr=function(e){var t,i=function(e){return Z(Xn(cn(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(function(e){return e.dom()}))}(e);return ee((t=i,Z(ee(t,ir),ar)).concat(Z(ee(i,nr),sr)),cr)},ur={},dr=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},fr=function(e,t){return{title:e,value:{title:e,url:t,attach:E.noop}}},pr=function(e,t,n){var i=t in e?e[t]:n;return!1===i?null:i},mr=function(e,t){var n=e.toLowerCase(),i=a.grep(t,(function(e){return-1!==e.title.toLowerCase().indexOf(n)}));return 1===i.length&&i[0].title===e?[]:i},gr=function(e,t,n,i){var r=function(r){var s=function(e,t,n,i){var r,o,s,c,u={title:"-"},l=function(e){var i=e.hasOwnProperty(n)?e[n]:[],r=ee(i,(function(e){return n=e,!ae(t,(function(e){return e.url===n}));var n}));return a.map(r,(function(e){return{title:e,value:{title:e,url:e,attach:E.noop}}}))},d=function(e){var n;return n=ee(t,(function(t){return t.type===e})),a.map(n,dr)};return!1===i.typeahead_urls?[]:"file"===n?(r=[mr(e,l(ur)),mr(e,d("header")),mr(e,(o=d("anchor"),s=pr(i,"anchor_top","#top"),c=pr(i,"anchor_bottom","#bottom"),null!==s&&o.unshift(fr("<top>",s)),null!==c&&o.push(fr("<bottom>",c)),o))],ne(r,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(u,t)}),[])):mr(e,l(ur))}(r,lr(n),i,t);e.showAutoComplete(s,r)};e.on("autocomplete",(function(){r(e.value())})),e.on("selectitem",(function(t){var n=t.value;e.value(n.url);var r,o=(r=n.title).raw?r.raw:r;"image"===i?e.fire("change",{meta:{alt:o,attach:n.attach}}):e.fire("change",{meta:{text:o,attach:n.attach}}),e.focus()})),e.on("click",(function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&r("")})),e.on("PostRender",(function(){e.getRoot().on("submit",(function(t){var n,r,o;t.isDefaultPrevented()||(n=e.value(),o=ur[r=i],/^https?/.test(n)&&(o?-1===te(o,n)&&(ur[r]=o.slice(0,5).concat(n)):ur[r]=[n]))}))}))},vr=Vt.extend({Statics:{clearHistory:function(){ur={}}},init:function(e){var t,n,i,r=this,o=window.tinymce?window.tinymce.activeEditor:s.activeEditor,c=o.settings,u=e.filetype;e.spellcheck=!1,(i=c.file_picker_types||c.file_browser_callback_types)&&(i=a.makeMap(i,/[, ]/)),i&&!i[u]||(!(n=c.file_picker_callback)||i&&!i[u]?!(n=c.file_browser_callback)||i&&!i[u]||(t=function(){n(r.getEl("inp").id,r.value(),u,window)}):t=function(){var e=r.fire("beforecall").meta;e=a.extend({filetype:u},e),n.call(o,(function(e,t){r.value(e).fire("change",{meta:t})}),r.value(),e)}),t&&(e.icon="browse",e.onaction=t),r._super(e),r.classes.add("filepicker"),gr(r,c,o.getBody(),u),function(e,t,n){var i=t.filepicker_validator_handler;i&&e.state.on("change:value",(function(t){var r;0!==(r=t.value).length?i({url:r,type:n},(function(t){var n,i,r,o=(i=(n=t).status,r=n.message,"valid"===i?{status:"ok",message:r}:"unknown"===i||"invalid"===i?{status:"warn",message:r}:{status:"none",message:""});e.statusMessage(o.message),e.statusLevel(o.status)})):e.statusLevel("none")}))}(r,c,u)}}),xr=Ft.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each((function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()}))}}),yr=Ft.extend({recalc:function(e){var t,n,i,r,o,s,a,c,u,l,d,f,m,h,g,p,v,b,x,y,w,k,C,_,S,E,T,N,R,A,D,P,O,M,B,I,z,L=[],H=Math.max,F=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,s=e.settings,f=e.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,c=e.isRtl()?s.pack||"end":s.pack,u=s.spacing||0,"row-reversed"!==f&&"column-reverse"!==f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"===f?(_="y",k="h",C="minH",S="maxH",T="innerH",E="top",N="deltaH",R="contentH",M="left",P="w",A="x",D="innerW",O="minW",B="right",I="deltaW",z="contentW"):(_="x",k="w",C="minW",S="maxW",T="innerW",E="left",N="deltaW",R="contentW",M="top",P="h",A="y",D="innerH",O="minH",B="bottom",I="deltaH",z="contentH"),d=r[T]-o[E]-o[E],w=l=0,t=0,n=i.length;t<n;t++)h=(m=i[t]).layoutRect(),d-=t<n-1?u:0,(g=m.settings.flex)>0&&(l+=g,h[S]&&L.push(m),h.flex=g),d-=h[C],(p=o[M]+h[O]+o[B])>w&&(w=p);if((x={})[C]=d<0?r[C]-d+r[N]:r[T]-d+r[N],x[O]=w+r[I],x[R]=r[T]-d,x[z]=w,x.minW=F(x.minW,r.maxW),x.minH=F(x.minH,r.maxH),x.minW=H(x.minW,r.startMinWidth),x.minH=H(x.minH,r.startMinHeight),!r.autoResize||x.minW===r.minW&&x.minH===r.minH){for(b=d/l,t=0,n=L.length;t<n;t++)v=(h=(m=L[t]).layoutRect())[S],(p=h[C]+h.flex*b)>v?(d-=h[S]-h[C],l-=h.flex,h.flex=0,h.maxFlexSize=v):h.maxFlexSize=0;for(b=d/l,y=o[E],x={},0===l&&("end"===c?y=d+o[E]:"center"===c?(y=Math.round(r[T]/2-(r[T]-d)/2)+o[E])<0&&(y=o[E]):"justify"===c&&(y=o[E],u=Math.floor(d/(i.length-1)))),x[A]=o[M],t=0,n=i.length;t<n;t++)p=(h=(m=i[t]).layoutRect()).maxFlexSize||h[C],"center"===a?x[A]=Math.round(r[D]/2-h[P]/2):"stretch"===a?(x[P]=H(h[O]||0,r[D]-o[M]-o[B]),x[A]=o[M]):"end"===a&&(x[A]=r[D]-h[P]-o.top),h.flex>0&&(p+=h.flex*b),x[k]=p,x[_]=y,m.layoutRect(x),m.recalc&&m.recalc(),y+=p+u}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var j=e.parent();j&&(j._lastRect=null,j.recalc())}}}),wr=Ht.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each((function(e){e.recalc&&e.recalc()}))},isNative:function(){return!0}}),kr=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},Cr=function(e,t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,(function(e){n.active(e)})):e.on("init",(function(){e.formatter.formatChanged(t,(function(e){n.active(e)}))}))}},_r=function(e){return function(t,n){return M(n).map(cn).filter(gn.isElement).bind((function(n){return function(e,t,n){for(;n!==t;){if(n.style[e]){var i=n.style[e];return""!==i?P(i):O()}n=n.parentNode}return O()}(e,t,n.dom()).or((i=e,r=n.dom(),M(v.DOM.getStyle(r,i,!0))));var i,r})).getOr("")}},Sr={getFontSize:_r("fontSize"),getFontFamily:E.compose((function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}),_r("fontFamily")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,i=t||0,r=Math.pow(10,i),Math.round(n*r)/r+"pt"):e;var n,i,r}},Er=function(e){return e?e.split(",")[0]:""},Tr=function(e,t){return function(){var n=this;e.on("init nodeChange",(function(i){var r,o,s,c=Sr.getFontFamily(e.getBody(),i.element),u=(r=t,o=c,a.each(r,(function(e){e.value.toLowerCase()===o.toLowerCase()&&(s=e.value)})),a.each(r,(function(e){s||Er(e.value).toLowerCase()!==Er(o).toLowerCase()||(s=e.value)})),s);n.value(u||null),!u&&c&&n.text(Er(c))}))}},Nr=function(e){!function(e){e.addButton("fontselect",(function(){var t,n=(t=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),a.map(t,(function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}})));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:Tr(e,n),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}))}(e)},Rr=function(e,t,n){var i;return a.each(e,(function(e){e.value===n?i=n:e.value===t&&(i=t)})),i},Ar=function(e){!function(e){e.addButton("fontsizeselect",(function(){var t,n,i,r=(t=e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",a.map(t.split(" "),(function(e){var t=e,n=e,i=e.split("=");return i.length>1&&(t=i[0],n=i[1]),{text:t,value:n}})));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:r,fixedWidth:!0,onPostRender:(n=e,i=r,function(){var e=this;n.on("init nodeChange",(function(t){var r,o,s,a;if(r=Sr.getFontSize(n.getBody(),t.element))for(s=3;!a&&s>=0;s--)o=Sr.toPt(r,s),a=Rr(i,o,r);e.value(a||null),a||e.text(o)}))}),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}))}(e)},Dr=function(e){var t,n,i=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:(t=e,n=i,a.map(n,(function(e){return{text:e[0],onclick:kr(t,e[1]),textStyle:function(){return t.formatter.getCssText(e[1])}}})))}),e.addButton("formatselect",function(e,t){return function(){var n,i,r=[];return a.each(t,(function(t){r.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})})),{type:"listbox",text:t[0][0],values:r,fixedWidth:!0,onselect:function(t){if(t.control){var n=t.control.value();kr(e,n)()}},onPostRender:(n=e,i=r,function(){var e=this;n.on("nodeChange",(function(t){var r=n.formatter,s=null;a.each(t.parents,(function(e){if(a.each(i,(function(t){if(r.matchNode(e,t.value)&&(s=t.value),s)return!1})),s)return!1})),e.value(s)}))})}}}(e,i))},Pr=function e(t,n){var r=n.length;return a.each(n,(function(n){n.menu&&(n.hidden=0===e(t,n.menu));var i=n.format;i&&(n.hidden=!t.formatter.canApply(i)),n.hidden&&r--})),r},Or=function e(t,n){var r=n.items().length;return n.items().each((function(n){n.menu&&n.visible(e(t,n.menu)>0),!n.menu&&n.settings.menu&&n.visible(Pr(t,n.settings.menu)>0);var i=n.settings.format;i&&n.visible(t.formatter.canApply(i)),n.visible()||r--})),r},Mr=function e(t,n){var r,i;if("string"==typeof n)i=n.split(" ");else if(a.isArray(n))return ie(a.map(n,(function(n){return e(t,n)})));return r=a.grep(i,(function(e){return"|"===e||e in t.menuItems})),a.map(r,(function(e){return"|"===e?{text:"-"}:t.menuItems[e]}))},Br=function(e){return e&&"-"===e.text},Ir=function(e){var t,i,n,r=e.settings.insert_button_items;return function(e){var t=ee(e,(function(e,t,n){return!Br(e)||!Br(n[t-1])}));return ee(t,(function(e,t,n){return!Br(e)||t>0&&t<n.length-1}))}(r?Mr(e,r):(t=e,"insert",i=[{text:"-"}],n=a.grep(t.menuItems,(function(e){return"insert"===e.context})),a.each(n,(function(e){"before"===e.separator&&i.push({text:"|"}),e.prependToContext?i.unshift(e):i.push(e),"after"===e.separator&&i.push({text:"|"})})),i))},zr=function(e){var t;(function(e){var t,n,i;t=e,a.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},(function(e,n){t.addButton(n,{active:!1,tooltip:e,onPostRender:Cr(t,n),onclick:kr(t,n)})})),n=e,a.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},(function(e,t){n.addButton(t,{tooltip:e[0],cmd:e[1]})})),i=e,a.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},(function(e,t){i.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Cr(i,t)})}))})(e),t=e,a.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},(function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})})),t.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:kr(t,"code")})},tr=function(e,t){return function(){var n=this,i=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!i()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(){n.disabled(e.readonly||!i())}))}},Lr={setup:function(e){var t;e.rtl&&(ot.rtl=!0),e.on("mousedown",(function(){kt.hideAll()})),(t=e).settings.ui_container&&(k.container=function(e,t){return Yn(t,e)}(cn(document.body),t.settings.ui_container).fold(E.constant(null),(function(e){return e.dom()}))),Rt.tooltips=!k.iOS,ot.translate=function(e){return s.translate(e)},Dr(e),function(e){e.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:kr(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:kr(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:kr(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:kr(e,"alignjustify")}]}),a.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},(function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Cr(e,n)})}))}(e),zr(e),function(e){var t,n;(t=e).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:tr(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:tr(t,"redo"),cmd:"redo"}),(n=e).addButton("undo",{tooltip:"Undo",onPostRender:tr(n,"undo"),cmd:"undo"}),n.addButton("redo",{tooltip:"Redo",onPostRender:tr(n,"redo"),cmd:"redo"})}(e),Ar(e),Nr(e),function(e){var t,n,i,r,o,s,c,u,l=(n=0,i=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],o=function(e){var t=[];if(e)return a.each(e,(function(e){var r={text:e.title,icon:e.icon};if(e.items)r.menu=o(e.items);else{var s=e.format||"custom"+n++;e.format||(e.name=s,i.push(e)),r.format=s,r.cmd=e.cmd}t.push(r)})),t},(t=e).on("init",(function(){a.each(i,(function(e){t.formatter.register(e.name,e)}))})),{type:"menu",items:t.settings.style_formats_merge?t.settings.style_formats?o(r.concat(t.settings.style_formats)):o(r):o(t.settings.style_formats||r),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return t.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",(function(){var n,i;(n=e.settings.format)&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),(i=e.settings.cmd)&&e.active(t.queryCommandState(i))}))},onclick:function(){this.settings.format&&kr(t,this.settings.format)(),this.settings.cmd&&t.execCommand(this.settings.cmd)}}});s=l,e.addMenuItem("formats",{text:"Formats",menu:s}),u=l,(c=e).addButton("styleselect",{type:"menubutton",text:"Formats",menu:u,onShowMenu:function(){c.settings.style_formats_autohide&&Or(c,this.menu)}})}(e),function(e){var t,n;(t=e).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(n=t,function(){var e=this;n.on("VisualAid",(function(t){e.active(t.hasVisual)})),e.active(n.hasVisual)}),cmd:"mceToggleVisualAid"})}(e),function(e){var t;(t=e).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Ir(t)),this.menu.renderNew()}})}(e)}},Hr=Ft.extend({recalc:function(e){var t,n,i,r,o,s,a,c,u,l,d,f,m,h,g,p,v,b,x,y,w,k,C,_,S,E,T,N,R=[],A=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),b=t.spacingH||t.spacing||0,x=t.spacingV||t.spacing||0,y=t.alignH||t.align,w=t.alignV||t.align,p=e.paddingBox,N="reverseRows"in t?t.reverseRows:e.isRtl(),y&&"string"==typeof y&&(y=[y]),w&&"string"==typeof w&&(w=[w]);for(d=0;d<i;d++)R.push(0);for(f=0;f<n;f++)A.push(0);for(f=0;f<n;f++)for(d=0;d<i&&(l=r[f*i+d]);d++)_=(u=l.layoutRect()).minW,S=u.minH,R[d]=_>R[d]?_:R[d],A[f]=S>A[f]?S:A[f];for(E=o.innerW-p.left-p.right,k=0,d=0;d<i;d++)k+=R[d]+(d>0?b:0),E-=(d>0?b:0)+R[d];for(T=o.innerH-p.top-p.bottom,C=0,f=0;f<n;f++)C+=A[f]+(f>0?x:0),T-=(f>0?x:0)+A[f];if(k+=p.left+p.right,C+=p.top+p.bottom,(c={}).minW=k+(o.w-o.innerW),c.minH=C+(o.h-o.innerH),c.contentW=c.minW-o.deltaW,c.contentH=c.minH-o.deltaH,c.minW=Math.min(c.minW,o.maxW),c.minH=Math.min(c.minH,o.maxH),c.minW=Math.max(c.minW,o.startMinWidth),c.minH=Math.max(c.minH,o.startMinHeight),!o.autoResize||c.minW===o.minW&&c.minH===o.minH){var D;o.autoResize&&((c=e.layoutRect(c)).contentW=c.minW-o.deltaW,c.contentH=c.minH-o.deltaH),D="start"===t.packV?0:T>0?Math.floor(T/n):0;var P=0,O=t.flexWidths;if(O)for(d=0;d<O.length;d++)P+=O[d];else P=i;var M=E/P;for(d=0;d<i;d++)R[d]+=O?O[d]*M:M;for(h=p.top,f=0;f<n;f++){for(m=p.left,a=A[f]+D,d=0;d<i&&(l=r[N?f*i+i-1-d:f*i+d]);d++)g=l.settings,u=l.layoutRect(),s=Math.max(R[d],u.startMinWidth),u.x=m,u.y=h,"center"===(v=g.alignH||(y?y[d]||y[0]:null))?u.x=m+s/2-u.w/2:"right"===v?u.x=m+s-u.w:"stretch"===v&&(u.w=s),"center"===(v=g.alignV||(w?w[d]||w[0]:null))?u.y=h+a/2-u.h/2:"bottom"===v?u.y=h+a-u.h:"stretch"===v&&(u.h=a),l.layoutRect(u),m+=s+b,l.recalc&&l.recalc();h+=a+x}}else if(c.w=c.minW,c.h=c.minH,e.layoutRect(c),this.recalc(e),null===e._lastRect){var B=e.parent();B&&(B._lastRect=null,B.recalc())}}}),Fr=Rt.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):_.setTimeout((function(){n.html(e)})),this}}),jr=Rt.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e.state.on("change:help",(function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}}),Ur=Rt.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();return e.settings.multiline&&(Se.getSize(e.getEl()).width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,Se.getSize(e.getEl()).height)),t},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId,r=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!i&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(i=e._id),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+r+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+r+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}}),Wr=rt.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each((function(e){e.classes.add("toolbar-item")})),this._super()}}),$r=Wr.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),qr=jt.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=g.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",(function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())})),n.menu.on("select",(function(){n.focus()})),n.menu.on("show hide",(function(e){e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)})).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon,o=t.state.get("text"),s="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof $r?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+s+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",(function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())})),e.on("mouseenter",(function(t){var n,i=t.control,r=e.parent();i&&r&&i instanceof qr&&i.parent()===r&&(r.items().filter("MenuButton").each((function(e){e.hideMenu&&e!==i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())})),n&&(i.focus(),i.showMenu()))})),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",(function(){e.menu&&e.menu.remove(),e.menu=null})),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Vr=kt.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=a.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu"),e.animate&&11!==k.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var e,t=this;function n(){t.throbber&&(t.throbber.hide(),t.throbber=null)}t.settings.itemsFactory&&(t.throbber||(t.throbber=new Et(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,(function(){t.items().remove(),t.fire("loading")})),t.on("hide close",n)),t.requestTime=e=(new Date).getTime(),t.settings.itemsFactory((function(i){0!==i.length?t.requestTime===e&&(t.getEl().style.width="",t.getEl("body").style.width="",n(),t.items().remove(),t.getEl("body").innerHTML="",t.add(i),t.renderNew(),t.fire("loaded")):t.hide()})))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each((function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1})),e.settings.itemsFactory&&e.on("postrender",(function(){e.settings.itemsFactory&&e.load()})),e.on("show hide",(function(t){t.control===e&&("show"===t.type?_.setTimeout((function(){e.classes.add("in")}),0):e.classes.remove("in"))})),e._super()}}),hr=qr.extend({init:function(e){var t,n,i,r,o=this;o._super(e),e=o.settings,o._values=t=e.values,t&&(void 0!==e.value&&function s(t){for(var r=0;r<t.length;r++){if(n=t[r].selected||e.value===t[r].value)return i=i||t[r].text,o.state.set("value",t[r].value),!0;if(t[r].menu&&s(t[r].menu))return!0}}(t),!n&&t.length>0&&(i=t[0].text,o.state.set("value",t[0].value)),o.state.set("menu",t)),o.state.set("text",e.text||i),o.classes.add("listbox"),o.on("select",(function(t){var n=t.control;r&&(t.lastControl=r),e.multiple?n.active(!n.active()):o.value(t.control.value()),r=n}))},bindStates:function(){var e=this;return e.on("show",(function(t){var n,i;n=t.control,i=e.value(),n instanceof Vr&&n.items().each((function(e){e.hasMenus()||e.active(e.value()===i)}))})),e.state.on("change:value",(function(t){var n=function i(e,t){var n;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(n=i(e[r].menu,t)))return n}}(e.state.get("menu"),t.value);n?e.text(n.text):e.text(e.settings.text)})),e._super()}}),Gr=Rt.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",(function(e){e.preventDefault()})),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,t=this,n=t.settings,i=t.parent();if(i.items().each((function(e){e!==t&&e.hideMenu()})),n.menu){(e=t.menu)?e.show():((e=n.menu).length?e={type:"menu",animate:!0,items:e}:(e.type=e.type||"menu",e.animate=!0),i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),(e=t.menu=g.create(e).parent(t).renderTo()).reflow(),e.on("cancel",(function(n){n.stopPropagation(),t.focus(),e.hide()})),e.on("show hide",(function(e){e.control.items&&e.control.items().each((function(e){e.active(e.settings.selected)}))})).fire("show"),e.on("hide",(function(n){n.control===e&&t.classes.remove("selected")})),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var r=e.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(t.getEl(),r),e.rel=r,r="menu-sub-"+r,e.classes.remove(e._lastRel).add(r),e._lastRel=r,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e,t=this,n=t._id,i=t.settings,r=t.classPrefix,o=t.state.get("text"),s=t.settings.icon,a="",c=i.shortcut,u=t.encode(i.url);function l(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(e){var t=i.match||"";return t?e.replace(new RegExp(l(t),"gi"),(function(e){return"!mce~match["+e+"]mce~match!"})):e}function f(e){return e.replace(new RegExp(l("!mce~match["),"g"),"<b>").replace(new RegExp(l("]mce~match!"),"g"),"</b>")}return s&&t.parent().classes.add("menu-has-icons"),i.image&&(a=" style=\"background-image: url('"+i.image+"')\""),c&&(c=function(e){var t,n,i;for(i=k.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=i[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(c)),s=r+"ico "+r+"i-"+(t.settings.icon||"none"),e="-"!==o?'<i class="'+s+'"'+a+"></i> ":"",o=f(t.encode(d(o))),u=f(t.encode(d(u))),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+e+("-"!==o?'<span id="'+n+'-text" class="'+r+'text">'+o+"</span>":"")+(c?'<div id="'+n+'-shortcut" class="'+r+'menu-shortcut">'+c+"</div>":"")+(i.menu?'<div class="'+r+'caret"></div>':"")+(u?'<div class="'+r+'menu-item-link">'+u+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&(i.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",(function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),_.requestAnimationFrame((function(){e.parent().hideAll()}))))})),e._super(),e},hover:function(){return this.parent().items().each((function(e){e.classes.remove("selected")})),this.classes.toggle("selected",!0),this},active:function(e){return function(e,t){var n=e._textStyle;if(n){var i=e.getEl("text");i.setAttribute("style",n),t&&(i.style.color="",i.style.backgroundColor="")}}(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Yr=$t.extend({Defaults:{classes:"radio",role:"radio"}}),Xr=Rt.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"===e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new mt(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!==e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function Jr(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}var br=Rt.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",(function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))}))},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t=this,n="";return e=Jr(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",(function(t){e.getEl().innerHTML=Jr(t.value)})),e._super()}});function Kr(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function Zr(e,t,n){e.setAttribute("aria-"+t,n)}function Qr(e,t){var n,i,r,o,s;"v"===e.settings.orientation?(r="top",i="height",n="h"):(r="left",i="width",n="w"),s=e.getEl("handle"),o=((e.layoutRect()[n]||100)-Se.getSize(s)[i])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",s.style[r]=o,s.style.height=e.layoutRect().h+"px",Zr(s,"valuenow",t),Zr(s,"valuetext",""+e.settings.previewFilter(t)),Zr(s,"valuemin",e._minValue),Zr(s,"valuemax",e._maxValue)}var eo=Rt.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"===e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,n,i,r,o,s,a,c,u,l,d,f,m,h=this;e=h._minValue,t=h._maxValue,"v"===h.settings.orientation?(n="screenY",i="top",r="height",o="h"):(n="screenX",i="left",r="width",o="w"),h._super(),function(e,t){function n(n){var i,r,o;i=Kr(i=(((i=h.value())+(o=e))/(t-o)+.05*n)*(t-(r=e))-r,e,t),h.value(i),h.fire("dragstart",{value:i}),h.fire("drag",{value:i}),h.fire("dragend",{value:i})}h.on("keydown",(function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}}))}(e,t),s=e,a=t,c=h.getEl("handle"),h._dragHelper=new mt(h._id,{handle:h._id+"-handle",start:function(e){u=e[n],l=parseInt(h.getEl("handle").style[i],10),d=(h.layoutRect()[o]||100)-Se.getSize(c)[r],h.fire("dragstart",{value:m})},drag:function(e){var t=e[n]-u;f=Kr(l+t,0,d),c.style[i]=f+"px",m=s+f/d*(a-s),h.value(m),h.tooltip().text(""+h.settings.previewFilter(m)).show().moveRel(c,"bc tc"),h.fire("drag",{value:m})},stop:function(){h.tooltip().hide(),h.fire("dragend",{value:m})}})},repaint:function(){this._super(),Qr(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){Qr(e,t.value)})),e._super()}}),to=Rt.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),no=qr.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this.getEl(),i=this.layoutRect();return this._super(),e=n.firstChild,t=n.lastChild,Ce(e).css({width:i.w-Se.getSize(t).width,height:i.h-2}),Ce(t).css({height:i.h-2}),this},activeMenu:function(e){Ce(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t,n=this,i=n._id,r=n.classPrefix,o=n.state.get("icon"),s=n.state.get("text"),a=n.settings,c="";return(e=a.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o=a.icon?r+"ico "+r+"i-"+o:"",s&&(n.classes.add("btn-has-text"),c='<span class="'+r+'txt">'+n.encode(s)+"</span>"),t="boolean"==typeof a.active?' aria-pressed="'+a.active+'"':"",'<div id="'+i+'" class="'+n.classes+'" role="button"'+t+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+c+'</button><button type="button" class="'+r+'open" hidefocus="1" tabindex="-1">'+(n._menuBtnText?(o?" ":"")+n._menuBtnText:"")+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;return this.on("click",(function(t){var n=t.target;if(t.control===this)for(;n;){if(t.aria&&"down"!==t.aria.key||"BUTTON"===n.nodeName&&-1===n.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}})),delete this.settings.onclick,this._super()}}),ro=wr.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),oo=ht.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),Ce(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(t=this.getEl("t"+e)).setAttribute("aria-selected","true"),Ce(t).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each((function(t,n){e!==n&&t.hide()}))},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each((function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"})),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",(function(t){var n=t.target.parentNode;if(n&&n.id===e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]===t.target&&e.activateTab(i)}))},initLayoutRect:function(){var e,t,n,i=this;t=(t=Se.getSize(i.getEl("head")).width)<0?0:t,n=0,i.items().each((function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)})),i.items().each((function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})}));var r=Se.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=n+r,(e=i._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e}}),io=Rt.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",(function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){t.state.set("value",e.target.value)})))},repaint:function(){var e,t,n,i,r,o=this,s=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var a=document;return!o.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-s+"px"),i=(n=o.borderBox).left+n.right+8,s=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-s+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var e,t,n=this,i=n.settings;return e={id:n._id,hidefocus:"1"},a.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],(function(t){e[t]=i[t]})),n.disabled()&&(e.disabled="disabled"),i.subtype&&(e.type=i.subtype),(t=Se.create(i.multiline?"textarea":"input",e)).value=n.state.get("value"),t.className=n.classes,t.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)}))},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.getEl().value!==t.value&&(e.getEl().value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl().disabled=t.value})),e._super()},remove:function(){this.$el.off(),this._super()}}),ao=function(){return{Selector:Fe,Collection:We,ReflowQueue:Ke,Control:ot,Factory:g,KeyboardNavigation:at,Container:rt,DragHelper:mt,Scrollable:dt,Panel:ht,Movable:Te,Resizable:gt,FloatPanel:kt,Window:It,MessageBox:zt,Tooltip:Nt,Widget:Rt,Progress:At,Notification:Pt,Layout:Ht,AbsoluteLayout:Ft,Button:jt,ButtonGroup:Wt,Checkbox:$t,ComboBox:Vt,ColorBox:Gt,PanelButton:Yt,ColorButton:Jt,ColorPicker:Zt,Path:en,ElementPath:tn,FormItem:nn,Form:rn,FieldSet:on,FilePicker:vr,FitLayout:xr,FlexLayout:yr,FlowLayout:wr,FormatControls:Lr,GridLayout:Hr,Iframe:Fr,InfoBox:jr,Label:Ur,Toolbar:Wr,MenuBar:$r,MenuButton:qr,MenuItem:Gr,Throbber:Et,Menu:Vr,ListBox:hr,Radio:Yr,ResizeHandle:Xr,SelectBox:br,Slider:eo,Spacer:to,SplitButton:no,StackLayout:ro,TabPanel:oo,TextBox:io,DropZone:Qt,BrowseButton:Ut}};a.each(ao(),(function(e,t){g.add(t,e)})),function(e){e.ui?a.each(ao(),(function(t,n){e.ui[n]=t})):e.ui=ao()}(window.tinymce?window.tinymce:{}),c.add("modern",(function(e){return Lr.setup(e),Lt(e)}))}()}).call(this,n(182).setImmediate,n(22))},function(e,t,n){"use strict";var r=n(3),o=(n(28),n(18),n(1)),c=n(0),l=window.__NUXT__;function d(){if(!this._hydrated)return this.$fetch()}function f(){if((e=this).$vnode&&e.$vnode.elm&&e.$vnode.elm.dataset&&e.$vnode.elm.dataset.fetchKey){var e;this._hydrated=!0,this._fetchKey=this.$vnode.elm.dataset.fetchKey;var data=l.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var t in data)o.default.set(this.$data,t,data[t])}}function m(){var e=this;return this._fetchPromise||(this._fetchPromise=h.call(this).then((function(){delete e._fetchPromise}))),this._fetchPromise}function h(){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,t=null,n=Date.now(),e.prev=6,e.next=9,this.$options.fetch.call(this);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),t=Object(c.p)(e.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){e.next=19;break}return e.next=19,new Promise((function(e){return setTimeout(e,r)}));case 19:this.$fetchState.error=t,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return e.stop()}}),e,this,[[6,11]])})))).apply(this,arguments)}t.a={beforeCreate:function(){Object(c.l)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.default.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=m.bind(this),Object(c.a)(this,"created",f),Object(c.a)(this,"beforeMount",d))}}},,,function(e,t,n){e.exports=n(231)},function(e,t,n){"use strict";n.r(t),function(e){n(52),n(41),n(66);var t=n(36),r=n(3),o=(n(171),n(240),n(248),n(250),n(28),n(39),n(44),n(51),n(111),n(115),n(38),n(68),n(18),n(53),n(1)),c=n(220),l=n(156),d=n(0),f=n(27),m=n(227),h=n(101);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}o.default.__nuxt__fetch__mixin__||(o.default.mixin(m.a),o.default.__nuxt__fetch__mixin__=!0),o.default.component(h.a.name,h.a),o.default.component("NLink",h.a),e.fetch||(e.fetch=c.a);var y,w,k=[],C=window.__NUXT__||{},_=C.config||{};_._app&&(n.p=Object(d.v)(_._app.cdnURL,_._app.assetsPath)),Object.assign(o.default.config,{silent:!0,performance:!1});var S=o.default.config.errorHandler||console.error;function E(e,t,n){for(var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e},o=n?Object(d.g)(n):[],c=Math.max(e.length,o.length),l=[],f=function(i){var t=Object.assign({},r(e[i])),n=Object.assign({},r(o[i]));Object.keys(t).filter((function(e){return void 0!==t[e]&&!e.toLowerCase().includes("leave")})).forEach((function(e){n[e]=t[e]})),l.push(n)},i=0;i<c;i++)f(i);return l}function T(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,f,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._routeChanged=Boolean(y.nuxt.err)||n.name!==t.name,this._paramChanged=!this._routeChanged&&n.path!==t.path,this._queryChanged=!this._paramChanged&&n.fullPath!==t.fullPath,this._diffQuery=this._queryChanged?Object(d.i)(t.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=5,!this._queryChanged){e.next=12;break}return e.next=9,Object(d.r)(t,(function(e,t){return{Component:e,instance:t}}));case 9:o=e.sent,o.some((function(e){var r=e.Component,o=e.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return m._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),e.next=26;break;case 15:if(e.prev=15,e.t0=e.catch(5),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,f=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(f)){e.next=23;break}return window.location.reload(!0),e.abrupt("return");case 23:this.error({statusCode:l,message:f}),this.$nuxt.$emit("routeChanged",t,n,c),r();case 26:case"end":return e.stop()}}),e,this,[[5,15]])})))).apply(this,arguments)}function R(e,t){return C.serverRendered&&t&&Object(d.b)(e,t),e._Ctor=e,e}function A(e){return Object(d.d)(e,function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=R(Object(d.s)(t),C.data?C.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}())}function D(e,t,n){var r=this,o=[],c=!1;if(void 0!==n&&(o=[],(n=Object(d.s)(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(d.o)(o,t)}function P(e,t,n){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(regeneratorRuntime.mark((function e(t,n,o){var c,l,m,h,x,w,C,_,S,T,N,R,A,P,O,M=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",o());case 2:return!1,t===n?(k=[],!0):(c=[],k=Object(d.g)(n,c).map((function(e,i){return Object(d.c)(n.matched[c[i]].path)(n.params)}))),l=!1,m=function(path){n.path===path.path&&M.$loading.finish&&M.$loading.finish(),n.path!==path.path&&M.$loading.pause&&M.$loading.pause(),l||(l=!0,o(path))},e.next=8,Object(d.t)(y,{route:t,from:n,next:m.bind(this)});case 8:if(this._dateLastError=y.nuxt.dateErr,this._hadError=Boolean(y.nuxt.err),h=[],(x=Object(d.g)(t,h)).length){e.next=27;break}return e.next=15,D.call(this,x,y.context);case 15:if(!l){e.next=17;break}return e.abrupt("return");case 17:return w=(f.a.options||f.a).layout,e.next=20,this.loadLayout("function"==typeof w?w.call(f.a,y.context):w);case 20:return C=e.sent,e.next=23,D.call(this,x,y.context,C);case 23:if(!l){e.next=25;break}return e.abrupt("return");case 25:return y.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",o());case 27:return x.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(E(x,t,n)),e.prev=29,e.next=32,D.call(this,x,y.context);case 32:if(!l){e.next=34;break}return e.abrupt("return");case 34:if(!y.context._errored){e.next=36;break}return e.abrupt("return",o());case 36:return"function"==typeof(_=x[0].options.layout)&&(_=_(y.context)),e.next=40,this.loadLayout(_);case 40:return _=e.sent,e.next=43,D.call(this,x,y.context,_);case 43:if(!l){e.next=45;break}return e.abrupt("return");case 45:if(!y.context._errored){e.next=47;break}return e.abrupt("return",o());case 47:S=!0,e.prev=48,T=v(x),e.prev=50,T.s();case 52:if((N=T.n()).done){e.next=63;break}if("function"==typeof(R=N.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,R.options.validate(y.context);case 58:if(S=e.sent){e.next=61;break}return e.abrupt("break",63);case 61:e.next=52;break;case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(50),T.e(e.t0);case 68:return e.prev=68,T.f(),e.finish(68);case 71:e.next=77;break;case 73:return e.prev=73,e.t1=e.catch(48),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",o());case 77:if(S){e.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",o());case 80:return e.next=82,Promise.all(x.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(r,i){var o,c,l,f,m,v,x,w,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._path=Object(d.c)(t.matched[h[i]].path)(t.params),r._dataRefresh=!1,o=r._path!==k[i],M._routeChanged&&o?r._dataRefresh=!0:M._paramChanged&&o?(c=r.options.watchParam,r._dataRefresh=!1!==c):M._queryChanged&&(!0===(l=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(l)?r._dataRefresh=l.some((function(e){return M._diffQuery[e]})):"function"==typeof l&&(A||(A=Object(d.h)(t)),r._dataRefresh=l.apply(A[i],[t.query,n.query]))),M._hadError||!M._isMounted||r._dataRefresh){e.next=6;break}return e.abrupt("return");case 6:return f=[],m=r.options.asyncData&&"function"==typeof r.options.asyncData,v=Boolean(r.options.fetch)&&r.options.fetch.length,x=m&&v?30:45,m&&((w=Object(d.q)(r.options.asyncData,y.context)).then((function(e){Object(d.b)(r,e),M.$loading.increase&&M.$loading.increase(x)})),f.push(w)),M.$loading.manual=!1===r.options.loading,v&&((p=r.options.fetch(y.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){M.$loading.increase&&M.$loading.increase(x)})),f.push(p)),e.abrupt("return",Promise.all(f));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 82:l||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),o()),e.next=99;break;case 85:if(e.prev=85,e.t2=e.catch(29),"ERR_REDIRECT"!==(P=e.t2||{}).message){e.next=90;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,n,P));case 90:return k=[],Object(d.k)(P),"function"==typeof(O=(f.a.options||f.a).layout)&&(O=O(y.context)),e.next=96,this.loadLayout(O);case 96:this.error(P),this.$nuxt.$emit("routeChanged",t,n,P),o();case 99:case"end":return e.stop()}}),e,this,[[29,85],[48,73],[50,65,68,71]])})))).apply(this,arguments)}function M(e,n){Object(d.d)(e,(function(e,n,r,c){return"object"!==Object(t.a)(e)||e.options||((e=o.default.extend(e))._Ctor=e,r.components[c]=e),e}))}function B(e){var t=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(t=!1);var n=t?(f.a.options||f.a).layout:e.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(y.context)),this.setLayout(n)}function I(e){e._hadError&&e._dateLastError===e.$options.nuxt.dateErr&&e.error()}function z(e,t){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=Object(d.h)(e),c=Object(d.g)(e),l=!1;o.default.nextTick((function(){r.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)o.default.set(e.$data,n,t[n]);l=!0}})),l&&window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),I(n)}))}}function L(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),w.afterEach((function(t,n){o.default.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,n)}))}))}function H(){return(H=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=t.app,w=t.router,t.store,n=new o.default(y),r=C.layout||"default",e.next=7,n.loadLayout(r);case 7:return n.setLayout(r),c=function(){n.$mount("#__nuxt"),w.afterEach(M),w.afterEach(B.bind(n)),w.afterEach(z.bind(n)),o.default.nextTick((function(){L(n)}))},e.next=11,Promise.all(A(y.context.route));case 11:if(l=e.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),l.length&&(n.setTransitions(E(l,w.currentRoute)),k=w.currentRoute.matched.map((function(e){return Object(d.c)(e.path)(w.currentRoute.params)}))),n.$loading={},C.error&&n.error(C.error),w.beforeEach(T.bind(n)),w.beforeEach(P.bind(n)),!C.serverRendered||!Object(d.n)(C.routePath,n.context.route.path)){e.next=20;break}return e.abrupt("return",c());case 20:return f=function(){M(w.currentRoute,w.currentRoute),B.call(n,w.currentRoute),I(n),c()},e.next=23,new Promise((function(e){return setTimeout(e,0)}));case 23:P.call(n,w.currentRoute,w.currentRoute,(function(path){if(path){var e=w.afterEach((function(t,n){e(),f()}));w.push(path,void 0,(function(e){e&&S(e)}))}else f()}));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(f.b)(null,C.config).then((function(e){return H.apply(this,arguments)})).catch(S)}.call(this,n(22))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(187)},function(e,t,n){var r=n(4)(!1);r.push([e.i,".__nuxt-error-page{padding:1rem;background:#f7f8fb;color:#47494e;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:sans-serif;font-weight:100!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;position:absolute;top:0;left:0;right:0;bottom:0}.__nuxt-error-page .error{max-width:450px}.__nuxt-error-page .title{font-size:1.5rem;margin-top:15px;color:#47494e;margin-bottom:8px}.__nuxt-error-page .description{color:#7f828b;line-height:21px;margin-bottom:10px}.__nuxt-error-page a{color:#7f828b!important;text-decoration:none}.__nuxt-error-page .logo{position:fixed;left:12px;bottom:12px}",""]),e.exports=r},function(e,t,n){"use strict";n(188)},function(e,t,n){var r=n(4)(!1);r.push([e.i,".nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#3b8070;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}",""]),e.exports=r},,,,,,function(e,t,n){var r=n(4),o=n(50),c=n(273),l=n(274),d=n(275),f=n(276),m=n(277),h=n(278),v=n(279),x=n(280),y=n(281),w=r(!1),k=o(c),C=o(l),_=o(l,{hash:"?#iefix"}),S=o(d),E=o(f),T=o(m,{hash:"#tinymce"}),N=o(h),R=o(h,{hash:"?#iefix"}),A=o(v),D=o(x),P=o(y,{hash:"#tinymce"});w.push([e.i,'.mce-container,.mce-container *,.mce-reset,.mce-widget,.mce-widget *{margin:0;padding:0;border:0;outline:0;vertical-align:top;background:transparent;text-decoration:none;color:#595959;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;text-shadow:none;float:none;position:static;width:auto;height:auto;white-space:nowrap;cursor:inherit;-webkit-tap-highlight-color:transparent;line-height:normal;font-weight:400;text-align:left;box-sizing:content-box;direction:ltr;max-width:none}.mce-widget button{box-sizing:border-box}.mce-container [unselectable]{-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.word-wrap{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.mce-fade{opacity:0;transition:opacity .15s linear}.mce-fade.mce-in{opacity:1}.mce-tinymce{visibility:inherit!important;position:relative}.mce-fullscreen{z-index:100}div.mce-fullscreen{width:100%;height:auto}.mce-tinymce{display:block;box-shadow:0 1px 2px rgba(0,0,0,.2)}.mce-statusbar>.mce-container-body{display:flex;padding-right:16px}.mce-statusbar>.mce-container-body .mce-path{flex:1}.mce-wordcount{font-size:inherit;text-transform:uppercase;padding:8px 0}div.mce-edit-area{background:#fff;filter:none}.mce-statusbar{position:relative}.mce-statusbar .mce-container-body{position:relative;font-size:11px}.mce-fullscreen .mce-resizehandle{display:none}.mce-statusbar .mce-flow-layout-item{margin:0}.mce-charmap{border-collapse:collapse}.mce-charmap td{cursor:default;border:1px solid #c5c5c5;width:20px;height:20px;line-height:20px;vertical-align:middle;padding:2px}.mce-charmap td,.mce-charmap td div{text-align:center}.mce-charmap td:hover{background:#fff}.mce-grid td.mce-grid-cell div{border:1px solid #c5c5c5;width:15px;height:15px;margin:0;cursor:pointer}.mce-grid td.mce-grid-cell div:focus{border-color:#91bbe9}.mce-grid td.mce-grid-cell div[disabled]{cursor:not-allowed}.mce-grid{border-spacing:2px;border-collapse:separate}.mce-grid a{display:block;border:1px solid transparent}.mce-grid a:focus,.mce-grid a:hover{border-color:#91bbe9}.mce-grid-border{margin:0 4px}.mce-grid-border a{border-color:#c5c5c5;width:13px;height:13px}.mce-grid-border a.mce-active,.mce-grid-border a:hover{border-color:#91bbe9;background:#bdd6f2}.mce-text-center{text-align:center}div.mce-tinymce-inline{width:100%}.mce-colorbtn-trans div{text-align:center;vertical-align:middle;font-weight:700;font-size:20px;line-height:16px;color:#8b8b8b}.mce-monospace{font-family:"Courier New",Courier,monospace}.mce-toolbar-grp .mce-flow-layout-item{margin-bottom:0}.mce-container b{font-weight:700}.mce-container p{margin-bottom:5px}.mce-container a{cursor:pointer;color:#2276d2}.mce-container a:hover{text-decoration:underline}.mce-container ul{margin-left:15px}.mce-container .mce-table-striped{border-collapse:collapse;margin:10px}.mce-container .mce-table-striped thead>tr{background-color:#fafafa}.mce-container .mce-table-striped thead>tr th{font-weight:700}.mce-container .mce-table-striped td,.mce-container .mce-table-striped th{padding:5px}.mce-container .mce-table-striped tr:nth-child(2n){background-color:#fafafa}.mce-container .mce-table-striped tbody>tr:hover{background-color:#e1e1e1}.mce-branding{font-size:inherit;text-transform:uppercase;white-space:pre;padding:8px 0}.mce-branding a{font-size:inherit;color:inherit}.mce-top-part{position:relative}.mce-top-part:before{content:"";position:absolute;box-shadow:0 1px 2px rgba(0,0,0,.2);top:0;right:0;bottom:0;left:0;pointer-events:none}.mce-rtl .mce-wordcount{left:0;right:auto}.mce-rtl .mce-statusbar>.mce-container-body>:last-child{padding-right:0;padding-left:10px}.mce-rtl .mce-path{text-align:right;padding-right:16px}.mce-croprect-container,.mce-croprect-handle{position:absolute;top:0;left:0}.mce-croprect-handle{width:20px;height:20px;border:2px solid #fff}.mce-croprect-handle-nw{border-width:2px 0 0 2px;margin:-2px 0 0 -2px;cursor:nw-resize;top:100px;left:100px}.mce-croprect-handle-ne{border-width:2px 2px 0 0;margin:-2px 0 0 -20px;cursor:ne-resize;top:100px;left:200px}.mce-croprect-handle-sw{border-width:0 0 2px 2px;margin:-20px 2px 0 -2px;cursor:sw-resize;top:200px;left:100px}.mce-croprect-handle-se{border-width:0 2px 2px 0;margin:-20px 0 0 -20px;cursor:se-resize;top:200px;left:200px}.mce-croprect-handle-move{position:absolute;cursor:move;border:0}.mce-croprect-block{opacity:.5;filter:alpha(opacity=50);zoom:1;position:absolute;background:#000}.mce-croprect-handle:focus{border-color:#2276d2}.mce-croprect-handle-move:focus{outline:1px solid #2276d2}.mce-imagepanel{overflow:auto;background:#000}.mce-imagepanel-bg{position:absolute;background:url("data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==")}.mce-imagepanel img{position:absolute}.mce-imagetool.mce-btn .mce-ico{display:block;width:20px;height:20px;text-align:center;line-height:20px;font-size:20px;padding:5px}.mce-arrow-up{margin-top:12px}.mce-arrow-down{margin-top:-12px}.mce-arrow:after,.mce-arrow:before{position:absolute;left:50%;display:block;width:0;height:0;border-style:solid;border-color:transparent;content:""}.mce-arrow.mce-arrow-up:before{top:-9px;border-bottom-color:#c5c5c5;border-width:0 9px 9px;margin-left:-9px}.mce-arrow.mce-arrow-down:before{bottom:-9px;border-top-color:#c5c5c5;border-width:9px 9px 0;margin-left:-9px}.mce-arrow.mce-arrow-up:after{top:-8px;border-bottom-color:#fff;border-width:0 8px 8px;margin-left:-8px}.mce-arrow.mce-arrow-down:after{bottom:-8px;border-top-color:#fff;border-width:8px 8px 0;margin-left:-8px}.mce-arrow.mce-arrow-left:after,.mce-arrow.mce-arrow-left:before{margin:0}.mce-arrow.mce-arrow-left:before{left:8px}.mce-arrow.mce-arrow-left:after{left:9px}.mce-arrow.mce-arrow-right:after,.mce-arrow.mce-arrow-right:before{left:auto;margin:0}.mce-arrow.mce-arrow-right:before{right:8px}.mce-arrow.mce-arrow-right:after{right:9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:before{left:-9px;top:50%;border-right-color:#c5c5c5;border-width:9px 9px 9px 0;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:after{left:-8px;top:50%;border-right-color:#fff;border-width:8px 8px 8px 0;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left{margin-left:12px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:before{right:-9px;top:50%;border-left-color:#c5c5c5;border-width:9px 0 9px 9px;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:after{right:-8px;top:50%;border-left-color:#fff;border-width:8px 0 8px 8px;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right{margin-left:-14px}.mce-edit-aria-container>.mce-container-body{display:flex}.mce-edit-aria-container>.mce-container-body .mce-edit-area{flex:1}.mce-edit-aria-container>.mce-container-body .mce-sidebar>.mce-container-body{display:flex;align-items:stretch;height:100%}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel{min-width:250px;max-width:250px;position:relative}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel>.mce-container-body{position:absolute;width:100%;height:100%;overflow:auto;top:0;left:0}.mce-sidebar-toolbar{border:solid #c5c5c5;border-width:0 0 0 1px}.mce-sidebar-toolbar .mce-btn{border-left:0;border-right:0}.mce-sidebar-toolbar .mce-btn.mce-active,.mce-sidebar-toolbar .mce-btn.mce-active:hover{background-color:#555c66}.mce-sidebar-toolbar .mce-btn.mce-active:hover button,.mce-sidebar-toolbar .mce-btn.mce-active:hover button i,.mce-sidebar-toolbar .mce-btn.mce-active button,.mce-sidebar-toolbar .mce-btn.mce-active button i{color:#fff;text-shadow:1px 1px none}.mce-sidebar-panel{border:solid #c5c5c5;border-width:0 0 0 1px}.mce-container,.mce-container-body{display:block}.mce-autoscroll{overflow:hidden}.mce-scrollbar{position:absolute;width:7px;height:100%;top:2px;right:2px;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-scrollbar-h{top:auto;right:auto;left:2px;bottom:2px;width:100%;height:7px}.mce-scrollbar-thumb{position:absolute;background-color:#000;border:1px solid rgba(85,85,85,.6);width:5px;height:100%}.mce-scrollbar-h .mce-scrollbar-thumb{width:100%;height:5px}.mce-scrollbar.mce-active,.mce-scrollbar:hover{background-color:#aaa;opacity:.6;filter:alpha(opacity=60);zoom:1}.mce-scroll{position:relative}.mce-panel{border:0 solid #c5c5c5;background-color:#fff}.mce-floatpanel{position:absolute;box-shadow:0 1px 2px rgba(0,0,0,.2)}.mce-floatpanel.mce-fixed{position:fixed}.mce-floatpanel .mce-arrow,.mce-floatpanel .mce-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.mce-floatpanel .mce-arrow{border-width:11px}.mce-floatpanel .mce-arrow:after{border-width:10px;content:""}.mce-floatpanel.mce-popover{filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;box-shadow:0 1px 2px rgba(0,0,0,.2);top:0;left:0;background:#fff;border:1px solid #c5c5c5;border:1px solid rgba(0,0,0,.25)}.mce-floatpanel.mce-popover.mce-bottom{margin-top:10px;*margin-top:0}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#c5c5c5;border-bottom-color:rgba(0,0,0,.25);top:-11px}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.mce-floatpanel.mce-popover.mce-bottom.mce-start{margin-left:-22px}.mce-floatpanel.mce-popover.mce-bottom.mce-start>.mce-arrow{left:20px}.mce-floatpanel.mce-popover.mce-bottom.mce-end{margin-left:22px}.mce-floatpanel.mce-popover.mce-bottom.mce-end>.mce-arrow{right:10px;left:auto}.mce-fullscreen{border:0;padding:0;margin:0;overflow:hidden;height:100%}#mce-modal-block,div.mce-fullscreen{position:fixed;top:0;left:0}#mce-modal-block{opacity:0;filter:alpha(opacity=0);zoom:1;width:100%;height:100%;background:#fff}#mce-modal-block.mce-in{opacity:.5;filter:alpha(opacity=50);zoom:1}.mce-window-move{cursor:move}.mce-window{box-shadow:0 3px 7px rgba(0,0,0,.3);filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;background:#fff;position:fixed;top:0;left:0;opacity:0;transform:scale(.1);transition:transform .1s ease-in,opacity .15s ease-in}.mce-window.mce-in{transform:scale(1);opacity:1}.mce-window-head{padding:9px 15px;border-bottom:1px solid #c5c5c5;position:relative}.mce-window-head .mce-close{position:absolute;right:0;top:0;height:38px;width:38px;text-align:center;cursor:pointer}.mce-window-head .mce-close i{color:#9b9b9b}.mce-close:hover i{color:#bdbdbd}.mce-window-head .mce-title{line-height:20px;font-size:20px;font-weight:700;text-rendering:optimizelegibility;padding-right:20px}.mce-foot,.mce-window .mce-container-body{display:block}.mce-foot{background-color:#fff;border-top:1px solid #c5c5c5}.mce-window-head .mce-dragh{position:absolute;top:0;left:0;cursor:move;width:90%;height:100%}.mce-window iframe{width:100%;height:100%}.mce-window-body .mce-listbox{border-color:#e2e4e7}.mce-window .mce-btn:hover{border-color:#c5c5c5}.mce-window .mce-btn:focus{border-color:#2276d2}.mce-foot .mce-btn,.mce-window-body .mce-btn{border-color:#c5c5c5}.mce-foot .mce-btn.mce-primary{border-color:transparent}.mce-rtl .mce-window-head .mce-close{position:absolute;right:auto;left:15px}.mce-rtl .mce-window-head .mce-dragh{left:auto;right:0}.mce-rtl .mce-window-head .mce-title{direction:rtl;text-align:right}.mce-tooltip{position:absolute;padding:5px;opacity:.8;filter:alpha(opacity=80);zoom:1;margin-top:1px}.mce-tooltip-inner{font-size:11px;background-color:#000;color:#fff;max-width:200px;padding:5px 8px 4px;text-align:center;white-space:normal;box-shadow:none}.mce-tooltip-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000}.mce-tooltip-arrow-n{border-bottom-color:#000}.mce-tooltip-arrow-s{border-top-color:#000}.mce-tooltip-arrow-e{border-left-color:#000}.mce-tooltip-arrow-w{border-right-color:#000}.mce-tooltip-nw,.mce-tooltip-sw{margin-left:-14px}.mce-tooltip-ne,.mce-tooltip-se{margin-left:14px}.mce-tooltip-n .mce-tooltip-arrow{left:50%;margin-left:-5px}.mce-tooltip-n .mce-tooltip-arrow,.mce-tooltip-nw .mce-tooltip-arrow{top:0;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-nw .mce-tooltip-arrow{left:10px}.mce-tooltip-ne .mce-tooltip-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-s .mce-tooltip-arrow{left:50%;margin-left:-5px}.mce-tooltip-s .mce-tooltip-arrow,.mce-tooltip-sw .mce-tooltip-arrow{bottom:0;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-sw .mce-tooltip-arrow{left:10px}.mce-tooltip-se .mce-tooltip-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-e .mce-tooltip-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent}.mce-tooltip-w .mce-tooltip-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent}.mce-progress{display:inline-block;position:relative;height:20px}.mce-progress .mce-bar-container{display:inline-block;width:100px;height:100%;margin-right:8px;border:1px solid #ccc;overflow:hidden}.mce-progress .mce-text{display:inline-block;margin-top:auto;margin-bottom:auto;font-size:14px;width:40px;color:#595959}.mce-bar{display:block;width:0;height:100%;background-color:#dfdfdf;transition:width .2s ease}.mce-notification{position:absolute;background-color:#fff;padding:5px;margin-top:5px;border:1px solid #c5c5c5;transition:transform .1s ease-in,opacity .15s ease-in;opacity:0;box-sizing:border-box}.mce-notification.mce-in{opacity:1}.mce-notification-success{background-color:#dff0d8;border-color:#d6e9c6}.mce-notification-info{background-color:#d9edf7;border-color:#779ecb}.mce-notification-warning{background-color:#fcf8e3;border-color:#faebcc}.mce-notification-error{background-color:#f2dede;border-color:#ebccd1}.mce-notification.mce-has-close{padding-right:15px}.mce-notification .mce-ico{margin-top:5px}.mce-notification-inner{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;display:inline-block;font-size:14px;margin:5px 8px 4px;text-align:center;white-space:normal;color:#31708f}.mce-notification-inner a{text-decoration:underline;cursor:pointer}.mce-notification .mce-progress{margin-right:8px}.mce-notification .mce-progress .mce-text{margin-top:5px}.mce-notification *,.mce-notification .mce-progress .mce-text{color:#595959}.mce-notification .mce-progress .mce-bar-container{border-color:#c5c5c5}.mce-notification .mce-progress .mce-bar-container .mce-bar{background-color:#595959}.mce-notification-success *,.mce-notification-success .mce-progress .mce-text{color:#3c763d}.mce-notification-success .mce-progress .mce-bar-container{border-color:#d6e9c6}.mce-notification-success .mce-progress .mce-bar-container .mce-bar{background-color:#3c763d}.mce-notification-info *,.mce-notification-info .mce-progress .mce-text{color:#31708f}.mce-notification-info .mce-progress .mce-bar-container{border-color:#779ecb}.mce-notification-info .mce-progress .mce-bar-container .mce-bar{background-color:#31708f}.mce-notification-warning *,.mce-notification-warning .mce-progress .mce-text{color:#8a6d3b}.mce-notification-warning .mce-progress .mce-bar-container{border-color:#faebcc}.mce-notification-warning .mce-progress .mce-bar-container .mce-bar{background-color:#8a6d3b}.mce-notification-error *,.mce-notification-error .mce-progress .mce-text{color:#a94442}.mce-notification-error .mce-progress .mce-bar-container{border-color:#ebccd1}.mce-notification-error .mce-progress .mce-bar-container .mce-bar{background-color:#a94442}.mce-notification .mce-close{position:absolute;top:6px;right:8px;font-size:20px;font-weight:700;line-height:20px;color:#9b9b9b;cursor:pointer}.mce-abs-layout{position:relative}.mce-abs-end,body .mce-abs-layout-item{position:absolute}.mce-abs-end{width:1px;height:1px}.mce-container-body.mce-abs-layout{overflow:hidden}.mce-btn{border:1px solid transparent;position:relative;text-shadow:0 1px 1px hsla(0,0%,100%,.75);background:#fff;display:inline-block;*display:inline;*zoom:1;box-shadow:none}.mce-btn:active,.mce-btn:focus,.mce-btn:hover{background:#fff;color:#595959;border-color:#e2e4e7}.mce-btn.mce-disabled:hover button,.mce-btn.mce-disabled button{cursor:default;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-btn.mce-active,.mce-btn.mce-active:active,.mce-btn.mce-active:focus,.mce-btn.mce-active:hover{box-shadow:none;background:#555c66;color:#fff;border-color:transparent}.mce-btn.mce-active:hover button,.mce-btn.mce-active:hover i,.mce-btn.mce-active button,.mce-btn.mce-active i{color:#fff}.mce-btn:hover .mce-caret{border-top-color:#b5bcc2}.mce-btn.mce-active .mce-caret,.mce-btn.mce-active:hover .mce-caret{border-top-color:#fff}.mce-btn button{padding:4px 6px;font-size:14px;line-height:20px;*line-height:16px;cursor:pointer;color:#595959;text-align:center;overflow:visible;-webkit-appearance:none}.mce-btn button::-moz-focus-inner{border:0;padding:0}.mce-btn i{text-shadow:1px 1px none}.mce-primary.mce-btn-has-text{min-width:50px}.mce-primary{color:#fff;border:1px solid transparent;background-color:#2276d2}.mce-primary:focus,.mce-primary:hover{background-color:#1e6abc;border-color:transparent}.mce-primary.mce-disabled:hover button,.mce-primary.mce-disabled button{cursor:default;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-primary.mce-active,.mce-primary.mce-active:hover,.mce-primary:not(.mce-disabled):active{background-color:#1e6abc;box-shadow:none}.mce-primary button,.mce-primary button i{color:#fff;text-shadow:1px 1px none}.mce-btn .mce-txt{font-size:inherit;line-height:inherit;color:inherit}.mce-btn-large button{padding:9px 14px;font-size:16px;line-height:normal}.mce-btn-large i{margin-top:2px}.mce-btn-small button{padding:1px 5px;font-size:12px;*padding-bottom:2px}.mce-btn-small i{line-height:20px;vertical-align:top;*line-height:18px}.mce-btn-small .mce-caret,.mce-btn .mce-caret{margin-top:8px;margin-left:0}.mce-caret{display:inline-block;*display:inline;*zoom:1;width:0;height:0;vertical-align:top;border-top:4px solid #b5bcc2;border-right:4px solid transparent;border-left:4px solid transparent;content:""}.mce-disabled .mce-caret{border-top-color:#aaa}.mce-caret.mce-up{border-bottom:4px solid #b5bcc2;border-top:0}.mce-btn-flat{border:0;background:transparent;box-shadow:none;filter:none}.mce-btn-flat.mce-active,.mce-btn-flat:active,.mce-btn-flat:focus,.mce-btn-flat:hover{border:0;background:#e6e6e6;filter:none;box-shadow:none}.mce-btn-has-text .mce-ico{padding-right:5px}.mce-rtl .mce-btn button{direction:rtl}.mce-toolbar .mce-btn-group{margin:0;padding:2px 0}.mce-btn-group .mce-btn{border-width:1px;margin:0 0 0 2px}.mce-btn-group:not(:first-child){border-left:1px solid #d9d9d9;padding-left:0;margin-left:2px}.mce-btn-group{margin-left:2px}.mce-btn-group .mce-btn.mce-flow-layout-item{margin:0}.mce-rtl .mce-btn-group .mce-btn{margin-left:0;margin-right:2px}.mce-rtl .mce-btn-group .mce-first{margin-right:0}.mce-rtl .mce-btn-group:not(:first-child){border-left:none;border-right:1px solid #d9d9d9;padding-right:4px;margin-right:4px}.mce-checkbox{cursor:pointer}i.mce-i-checkbox{margin:0 3px 0 0;border:1px solid #c5c5c5;box-shadow:none;background-color:#fff;text-indent:-10em;overflow:hidden}.mce-checked i.mce-i-checkbox{color:#595959;font-size:16px;line-height:16px;text-indent:0}.mce-checkbox.mce-focus i.mce-i-checkbox,.mce-checkbox:focus i.mce-i-checkbox{border:1px solid #2276d2;box-shadow:none}.mce-checkbox.mce-disabled .mce-label,.mce-checkbox.mce-disabled i.mce-i-checkbox{color:#bdbdbd}.mce-checkbox .mce-label{vertical-align:middle}.mce-rtl .mce-checkbox{direction:rtl;text-align:right}.mce-rtl i.mce-i-checkbox{margin:0 0 0 3px}.mce-combobox{position:relative;display:inline-block;*display:inline;*zoom:1;box-shadow:none;*height:32px}.mce-combobox input{border:1px solid #c5c5c5;height:28px}.mce-combobox.mce-disabled input{color:#bdbdbd}.mce-combobox .mce-btn{border:1px solid #c5c5c5;border-left:0;margin:0}.mce-combobox button{padding-right:8px;padding-left:8px}.mce-combobox.mce-disabled .mce-btn button{cursor:default;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-combobox .mce-status{position:absolute;right:2px;top:50%;line-height:16px;margin-top:-8px;font-size:12px;width:15px;height:15px;text-align:center;cursor:pointer}.mce-combobox.mce-has-status input{padding-right:20px}.mce-combobox.mce-has-open .mce-status{right:37px}.mce-combobox .mce-status.mce-i-warning{color:#c09853}.mce-combobox .mce-status.mce-i-checkmark{color:#468847}.mce-menu.mce-combobox-menu{border-top:0;margin-top:0;max-height:200px}.mce-menu.mce-combobox-menu .mce-menu-item{padding:4px 6px 4px 4px;font-size:11px}.mce-menu.mce-combobox-menu .mce-menu-item-sep{padding:0}.mce-menu.mce-combobox-menu .mce-menu-item-link,.mce-menu.mce-combobox-menu .mce-menu-item-link b,.mce-menu.mce-combobox-menu .mce-text,.mce-menu.mce-combobox-menu .mce-text b{font-size:11px}.mce-colorbox i{border:1px solid #c5c5c5;width:14px;height:14px}.mce-colorbutton .mce-ico{position:relative}.mce-colorbutton-grid{margin:4px}.mce-colorbutton .mce-preview{padding-right:3px;display:block;position:absolute;left:50%;top:50%;margin-left:-17px;margin-top:7px;background:grey;width:13px;height:2px;overflow:hidden}.mce-colorbutton.mce-btn-small .mce-preview{margin-left:-16px;padding-right:0;width:16px}.mce-rtl .mce-colorbutton{direction:rtl}.mce-rtl .mce-colorbutton .mce-preview{margin-left:0;padding-right:0;padding-left:3px}.mce-rtl .mce-colorbutton.mce-btn-small .mce-preview{margin-left:0;padding-right:0;padding-left:2px}.mce-rtl .mce-colorbutton .mce-open{padding-left:4px;padding-right:4px;border-left:0}.mce-colorpicker{position:relative;width:250px;height:220px}.mce-colorpicker-sv{position:absolute;top:0;left:0;width:90%;height:100%;border:1px solid #c5c5c5;cursor:crosshair;overflow:hidden}.mce-colorpicker-h-chunk{width:100%}.mce-colorpicker-overlay1,.mce-colorpicker-overlay2{width:100%;height:100%;position:absolute;top:0;left:0}.mce-colorpicker-overlay1{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="#ffffff",endColorstr="#00ffffff");-ms-filter:"progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=\'#ffffff\', endColorstr=\'#00ffffff\')";background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.mce-colorpicker-overlay2{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="#00000000",endColorstr="#000000");-ms-filter:"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=\'#00000000\', endColorstr=\'#000000\')";background:linear-gradient(180deg,transparent,#000)}.mce-colorpicker-selector1{background:none;position:absolute;width:12px;height:12px;margin:-8px 0 0 -8px;border:1px solid #000;border-radius:50%}.mce-colorpicker-selector2{position:absolute;width:10px;height:10px;border:1px solid #fff;border-radius:50%}.mce-colorpicker-h{position:absolute;top:0;right:0;width:6.5%;height:100%;border:1px solid #c5c5c5;cursor:crosshair}.mce-colorpicker-h-marker{margin-top:-4px;position:absolute;top:0;left:-1px;width:100%;border:1px solid #000;background:#fff;height:4px;z-index:100}.mce-path{display:inline-block;*display:inline;*zoom:1;padding:8px;white-space:normal;font-size:inherit}.mce-path .mce-txt{padding-right:3px}.mce-path .mce-path-body,.mce-path .mce-txt{display:inline-block}.mce-path-item{display:inline-block;*display:inline;*zoom:1;cursor:pointer;color:#595959;font-size:inherit;text-transform:uppercase}.mce-path-item:hover{text-decoration:underline}.mce-path-item:focus{background:#555c66;color:#fff}.mce-path .mce-divider{display:inline;font-size:inherit}.mce-disabled .mce-path-item{color:#aaa}.mce-rtl .mce-path{direction:rtl}.mce-fieldset{border:0 solid #9e9e9e}.mce-fieldset>.mce-container-body{margin-top:-15px}.mce-fieldset-title{margin-left:5px;padding:0 5px}.mce-fit-layout{display:inline-block;*display:inline;*zoom:1}.mce-fit-layout-item{position:absolute}.mce-flow-layout-item{display:inline-block;*display:inline;*zoom:1;margin:2px 0 2px 2px}.mce-flow-layout-item.mce-last{margin-right:2px}.mce-flow-layout{white-space:normal}.mce-tinymce-inline .mce-flow-layout{white-space:nowrap}.mce-rtl .mce-flow-layout{text-align:right;direction:rtl}.mce-rtl .mce-flow-layout-item{margin:2px 2px 2px 0}.mce-rtl .mce-flow-layout-item.mce-last{margin-left:2px}.mce-iframe{border:0 solid #c5c5c5;width:100%;height:100%}.mce-infobox{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px hsla(0,0%,100%,.75);overflow:hidden;border:1px solid red}.mce-infobox div{display:block;margin:5px}.mce-infobox div button{position:absolute;top:50%;right:4px;cursor:pointer;margin-top:-8px;display:none}.mce-infobox div button:focus{outline:2px solid #e2e4e7}.mce-infobox.mce-has-help div{margin-right:25px}.mce-infobox.mce-has-help button{display:block}.mce-infobox.mce-success{background:#dff0d8;border-color:#d6e9c6}.mce-infobox.mce-success div{color:#3c763d}.mce-infobox.mce-warning{background:#fcf8e3;border-color:#faebcc}.mce-infobox.mce-warning div{color:#8a6d3b}.mce-infobox.mce-error{background:#f2dede;border-color:#ebccd1}.mce-infobox.mce-error div{color:#a94442}.mce-rtl .mce-infobox div{text-align:right;direction:rtl}.mce-label{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px hsla(0,0%,100%,.75);overflow:hidden}.mce-label.mce-autoscroll{overflow:auto}.mce-label.mce-disabled{color:#aaa}.mce-label.mce-multiline{white-space:pre-wrap}.mce-label.mce-success{color:#468847}.mce-label.mce-warning{color:#c09853}.mce-label.mce-error{color:#b94a48}.mce-rtl .mce-label{text-align:right;direction:rtl}.mce-menubar{border:1px solid #e2e4e7}.mce-menubar .mce-menubtn{border-color:transparent;background:transparent;box-shadow:none;filter:none}.mce-menubar .mce-menubtn button span{color:#595959}.mce-menubar .mce-active .mce-caret,.mce-menubar .mce-caret,.mce-menubar .mce-menubtn:hover .mce-caret{border-top-color:#b5bcc2}.mce-menubar .mce-menubtn.mce-active,.mce-menubar .mce-menubtn:focus,.mce-menubar .mce-menubtn:hover{border-color:#e2e4e7;background:#fff;filter:none;box-shadow:none}.mce-menubar .mce-menubtn.mce-active{border-bottom:none;z-index:65537}div.mce-menubtn.mce-opened{border-bottom-color:#fff;z-index:65537}.mce-menubtn button{color:#595959}.mce-menubtn.mce-btn-small span{font-size:12px}.mce-menubtn.mce-fixed-width span{display:inline-block;overflow-x:hidden;text-overflow:ellipsis;width:90px}.mce-menubtn.mce-fixed-width.mce-btn-small span{width:70px}.mce-menubtn .mce-caret{*margin-top:6px}.mce-rtl .mce-menubtn.mce-fixed-width span,.mce-rtl .mce-menubtn button{direction:rtl;text-align:right}.mce-menu-item{display:block;padding:6px 4px;clear:both;font-weight:400;line-height:20px;color:#595959;white-space:nowrap;cursor:pointer;line-height:normal;border-left:4px solid transparent;margin-bottom:1px}.mce-menu-item .mce-caret{margin-top:4px;margin-right:6px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid #595959}.mce-menu-item .mce-menu-shortcut{display:inline-block;padding:0 10px 0 20px;color:#aaa}.mce-menu-item .mce-ico{padding-right:4px}.mce-menu-item:focus,.mce-menu-item:hover{background:#ededee}.mce-menu-item:focus .mce-menu-shortcut,.mce-menu-item:hover .mce-menu-shortcut{color:#aaa}.mce-menu-item:focus .mce-ico,.mce-menu-item:focus .mce-text,.mce-menu-item:hover .mce-ico,.mce-menu-item:hover .mce-text{color:#595959}.mce-menu-item.mce-selected{background:#ededee}.mce-menu-item.mce-selected .mce-ico,.mce-menu-item.mce-selected .mce-text{color:#595959}.mce-menu-item.mce-active.mce-menu-item-normal{background:#555c66}.mce-menu-item.mce-active.mce-menu-item-normal .mce-ico,.mce-menu-item.mce-active.mce-menu-item-normal .mce-text{color:#fff}.mce-menu-item.mce-active.mce-menu-item-checkbox .mce-ico{visibility:visible}.mce-menu-item.mce-disabled,.mce-menu-item.mce-disabled:hover{background:#fff}.mce-menu-item.mce-disabled:focus,.mce-menu-item.mce-disabled:hover:focus{background:#ededee}.mce-menu-item.mce-disabled .mce-ico,.mce-menu-item.mce-disabled .mce-text,.mce-menu-item.mce-disabled:hover .mce-ico,.mce-menu-item.mce-disabled:hover .mce-text{color:#aaa}.mce-menu-item.mce-menu-item-preview.mce-active{border-left:5px solid #555c66;background:#fff}.mce-menu-item.mce-menu-item-preview.mce-active .mce-ico,.mce-menu-item.mce-menu-item-preview.mce-active .mce-text{color:#595959}.mce-menu-item.mce-menu-item-preview.mce-active:hover{background:#ededee}.mce-menu-item-link{color:#093;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mce-menu-item-link b{color:#093}.mce-menu-item-ellipsis{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mce-menu-item.mce-selected *,.mce-menu-item:focus *,.mce-menu-item:hover *{color:#595959}.mce-menu-item-sep:hover,div.mce-menu .mce-menu-item-sep{border:0;padding:0;height:1px;margin:9px 1px;overflow:hidden;background:transparent;border-bottom:1px solid rgba(0,0,0,.1);cursor:default;filter:none}div.mce-menu .mce-menu-item b{font-weight:700}.mce-menu-item-indent-1{padding-left:20px}.mce-menu-item-indent-2{padding-left:35px}.mce-menu-item-indent-3{padding-left:40px}.mce-menu-item-indent-4{padding-left:45px}.mce-menu-item-indent-5{padding-left:50px}.mce-menu-item-indent-6{padding-left:55px}.mce-menu.mce-rtl{direction:rtl}.mce-rtl .mce-menu-item{text-align:right;direction:rtl;padding:6px 12px 6px 15px}.mce-rtl .mce-menu-item .mce-caret{margin-left:6px;margin-right:0;border-right:4px solid #595959;border-left:0}.mce-rtl .mce-menu-item.mce-selected .mce-caret,.mce-rtl .mce-menu-item:focus .mce-caret,.mce-rtl .mce-menu-item:hover .mce-caret{border-left-color:transparent;border-right-color:#595959}.mce-throbber{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6;filter:alpha(opacity=60);zoom:1;background:#fff url('+k+') no-repeat 50%}.mce-throbber-inline{position:static;height:50px}.mce-menu .mce-throbber-inline{height:25px;background-size:contain}.mce-menu{position:absolute;left:0;top:0;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;z-index:1000;padding:5px 0;margin:-1px 0 0;min-width:180px;background:#fff;border:1px solid #e2e4e7;z-index:1002;box-shadow:0 1px 2px rgba(0,0,0,.2);max-height:500px;overflow:auto;overflow-x:hidden}.mce-menu.mce-animate{opacity:.01;transform:rotateY(10deg) rotateX(-10deg);transform-origin:left top}.mce-menu.mce-menu-align .mce-caret,.mce-menu.mce-menu-align .mce-menu-shortcut{position:absolute;right:0}.mce-menu i{display:none}.mce-menu-has-icons i{display:inline-block}.mce-menu.mce-in.mce-animate{opacity:1;transform:rotateY(0) rotateX(0);transition:opacity 75ms ease,transform .1s ease}.mce-menu-sub-tr-tl{margin:-6px 0 0 -1px}.mce-menu-sub-br-bl{margin:6px 0 0 -1px}.mce-menu-sub-tl-tr{margin:-6px 0 0 1px}.mce-menu-sub-bl-br{margin:6px 0 0 1px}.mce-rtl .mce-menu-item .mce-ico{padding-right:0;padding-left:4px}.mce-rtl.mce-menu-align .mce-caret,.mce-rtl .mce-menu-shortcut{right:auto;left:0}.mce-listbox button{text-align:left;padding-right:20px;position:relative}.mce-listbox .mce-caret{position:absolute;margin-top:-2px;right:8px;top:50%}.mce-rtl .mce-listbox .mce-caret{right:auto;left:8px}.mce-rtl .mce-listbox button{padding-right:10px;padding-left:20px}.mce-container-body .mce-resizehandle{position:absolute;right:0;bottom:0;width:16px;height:16px;visibility:visible;cursor:s-resize;margin:0}.mce-container-body .mce-resizehandle-both{cursor:se-resize}i.mce-i-resize{color:#595959}.mce-selectbox,.mce-slider{background:#fff;border:1px solid #c5c5c5}.mce-slider{width:100px;height:10px;position:relative;display:block}.mce-slider.mce-vertical{width:10px;height:100px}.mce-slider-handle{border:1px solid #c5c5c5;background:#e6e6e6;display:block;width:13px;height:13px;position:absolute;top:0;left:0;margin-left:-1px;margin-top:-2px}.mce-slider-handle:focus{border-color:#2276d2}.mce-spacer{visibility:hidden}.mce-splitbtn:hover .mce-open{border-left:1px solid #e2e4e7}.mce-splitbtn .mce-open{border-left:1px solid transparent;padding-right:4px;padding-left:4px}.mce-splitbtn .mce-open:active,.mce-splitbtn .mce-open:focus,.mce-splitbtn .mce-open:hover{border-left:1px solid #e2e4e7}.mce-splitbtn.mce-active:hover .mce-open{border-left:1px solid #fff}.mce-splitbtn.mce-opened{border-color:#e2e4e7}.mce-splitbtn.mce-btn-small .mce-open{padding:0 3px}.mce-rtl .mce-splitbtn{direction:rtl;text-align:right}.mce-rtl .mce-splitbtn button{padding-right:4px;padding-left:4px}.mce-rtl .mce-splitbtn .mce-open{border-left:0}.mce-stack-layout-item,.mce-tabs{display:block}.mce-tabs{border-bottom:1px solid #c5c5c5}.mce-tab,.mce-tabs,.mce-tabs+.mce-container-body{background:#fff}.mce-tab{display:inline-block;*display:inline;*zoom:1;border:solid #c5c5c5;border-width:0 1px 0 0;padding:8px 15px;text-shadow:0 1px 1px hsla(0,0%,100%,.75);height:13px;cursor:pointer}.mce-tab:hover{background:#fdfdfd}.mce-tab.mce-active{background:#fdfdfd;border-bottom-color:transparent;margin-bottom:-1px;height:14px}.mce-tab:focus{color:#2276d2}.mce-rtl .mce-tabs{text-align:right;direction:rtl}.mce-rtl .mce-tab{border-width:0 0 0 1px}.mce-textbox{background:#fff;border:1px solid #c5c5c5;box-shadow:none;display:inline-block;transition:border .2s linear,box-shadow .2s linear;height:28px;resize:none;padding:0 4px;white-space:pre-wrap;*white-space:pre;color:#595959}.mce-textbox.mce-focus,.mce-textbox:focus{border-color:#2276d2;box-shadow:none}.mce-placeholder .mce-textbox{color:#aaa}.mce-textbox.mce-multiline{padding:4px;height:auto}.mce-textbox.mce-disabled{color:#bdbdbd}.mce-rtl .mce-textbox{text-align:right;direction:rtl}.mce-dropzone{border:3px dashed grey;text-align:center}.mce-dropzone span{text-transform:uppercase}.mce-dropzone:after,.mce-dropzone span{display:inline-block;vertical-align:middle}.mce-dropzone:after{content:"";height:100%}.mce-dropzone.mce-disabled{opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-dropzone.mce-disabled.mce-dragenter{cursor:not-allowed}.mce-browsebutton{position:relative;overflow:hidden}.mce-browsebutton button{position:relative;z-index:1}.mce-browsebutton input{opacity:0;filter:alpha(opacity=0);zoom:1;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}@font-face{font-family:"tinymce";src:url('+C+");src:url("+_+') format("embedded-opentype"),url('+S+') format("woff"),url('+E+') format("truetype"),url('+T+') format("svg");font-weight:400;font-style:normal}@font-face{font-family:"tinymce-small";src:url('+N+");src:url("+R+') format("embedded-opentype"),url('+A+') format("woff"),url('+D+') format("truetype"),url('+P+') format("svg");font-weight:400;font-style:normal}.mce-ico{font-family:"tinymce",Arial;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;font-size:16px;line-height:16px;speak:none;vertical-align:text-top;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;background:transparent 50%;background-size:cover;width:16px;height:16px;color:#595959}.mce-btn-small .mce-ico{font-family:"tinymce-small",Arial}.mce-i-save:before{content:"\\e000"}.mce-i-newdocument:before{content:"\\e001"}.mce-i-fullpage:before{content:"\\e002"}.mce-i-alignleft:before{content:"\\e003"}.mce-i-aligncenter:before{content:"\\e004"}.mce-i-alignright:before{content:"\\e005"}.mce-i-alignjustify:before{content:"\\e006"}.mce-i-alignnone:before{content:"\\e003"}.mce-i-cut:before{content:"\\e007"}.mce-i-paste:before{content:"\\e008"}.mce-i-searchreplace:before{content:"\\e009"}.mce-i-bullist:before{content:"\\e00a"}.mce-i-numlist:before{content:"\\e00b"}.mce-i-indent:before{content:"\\e00c"}.mce-i-outdent:before{content:"\\e00d"}.mce-i-blockquote:before{content:"\\e00e"}.mce-i-undo:before{content:"\\e00f"}.mce-i-redo:before{content:"\\e010"}.mce-i-link:before{content:"\\e011"}.mce-i-unlink:before{content:"\\e012"}.mce-i-anchor:before{content:"\\e013"}.mce-i-image:before{content:"\\e014"}.mce-i-media:before{content:"\\e015"}.mce-i-help:before{content:"\\e016"}.mce-i-code:before{content:"\\e017"}.mce-i-insertdatetime:before{content:"\\e018"}.mce-i-preview:before{content:"\\e019"}.mce-i-backcolor:before,.mce-i-forecolor:before{content:"\\e01a"}.mce-i-table:before{content:"\\e01b"}.mce-i-hr:before{content:"\\e01c"}.mce-i-removeformat:before{content:"\\e01d"}.mce-i-subscript:before{content:"\\e01e"}.mce-i-superscript:before{content:"\\e01f"}.mce-i-charmap:before{content:"\\e020"}.mce-i-emoticons:before{content:"\\e021"}.mce-i-print:before{content:"\\e022"}.mce-i-fullscreen:before{content:"\\e023"}.mce-i-spellchecker:before{content:"\\e024"}.mce-i-nonbreaking:before{content:"\\e025"}.mce-i-template:before{content:"\\e026"}.mce-i-pagebreak:before{content:"\\e027"}.mce-i-restoredraft:before{content:"\\e028"}.mce-i-bold:before{content:"\\e02a"}.mce-i-italic:before{content:"\\e02b"}.mce-i-underline:before{content:"\\e02c"}.mce-i-strikethrough:before{content:"\\e02d"}.mce-i-visualblocks:before,.mce-i-visualchars:before{content:"\\e02e"}.mce-i-ltr:before{content:"\\e02f"}.mce-i-rtl:before{content:"\\e030"}.mce-i-copy:before{content:"\\e031"}.mce-i-resize:before{content:"\\e032"}.mce-i-browse:before{content:"\\e034"}.mce-i-pastetext:before{content:"\\e035"}.mce-i-rotateleft:before{content:"\\eaa8"}.mce-i-rotateright:before{content:"\\eaa9"}.mce-i-crop:before{content:"\\ee78"}.mce-i-editimage:before{content:"\\e915"}.mce-i-options:before{content:"\\ec6a"}.mce-i-flipv:before{content:"\\eaaa"}.mce-i-fliph:before{content:"\\eaac"}.mce-i-zoomin:before{content:"\\eb35"}.mce-i-zoomout:before{content:"\\eb36"}.mce-i-sun:before{content:"\\eccc"}.mce-i-moon:before{content:"\\eccd"}.mce-i-arrowleft:before{content:"\\edc0"}.mce-i-arrowright:before{content:"\\e93c"}.mce-i-drop:before{content:"\\e935"}.mce-i-contrast:before{content:"\\ecd4"}.mce-i-sharpen:before{content:"\\eba7"}.mce-i-resize2:before{content:"\\edf9"}.mce-i-orientation:before{content:"\\e601"}.mce-i-invert:before{content:"\\e602"}.mce-i-gamma:before{content:"\\e600"}.mce-i-remove:before{content:"\\ed6a"}.mce-i-tablerowprops:before{content:"\\e604"}.mce-i-tablecellprops:before{content:"\\e605"}.mce-i-table2:before{content:"\\e606"}.mce-i-tablemergecells:before{content:"\\e607"}.mce-i-tableinsertcolbefore:before{content:"\\e608"}.mce-i-tableinsertcolafter:before{content:"\\e609"}.mce-i-tableinsertrowbefore:before{content:"\\e60a"}.mce-i-tableinsertrowafter:before{content:"\\e60b"}.mce-i-tablesplitcells:before{content:"\\e60d"}.mce-i-tabledelete:before{content:"\\e60e"}.mce-i-tableleftheader:before{content:"\\e62a"}.mce-i-tabletopheader:before{content:"\\e62b"}.mce-i-tabledeleterow:before{content:"\\e800"}.mce-i-tabledeletecol:before{content:"\\e801"}.mce-i-codesample:before{content:"\\e603"}.mce-i-fill:before{content:"\\e902"}.mce-i-borderwidth:before{content:"\\e903"}.mce-i-line:before{content:"\\e904"}.mce-i-count:before{content:"\\e905"}.mce-i-translate:before{content:"\\e907"}.mce-i-drag:before{content:"\\e908"}.mce-i-home:before{content:"\\e90b"}.mce-i-upload:before{content:"\\e914"}.mce-i-bubble:before{content:"\\e91c"}.mce-i-user:before{content:"\\e91d"}.mce-i-lock:before{content:"\\e926"}.mce-i-unlock:before{content:"\\e927"}.mce-i-settings:before{content:"\\e928"}.mce-i-remove2:before{content:"\\e92a"}.mce-i-menu:before{content:"\\e92d"}.mce-i-warning:before{content:"\\e930"}.mce-i-question:before{content:"\\e931"}.mce-i-pluscircle:before{content:"\\e932"}.mce-i-info:before{content:"\\e933"}.mce-i-notice:before{content:"\\e934"}.mce-i-arrowup:before{content:"\\e93b"}.mce-i-arrowdown:before{content:"\\e93d"}.mce-i-arrowup2:before{content:"\\e93f"}.mce-i-arrowdown2:before{content:"\\e940"}.mce-i-menu2:before{content:"\\e941"}.mce-i-newtab:before{content:"\\e961"}.mce-i-a11y:before{content:"\\e900"}.mce-i-insert:before,.mce-i-plus:before{content:"\\e93a"}.mce-i-minus:before{content:"\\e939"}.mce-i-books:before{content:"\\e911"}.mce-i-reload:before{content:"\\e906"}.mce-i-toc:before{content:"\\e901"}.mce-i-checkbox:before,.mce-i-checkmark:before,.mce-i-selected:before{content:"\\e033"}.mce-i-insert{font-size:14px}.mce-i-selected{visibility:hidden}i.mce-i-backcolor{text-shadow:none;background:#bbb}.mce-rtl .mce-filepicker input{direction:ltr}',""]),e.exports=w},function(e,t,n){e.exports=n.p+"img/loader.0406bcb.gif"},function(e,t,n){e.exports=n.p+"fonts/tinymce.6f0fa80.eot"},function(e,t,n){e.exports=n.p+"fonts/tinymce.c06f8cf.woff"},function(e,t,n){e.exports=n.p+"fonts/tinymce.2176f84.ttf"},function(e,t,n){e.exports=n.p+"img/tinymce.b1af1d3.svg"},function(e,t,n){e.exports=n.p+"fonts/tinymce-small.dc0cabe.eot"},function(e,t,n){e.exports=n.p+"fonts/tinymce-small.eff1de8.woff"},function(e,t,n){e.exports=n.p+"fonts/tinymce-small.afc8a01.ttf"},function(e,t,n){e.exports=n.p+"img/tinymce-small.06a6634.svg"},function(e,t,n){var r=n(4),o=n(50),c=n(283),l=n(284),d=r(!1),f=o(c),m=o(l);d.push([e.i,"body{background-color:#fff;color:#000;line-height:1.3;scrollbar-3dlight-color:#f0f0ee;scrollbar-arrow-color:#676662;scrollbar-base-color:#f0f0ee;scrollbar-darkshadow-color:#ddd;scrollbar-face-color:#e0e0dd;scrollbar-highlight-color:#f0f0ee;scrollbar-shadow-color:#f0f0ee;scrollbar-track-color:#f5f5f5}body,td,th{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:14px}.word-wrap{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.mce-content-body .mce-reset{margin:0;padding:0;border:0;outline:0;vertical-align:top;background:transparent;text-decoration:none;color:#000;font-family:Arial;font-size:11px;text-shadow:none;float:none;position:static;width:auto;height:auto;white-space:nowrap;cursor:inherit;line-height:normal;font-weight:400;text-align:left;-webkit-tap-highlight-color:transparent;box-sizing:content-box;direction:ltr;max-width:none}.mce-object{border:1px dotted #3a3a3a;background:#d5d5d5 url("+f+') no-repeat 50%}.mce-preview-object{display:inline-block;position:relative;margin:0 2px;line-height:0;border:1px solid grey}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-preview-object .mce-shim{position:absolute;top:0;left:0;width:100%;height:100%;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}figure.align-left{float:left}figure.align-right{float:right}figure.image.align-center{display:table;margin-left:auto;margin-right:auto}figure.image{display:inline-block;border:1px solid grey;margin:0 2px 0 1px;background:#f5f2f0}figure.image img{margin:8px 8px 0}figure.image figcaption{margin:6px 8px;text-align:center}.mce-toc{border:1px solid grey}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}.mce-pagebreak{cursor:default;display:block;width:100%;height:5px;border:1px dashed #666;margin-top:15px;page-break-before:always}@media print{.mce-pagebreak{border:0}}.mce-item-anchor{cursor:default;display:inline-block;-webkit-user-select:all;-webkit-user-modify:read-only;-moz-user-select:all;-moz-user-modify:read-only;-ms-user-select:all;user-select:all;user-modify:read-only;width:9px!important;height:9px!important;border:1px dotted #3a3a3a;background:#d5d5d5 url('+m+') no-repeat 50%}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-spellchecker-word{border-bottom:2px solid rgba(208,2,27,.5);cursor:default}.mce-spellchecker-grammar{border-bottom:2px solid green;cursor:default}.mce-item-table,.mce-item-table caption,.mce-item-table td,.mce-item-table th{border:1px dashed #bbb}td[data-mce-selected],th[data-mce-selected]{background-color:#2276d2!important}.mce-edit-focus{outline:1px dotted #333}.mce-content-body [contentEditable=false] [contentEditable=true]:focus,.mce-content-body [contentEditable=false] [contentEditable=true]:hover,.mce-content-body [contentEditable=false][data-mce-selected]{outline:2px solid #2276d2}.mce-content-body [data-mce-selected=inline-boundary]{background:#bfe6ff}.mce-content-body .mce-item-anchor[data-mce-selected]{background:#d5d5d5 url('+m+") no-repeat 50%}.mce-content-body hr{cursor:default}.ephox-snooker-resizer-bar{background-color:#2276d2;opacity:0}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:.2}a{color:#1478f0}",""]),e.exports=d},function(e,t){e.exports="data:image/gif;base64,R0lGODlhEQANALMPAOXl5T8/P29vb7S0tFdXV/39/djY2N3d3crKyu/v7/f39/Ly8p2dnf///zMzMwAAACH5BAEAAA8ALAAAAAARAA0AAARF0MlJq3uutay75lmGNU9pjiNFCsipqhgxmO9HSgFTgtt9O4EBABWa3AiGwvBlfAgWisPOyCslDDSbSHTa+SzgpmdMbkQAADs="},function(e,t){e.exports="data:image/gif;base64,R0lGODlhBwAHAIABAAAAAP///yH5BAEAAAEALAAAAAAHAAcAAAIMjGGJmMH9mHQ0AlYAADs="},function(e,t,n){var content=n(286);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(5).default)("23223e28",content,!0,{sourceMap:!1})},function(e,t,n){var r=n(4)(!1);r.push([e.i,'code[class*=language-],pre[class*=language-]{color:#000;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}',""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,'a,abbr,acronym,address,applet,b,big,blockquote,body,caption,center,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,font,form,h1,h2,h3,h4,h5,h6,html,i,iframe,img,ins,kbd,label,legend,li,object,ol,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,u,ul,var{margin:0;padding:0;border:0;outline:0;vertical-align:baseline;background:transparent}body{font-size:12px;line-height:160%;font-family:"Helvetica Neue",\\5FAE\\8F6F\\96C5\\9ED1,"SimHei",Tohoma;word-break:break-all;word-wrap:break-word;position:relative}li,ol,ul{list-style:none}blockquote,q{quotes:none}table{border-collapse:collapse;border-spacing:0;empty-cells:show}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}:focus{outline:0}ins,s{text-decoration:none}del{text-decoration:line-through}em,i{font-style:normal}a,img{border:0}a,img{text-decoration:none}a:hover{text-decoration:underline}a:focus{outline:0;-moz-outline:0}a:active{outline:0;blr:expression(this.onFocus=this.blur())}h1{font-size:36px;line-height:45px}h1,h2{font-weight:400}h2{font-size:24px;line-height:30px}h3{font-size:18px;line-height:22px}h3,h4{font-weight:400}h4{font-size:16px;line-height:20px}h5{font-size:14px;line-height:18px}h5,h6{font-weight:400}h6{font-size:12px;line-height:16px}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}',""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,".c-master{color:#68cb9b}.bg-orange{background-color:#68cb9b}#footer,#t-infor-menu p a.current,.c-btn-2,.c-tab-title a.current,.d-s-head-tab a.current,.h-r-login li a:hover,.i-art-title:hover,.i-teach-wrap:hover a,.lh-menu-second a.current-2 span.fr,.lh-menu ul li.lh-menu-stair li.lh-menu-second a.current-2,.lh-menu ul li.lh-menu-stair li.lh-menu-second a.current-2 .lh-menu-i-2,.lh-menu ul li.lh-menu-stair ol li.lh-menu-second a.current-2,.lh-menu ul li.lh-menu-stair ol li.lh-menu-second a.current-2 .lh-menu-i-2,.nav li.current a,.nav li a:hover,.paging a,.paging a.current,.paging a:hover,.q-sort-wrap span.current,.u-m-dd ul li.current a,.u-m-dd ul li a:hover{border-color:#68cb9b;color:#68cb9b}",""]),e.exports=r},function(e,t,n){var r=n(4),o=n(50),c=n(290),l=n(291),d=n(292),f=n(293),m=n(294),h=n(295),v=n(296),x=n(297),y=n(298),w=n(299),k=n(300),C=n(301),_=n(302),S=n(303),E=r(!1),T=o(c),N=o(l),R=o(d),A=o(f),D=o(m),P=o(h),O=o(v),M=o(x),B=o(y),I=o(w),z=o(k),L=o(C),H=o(_),F=o(S);E.push([e.i,'@charset "utf-8";.clearfix:after,.clearfix:before{content:"";display:table;font-size:0!important;line-height:0!important;height:0!important}.clear,.clearfix:after{clear:both}.clear{display:block;overflow:hidden;visibility:hidden;width:0;height:0}.fl{float:left}.fr{float:right}.pr{position:relative}.pa{position:absolute}.f-fH{font-family:SimHei}.f-fM{font-family:"Microsoft YaHei"}.f-fA{font-family:SimSun}.f-fG{font-family:Georgia}.unBg{background:0 0!important}.unBr{border:none!important}.unFw{font-weight:400}.dis{display:block}.disIb{display:inline-block}.undis{display:none}.of{overflow:hidden}.ov{overflow:visible}.vam{vertical-align:middle}.tal{text-align:left}.tac{text-align:center}.tar{text-align:right}.hand{cursor:pointer}.fsize12{font-size:12px}.fsize14{font-size:14px}.fsize16{font-size:16px}.fsize18{font-size:18px}.fsize20{font-size:20px}.fsize24{font-size:24px}.fsize34{font-size:34px}.mt5{margin-top:5px}.mr5{margin-right:5px}.ml5{margin-left:5px}.mt10{margin-top:10px}.mr10{margin-right:10px}.mb10{margin-bottom:10px}.ml10{margin-left:10px}.mt15{margin-top:15px}.mr15{margin-right:15px}.mb15{margin-bottom:15px}.ml15{margin-left:15px}.mt20{margin-top:20px}.mr20{margin-right:20px}.mb20{margin-bottom:20px}.ml20{margin-left:20px}.mt30{margin-top:30px}.mr30{margin-right:30px}.mb30{margin-bottom:30px}.ml30{margin-left:30px}.mt40{margin-top:40px}.mr40{margin-right:40px}.mb40{margin-bottom:40px}.ml40{margin-left:40px}.mt50{margin-top:50px}.mr50{margin-right:50px}.mb50{margin-bottom:50px}.ml50{margin-left:50px}.pt10{padding-top:10px}.pr10{padding-right:10px}.pb10{padding-bottom:10px}.pl10{padding-left:10px}.pt15{padding-top:15px}.pr15{padding-right:15px}.pb15{padding-bottom:15px}.pl15{padding-left:15px}.pt20{padding-top:20px}.pr20{padding-right:20px}.pb20{padding-bottom:20px}.pl20{padding-left:20px}.pt30{padding-top:30px}.pt50{padding-top:50px}.pr50{padding-right:50px}.pb50{padding-bottom:50px}.pl50{padding-left:50px}.icon14{height:14px;width:14px}.icon14,.icon16{display:inline-block;vertical-align:middle}.icon16{height:16px;width:16px}.icon18{height:18px;width:18px}.icon18,.icon20{display:inline-block;vertical-align:middle}.icon20{height:20px;width:20px}.icon24{height:24px;width:24px}.icon24,.icon30{display:inline-block;vertical-align:middle}.icon30{height:30px;width:30px}.txtOf{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.hLh20{height:20px;line-height:20px}.hLh30{height:30px;line-height:30px}.col-7{width:70%}.col-6{width:60%}.col-3{width:30%}.col-8{width:80%}.col-2{width:20%}.col-9{width:90%}.col-1{width:10%}.lt-ie9 .col-7,.lt-ie9.lt-ie8 .col-7{width:75%}.lt-ie9 .col-3,.lt-ie9.lt-ie8 .col-3{width:25%}.container,.container_ucenter{margin-left:auto;margin-right:auto;width:1160px}.c-green{color:#14ba4c}.c-yellow{color:#fc0}.c-orange{color:#ff8723}.c-blue{color:#3580de}.c-red{color:#cf3f3f}.c-333{color:#333}.c-666{color:#666}.c-999{color:#999}.c-ccc{color:#ccc}.c-fff{color:#fff}.bg-green{background-color:#14ba4c}.bg-fa{background-color:#eee}.c-btn-3{border-color:#fc0;color:#fc0}.c-pay-problem em,.cou-arrow-down,.cou-arrow-up,.d-t-icon-1,.d-t-icon-2,.d-t-icon-3,.d-t-icon-4,.dClose,.dpIcon,.g-a-title em,.h-l-nav li .hl-sec-nav dd a em,.h-r-s-box .s-btn em,.icon14,.icon20,.icon80,.icon-close,.lh-p-icon,.lh-playing span em,.login-icon,.m-tree-icon,.news-icon,.no-data-ico,.noter-dy em,.noter-zan em,.o-c-icon,.p-h-goback em,.pay-error-btn a em,.q-hd,.q-share-icon,.q-tw,.r-fixed-ul li a em,.s-car-close,.sc-end,.scIcon,.shareIcon,.u-a-cw,.u-a-zq,.v-play-btn em{background:url('+T+') no-repeat}.h-r-s-box .s-btn em{background-position:0 0}.login-icon{background-position:0 -29px}.news-icon{background-position:0 -55px}.shareIcon{background-position:0 -89px}.scIcon{background-position:0 -113px}.sc-end{background-position:0 -137px}.m-tree-icon{background-position:0 -195px}a.current-1 .m-tree-icon{background-position:0 -212px}.lh-p-icon{background-position:0 -234px}a.current-2 .lh-p-icon{background-position:0 -254px}.lh-playing span em{background-position:-76px -251px}.no-data-ico{background-position:-467px 0}.v-play-btn em{background-position:-43px -67px}.noter-dy em{background-position:-42px -160px}.noter-dy:hover em{background-position:-42px -139px}.noter-zan em{background-position:-42px -187px}.noter-zan:hover em{background-position:-42px -265px}.dClose,.icon-close{background-position:-42px -215px}.dClose:hover,.icon-close:hover{background-position:-42px -244px}.q-tw{background-position:-72px -163px}.q-hd{background-position:-72px -188px}.q-share-icon{background-position:-72px -215px}.g-a-title em{background-position:-72px -247px}.u-a-cw{background-position:-113px -188px}.u-a-zq{background-position:-113px -163px}.p-h-goback em{background-position:-113px -213px}.dpIcon{background-position:-142px -56px}.dpOpen .dpIcon{background-position:-142px -83px}.o-c-icon{background-position:-142px -111px}.d-t-icon-1{background-position:-92px 0}.d-t-icon-2{background-position:-230px 0}.d-t-icon-3{background-position:-180px 0}.d-t-icon-4{background-position:-39px 0}.r-fixed-ul li a em.r-f-icon-1{background-position:-180px -55px}.r-fixed-ul li a em.r-f-icon-2{background-position:-180px -105px}.r-fixed-ul li a em.r-f-icon-3{background-position:-178px -155px}.r-fixed-ul li a em.r-f-icon-4{background-position:-181px -203px}.shop-car-num{position:absolute;left:27px;top:2px;color:#ea562e;font-size:12px;font-family:"Georgia";width:14px;height:14px;background-color:#fff;border-radius:8px;line-height:10px;border:1px solid #ea562e}.c-shop-car-wrap a,.shop-car-num{display:inline-block;text-align:center}.c-shop-car-wrap a{border:1px solid #fc0;border-radius:20px;padding:0 8px;color:#fc0;font:18px/36px "Microsoft YaHei";height:36px;cursor:pointer;position:relative;width:140px;transition:all .3s ease 0s}.c-shop-car-wrap a:hover{opacity:.92;text-decoration:none}.open-o-c.o-c-btn a:hover .o-c-icon,.open-o-c .o-c-icon{background-position:-142px -131px}.o-c-btn a:hover .o-c-icon{background-position:-142px -151px}.lt-ie9 .cc-mask,.lt-ie9.lt-ie8 .cc-mask,.u-face-pic a{background:url('+N+") repeat 0 0}.p-h-v-wrap{background:url("+R+") no-repeat 50% 50%/cover}.lt-ie9 .p-h-v-wrap,.lt-ie9.lt-ie8 .p-h-v-wrap{background:url("+R+") no-repeat 50% 50%}.sf-lr-wrap a.wb-sf{background:url("+A+") no-repeat 50% 50%}.sf-lr-wrap a.wb-sf:hover{background:url("+D+") no-repeat 50% 50%}.sf-lr-wrap a.wx-sf{background:url("+P+") no-repeat 50% 50%}.sf-lr-wrap a.wx-sf:hover{background:url("+O+") no-repeat 50% 50%}.sf-lr-wrap a.qq-sf{background:url("+M+") no-repeat 50% 50%}.sf-lr-wrap a.qq-sf:hover{background:url("+B+') no-repeat 50% 50%}.i-box{background-color:#fff;border:1px solid #f0f0f0;padding:0 15px 20px;overflow:hidden}.blue-btn,.comm-btn,.goBack-btn,.order-submit{border:1px solid;border-radius:16px;display:inline-block;text-align:center;height:32px;line-height:32px;padding:0 12px}.comm-btn{padding:0 8px}.c-btn-1{border-color:#fff;color:#fff;width:120px;font-size:18px}.c-btn-2,.c-btn-3,.c-btn-4,.c-btn-5,.c-btn-7{border-radius:20px;width:160px;font-size:20px;height:36px;line-height:36px}.c-btn-4,.c-btn-5{border-radius:0;color:#fff;width:220px;height:42px;line-height:42px}.c-btn-5{background:#264863;width:auto;display:block}.c-btn-6{border-color:#14ba4c;color:#14ba4c;width:auto;font-size:12px;height:18px;line-height:18px}.c-btn-7{border-radius:0}.blue-btn,.c-btn-7{background:#264863;color:#fff}.blue-btn{border-radius:3px;font-size:14px;width:90px}.e-login-btn,.e-register-btn,.order-submit{background:#985054;border-radius:3px;color:#fff;width:180px;font-size:16px}.goBack-btn{background:#e2e2e2;border:none;border-radius:3px;color:#666;font-size:14px}.blue-btn:hover,.comm-btn:hover,.e-login-btn:hover,.e-register-btn:hover,.goBack-btn:hover,.order-submit:hover{text-decoration:none;opacity:.92;-moz-opacity:.92;filter:alpha(opacity=92)}.comm-title{overflow:hidden;clear:both;margin:40px 0 30px}.comm-title h2 span{font-size:26px;font-family:simhei}.comm-course-list ul{margin-left:-30px}.comm-course-list li{float:left;width:25%}.lt-ie9.lt-ie8 .comm-course-list li{width:24.98%}.lt-ie9 .u-course-list .comm-course-list li,.lt-ie9.lt-ie8 .u-course-list .comm-course-list li{width:33.33%}.comm-course-list li .cc-l-wrap{display:block;margin:0 0 50px 30px;overflow:hidden}.blog-img,.course-img{position:relative;overflow:hidden}.blog-img{display:flex}.img-responsive{max-width:100%;height:150px;display:block;transition:.8s;-webkit-transition:.8s}.jgTag{display:inline-block;padding:1px 12px;text-align:center;height:20px}.cc-mask{background:rgba(0,0,0,.4);height:100%;left:0;opacity:0;filter:alpha(opacity=0);right:0;top:0;transition:all .3s ease 0s;width:100%;transition:.3s}.cc-mask,.cc-mask .c-btn-1{position:absolute;-webkit-transition:.3s}.cc-mask .c-btn-1{left:50%;margin-left:-72px;margin-top:-16px;top:100%;transition:.3s}.lt-ie9 .cc-mask .c-btn-1,.lt-ie9.lt-ie8 .cc-mask .c-btn-1{top:120%}.comm-course-list li:hover .img-responsive{transform:scale(1.1);-webkit-transform:scale(1.1)}.comm-course-list li:hover .cc-mask{opacity:1;filter:alpha(opacity=100)}.comm-course-list li:hover .cc-mask .c-btn-1{top:50%}#aCoursesList,.i-question,.u-body{padding-bottom:80px}.course-r-list li{padding:10px 0 10px 120px;position:relative;min-height:62px}.course-r-list li .course-r-pic{width:110px;position:absolute;left:0;top:10px;overflow:hidden}.course-r-pic img{display:block;max-width:100%;transition:.8s;-webkit-transition:.8s}.course-r-list li:hover .course-r-pic img{transform:scale(1.1);-webkit-transform:scale(1.1)}#header{background-color:#fff;box-shadow:0 2px 3px rgba(7,0,2,.04);padding:30px 0;position:relative}.lt-ie9 #header,.lt-ie9.lt-ie8 #header{border-bottom:1px solid #f2f2f2}#logo{float:left;width:220px;height:72px;overflow:hidden;margin:0 auto}#logo a{display:table-cell;height:72px}#logo a,#logo a img{vertical-align:middle}#logo a img{display:block;max-width:100%;height:auto}.nav{padding:15px 0 0 50px}.nav,.nav li,.nav li a{float:left}.nav li a{border-bottom:2px solid transparent;color:#666;display:block;font-size:20px;line-height:50px;padding:0 10px;margin:0 10px;transition:.3s;-webkit-transition:.3s}.h-r-login li a:hover,.nav li.current a,.nav li a:hover{text-decoration:none}.h-r-login,.h-r-search{float:right;padding-top:15px}.h-r-login li{float:left;margin-left:10px;position:relative}.h-r-login li a{cursor:pointer;line-height:50px;color:#666;font-size:16px;transition:.3s;-webkit-transition:.3s}.h-r-login li.h-r-user a img{border-radius:50%;width:30px;height:30px}.h-r-login li.h-r-user span{max-width:60px;height:17px;font-size:16px;line-height:16px;overflow:hidden}.red-point{position:absolute;right:-4px;top:8px;display:block;width:8px;height:8px;border-radius:50%;background:#cb2020;text-indent:-9999px}.h-r-search{margin:10px 20px 0 0}.h-r-s-box{display:block;position:relative}.h-r-s-box input{border:1px solid #e8e8e8;border-radius:20px;color:#aaa;padding:0 15px;font-family:"Microsoft YaHei";width:140px;height:30px;line-height:30px;transition:.3s;-webkit-transition:.3s}.h-r-s-box .s-btn{background:0 0;border:none;position:absolute;right:3px;top:0;width:30px;height:30px;cursor:pointer}.h-r-s-box input:focus{border-color:#ddd;color:#666;width:150px}.h-mobile-mask,.head-mobile,.mw-nav,.mw-nav-btn{display:none}.lh-menu{margin:0 10px;padding:0;color:#b0b0b0}.lh-menu ul li.lh-menu-stair{padding-bottom:5px;margin-bottom:10px;color:#b0b0b0}#lh-menu ul li.lh-menu-stair dl dd a:hover,.lh-menu ul li.lh-menu-stair a:hover,.lh-menu ul li.lh-menu-stair ol li.lh-menu-second a:hover{background:#fbfbfb;transition:.3s;-webkit-transition:.3s;text-decoration:none}.lh-menu ul li.lh-menu-stair a{background:#f8f8f8;color:#333;display:block;font:16px/36px "Microsoft YaHei";height:36px;padding:0 10px;overflow:hidden}.lh-menu ul li.lh-menu-stair a.current-1{background:#f4f4f4;border-bottom:1px solid #e6e6e6}.lh-menu-i-1{background-color:#fff;border:1px solid #bbb;border-radius:50%;text-align:center;line-height:12px}.lh-menu-i-1 font{color:#4e4e4e;font:18px/24px "Microsoft YaHei"}.lh-menu ul li.lh-menu-stair ol li.lh-menu-second a{background:#fff;color:#555;display:block;font:14px/32px "Microsoft YaHei";height:32px;padding:0 10px;margin-top:5px;overflow:hidden}.lh-menu-i-2{background-color:#fff;border:1px solid #ccc;border-radius:50%;width:12px;height:12px}.lh-menu-second a span.fr .lh-p-icon{opacity:.6;-moz-opacity:.6;filter:alpha(opacity=88)}.lh-menu-second a span.fr{color:#bbb;font-size:12px}.lh-menu-second a.current-2 span.fr .lh-p-icon,.lh-menu-second a span.fr .free-icon{opacity:1;-moz-opacity:1;filter:alpha(opacity=100)}#lh-menu ul li.lh-menu-stair dl dd a{color:#666;display:block;font:12px/30px "Microsoft YaHei";height:30px;padding:0 10px 0 20px;overflow:hidden}#lh-menu ul li.lh-menu-stair dl dd a.lh-playing,#lh-menu ul li.lh-menu-stair dl dd a.lh-playing:hover,#lh-menu ul li.lh-menu-stair dl dd a.lh-playing span{cursor:text}#lh-menu a.no-jd-play span,#lh-menu ul li.lh-menu-stair dl dd a span{font-family:Arial;font-size:12px;color:#aaa}.lh-menu ul ol,.lh-menu ul ol dl{display:none}.free-icon{border:1px solid #72cd91;border-radius:20px;color:#72cd91;display:inline-block;height:14px;line-height:14px;font-size:12px;padding:0 8px}.lh-menu ul ul.no-parent-node{display:block}.lh-menu ul ul.no-parent-node li.lh-menu-second a{background:0 0;font-size:14px}.lh-bj-list ul li{border-bottom:1px solid #e9e9e9;padding:12px 5px 2px 65px;position:relative;min-height:50px}.noter-pic{position:absolute;left:0;top:12px}.noter-pic img{border-radius:50%;display:block;height:50px;width:50px}.noter-txt{line-height:180%;color:#4e4e4e;font-size:14px}.lh-n-cz{visibility:hidden}.lh-list-more{margin:10px 0}.lh-list-more a{border:1px dotted #e2e2e2;display:block;height:30px;font:14px/30px Arial;color:#666;text-align:center}.lh-list-more a:hover{border-color:#1755a0;color:#1755a0;text-decoration:none}.question-list.lh-bj-list li{padding-bottom:8px}.noter-dy,.noter-zan{color:#666;cursor:pointer}.noter-dy:hover,.noter-zan:hover{color:#3facea;text-decoration:none}.noter-dy *,.noter-zan *{vertical-align:middle}.n-reply{display:none;margin-top:8px}.n-reply-wrap textarea{background:#fff;border:1px solid #ddd;width:98%;height:48px;padding:4px;font-size:14px;color:#666;overflow-x:hidden;overflow-y:auto}.n-reply-wrap textarea:focus{border-color:#3facea}.lh-reply-btn{background:#6acc7e;border:1px solid #55c76c;border-radius:3px;display:inline-block;height:18px;width:38px;text-align:center;font:12px/18px Arial;color:#fff}.lh-reply-btn:hover{background:#55c76c;color:#fff;text-decoration:none}.n-reply-list{padding-left:40px}.n-reply-list dd{border-bottom:1px solid #e9e9e9;padding:5px 0 8px;position:relative}.n-reply-list dd:last-child{border:none}.n-reply-pic{position:absolute;left:-52px;top:5px}.n-reply-pic img{border-radius:50%;display:block;height:40px;width:40px}.u-select{border:1px solid #ddd;padding:0 8px;color:#666}.lev-num-wrap,.time-bar-wrap{width:100%;position:relative}.lev-num-wrap{background:#e1e1e1}.lev-num-bar,.lev-num-wrap{border-radius:18px;height:12px}.lev-num-bar{width:0;font-size:0;position:absolute;left:0;top:0;z-index:7;transition:.3s}.lev-num{color:#fff;position:absolute;top:1px;left:10px;font-family:"Microsoft YaHei";line-height:10px;z-index:9}.lev-num,.lev-num big,.lev-num small{font-size:12px}.lev-num small{color:#f2f2f2}.no-data-wrap{margin:50px auto;text-align:center}.no-data-wrap .no-data-ico{width:41px;height:80px}.path-wrap{margin:20px 0;color:#ccc;line-height:30px}.v-play-btn{position:absolute;top:50%;left:50%;margin:-32px 0 0 -32px;z-index:9}.v-play-btn em{width:68px;height:68px}.v-play-btn:hover,.v-play-btn:hover em{opacity:.9;-moz-opacity:.9;filter:alpha(opacity=90);text-decoration:none}.c-infor-title{height:18px;overflow:hidden}.c-infor-title span{border-left:5px solid #333;color:#333;font-size:16px;display:inline-block;line-height:18px;padding-left:10px}.paging{padding:50px 0 20px;text-align:center}.paging a{border:1px solid #ccc;border-radius:40%;color:#666;display:inline-block;margin:0 5px;height:30px;width:30px;text-align:center;line-height:30px;transition:.3s;-webkit-transition:.3s}.paging a.current,.paging a.undisable{pointer-events:none;cursor:text}.paging a.undisable:hover{pointer-events:none;border:1px solid #ccc;border-radius:40%;color:#666}.paging a.current,.paging a:hover{border-radius:50%;text-decoration:none}.bMask{background:#000;opacity:.3;filter:alpha(opacity=30);position:fixed;height:100%;width:100%;top:0;right:0;bottom:0;left:0;z-index:99999}.dialogWrap{background:#fff;position:absolute;left:50%;transition:all .3s ease 0s;z-index:9999999}.d-s-head,.d-s-head-infor{border-bottom:1px solid #e2e2e2;height:40px;line-height:40px;padding:0 15px;width:100%}.d-s-head-txt,.d-s-head-txt-infor{color:#333;font-size:16px}.dClose{right:10px;top:15px}.dClose:hover{text-decoration:none}.d-t-icon-1,.d-t-icon-2,.d-t-icon-3,.d-t-icon-4{left:5px;top:0;display:inline-block;vertical-align:middle;width:40px;height:45px}.d-tips-1 p,.d-tips-2 p,.d-tips-3 p{padding-left:60px;line-height:180%}.d-tips-1{position:relative;width:420px}.d-tips-2,.d-tips-7{position:relative;width:400px}.d-tips-3,.d-tips-6{position:relative}.d-tips-6{width:680px;max-height:500px;overflow-y:auto;overflow-x:hidden;margin-right:-20px}.uMenu{padding:0;margin:0}.uMenu dl{margin-right:15px}.u-face-pic{float:left;overflow:hidden;position:relative;margin-right:20px}.u-face-pic,.u-face-pic img{border-radius:50%;width:100px;height:100px}.u-face-pic img{display:block}.u-face-pic a{bottom:-24px;left:0;right:0;width:100%;display:block;text-align:center;height:24px;line-height:24px;position:absolute;transition:.4s}.u-face-pic:hover a{bottom:0}.stud-time-wrap{padding:0 0 0 10px;overflow:hidden;height:40px;line-height:40px}.fly_item{border:2px solid #888;border-radius:100%;height:48px;opacity:.9;overflow:hidden;position:absolute;visibility:hidden;width:48px}.stud-time-wrap *{vertical-align:middle}.stud-time big{font-family:Georgia;font-size:30px;color:#4e4e4e}.stud-time small{font-size:14px;color:#777;margin:0 3px}.u-m-dd{border-top:1px solid #ccc;margin-top:15px}.u-m-dd ul{border-bottom:1px solid #ddd;padding:20px 0 20px 30px}.u-m-dd ul li{line-height:32px}.u-m-dd ul li a,.u-m-dd ul li span{display:block;transition:.3s;-webkit-transition:.3s;color:#4e4e4e;font-size:18px}.u-m-dd ul li span{cursor:default}.u-m-dd ul li ol{padding:10px 0 0 50px}.u-m-dd ul li ol li a{font-size:14px;color:#777}.u-m-dd ul li a:hover{text-decoration:none}.u-r-cont{border-left:1px dotted #ddd;padding-left:40px;min-height:820px}.lrWrap{width:320px}.d-s-head-tab{display:block;height:40px}.d-s-head-tab a{border-bottom:1px solid transparent;color:#666;display:block;float:left;width:100px;text-align:center;line-height:40px;font-size:18px}.d-s-head-tab a:hover{text-decoration:none}.e-l-jy{display:block;height:20px;line-height:20px;text-align:center}.e-login-options li .lr-tip-wrap{margin-top:5px;height:18px;line-height:18px}.e-login-options li label{color:#4e4e4e;display:inline-block;height:32px;width:30px;text-align:center;vertical-align:middle}.e-login-options li input{background:#fff;border:1px solid #ddd;color:#666;height:38px;font:16px/38px "Microsoft YaHei";width:300px;padding-left:16px;vertical-align:middle}.h-left{width:20%}.h-right{width:80%}.h-l-title{height:40px;border-bottom:1px solid #e3e3e3}.h-l-title span{font:24px/40px "SimHei"}.h-l-nav{margin-top:10px}.h-l-nav li{border-bottom:1px solid #e9e9e9;padding:15px 20px}.h-l-nav li a,.h-l-nav li span{font:14px/20px "Microsoft YaHei";color:#333}.h-l-nav li .hl-sec-nav{padding-top:10px;padding-left:22px}.h-l-nav li .hl-sec-nav dd{padding:8px 20px;position:relative}.h-l-nav li .hl-sec-nav dd a em{background-position:-114px -250px;width:14px;height:14px;vertical-align:middle;position:absolute;left:0;top:10px;display:none}.h-l-nav li .hl-sec-nav dd.current a em{display:inline-block}.h-l-nav li .hl-sec-nav dd a:hover{text-decoration:none}.h-l-nav li.current a,.h-l-nav li .hl-sec-nav dd.current a tt,.h-l-nav li .hl-sec-nav dd a:hover tt{color:#e7542b}.h-l-nav li .hl-sec-nav dd a tt{font:12px/20px "Microsoft YaHei";color:#333}.h-right .h-r-wrap{margin-left:30px;padding-left:30px}.h-right .h-r-title span{font-size:16px;font-family:"Microsoft YaHei"}.h-l-cont{margin-top:20px}.h-l-cont p{color:#333;font:12px/24px "Microsoft YaHei"}.order-step{height:150px;overflow:hidden}.order-step-bg-2{background-position:0 -151px}.c-order-list{background-color:#fff;margin-top:20px;border-bottom:1px solid #e2e2e2}.c-o-head{border-top:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2;padding:10px 0}.c-o-head span{font:12px/24px "Microsoft YaHei";color:#999}.c-o-head li,.c-o-tbody li{float:left;width:16%}.c-o-head li .c-t-wz span{font-size:14px;color:#666}.c-o-head li.col52{width:52%;text-align:left}.c-o-head li.col52 .c-t-wz{text-align:left;padding-left:4px}.c-o-head li div.c-t-wz{text-align:right;padding-right:23px}.c-head-li-16{width:11%!important}.c-head-li-36{width:40%!important}.c-head-li-80{width:89%}.c-o-tbody{padding:10px;border-bottom:solid #e2e2e2}.c-o-tbody .c-o-t-img{padding-right:10px}.c-o-tbody li div.c-t-wz{text-align:right;margin-top:34px}.c-pay-method{background-color:#fff;padding:20px 0 20px 12px;border-top:1px solid #e2e2e2;margin-top:20px}.c-p-left{float:left;padding-left:40px}.c-p-right{float:left;margin-left:10px}.c-p-title{font:14px/18px "Microsoft YaHei";color:#333;border-left:5px solid #333;margin-top:20px;padding-left:12px}.c-couse-card{padding-top:30px}.c-couse-card p{font:14px/18px "Microsoft YaHei";color:#666}.buyB_payPlat{padding-left:30px;padding-top:30px}.buyB_payPlat ul li{float:left;height:55px;width:25%;min-width:223px}.buyB_payPlat ul li,.buyB_payPlat ul li input{vertical-align:middle}.buyB_payPlat ul li img{border:1px solid #fff;vertical-align:middle;margin-left:4px}.buyB_payPlat ul li img:hover{border-color:#ff4800}.buyText01{width:190px;height:32px;border:1px solid #985054;padding-left:10px;color:#666;line-height:32px;font-family:"Microsoft YaHei"}.buyCoupon_add2{width:78px;height:36px;background-color:#985054;display:inline-block;color:#fff;font:16px/36px "Microsoft YaHei";text-align:center}.buyCoupon_add2:hover{background-color:#8d4549;text-decoration:none}.order-btn{width:322px;max-width:100%;height:50px;background-color:#e65429;text-align:center;font:24px/50px "Microsoft YaHei";color:#fff;display:inline-block}.order-btn:hover{background-color:#db481d;text-decoration:none}.icon80{width:80px;height:80px;display:inline-block;background-position:-283px -13px}.icon80,.pay-font{vertical-align:middle}.pay-font{font:36px/80px "Microsoft YaHei";margin-left:35px}.c-order-num{position:absolute;right:121px;bottom:0}.order-list-item li{padding:8px 0}.order-list-item li.o-l-fir span{line-height:30px}.order-list-item li.o-l-fir em{margin-top:5px}.c-o-icon{background-position:-240px -125px}.fsize30{font-size:30px}.c-p-m{padding:40px 0 70px}.c-pay-problem{width:100%;margin:30px 0 45px;text-align:center}.c-payerror-desc{width:400px;padding:0 60px}.c-payerror-desc p{font:18px/36px "Microsoft YaHei";color:#333;text-align:center}.c-payerror-desc p span{font-size:24px}.pay-error-btn{margin-top:55px;text-align:center}.pay-error-btn a{padding:12px 20px;display:inline-block;background-color:#e6532a}.jihu-btn:hover,.pay-error-btn a:hover{background-color:#d84d26;text-decoration:none}.pay-error-btn a tt{vertical-align:middle;font:18px/25px "Microsoft YaHei";color:#fff}.pay-error-btn a em{width:20px;height:20px;display:inline-block;margin-right:10px;vertical-align:middle}.pay-error-btn a .c-pay-btn1{background-position:-234px -219px}.pay-error-btn a .c-pay-btn2{background-position:-234px -251px}.line2{border-bottom:1px solid #e5e5e5}.jihu-btn{border-radius:3px;color:#fff;background-color:#e6532a;display:inline-block;font:15px/24px "Hiragino Sans GB","Microsoft YaHei";height:24px;padding:2px 25px}.tab-integral th{background:#f0f0f0 none repeat scroll 0 0;border:1px solid #ddd;color:#333;font-weight:400;padding:8px 10px}.tab-integral td{border:1px solid #ddd;color:#666;padding:12px 10px;vertical-align:middle}.integral-list ul li{float:left;margin:40px 44px 0;width:180px}.u-c-card.tab-integral td{padding:12px 5px}.fbold{font-weight:700}.c-pay-problem em{width:80px;height:80px;display:inline-block;background-position:-283px -111px}.coupon-box{height:36px;overflow:hidden;clear:both;width:auto}.coupon-left{padding:30px 20px 10px;text-align:center;background-color:#f9e9c5;border:1px dotted #68cb9b}.cou-left-num{font:16px/29px "Microsoft YaHei";color:#68cb9b;padding:0 17px;border:1px solid #68cb9b;border-radius:20px;display:inline-block}.cou-money{color:#dd491e;font-size:18px;font-family:"Microsoft YaHei";display:inline-block;font-weight:400;line-height:56px}.cou-money tt{font-size:60px;font-style:italic}.cou-money font{position:absolute;left:45px;top:-10px}.c-mon-wrap{height:60px;overflow:hidden;position:relative}.coupon-right{background-color:#68cb9b;padding:26px}.coupon-list li{float:left;width:50%;margin-top:40px;min-width:325px}.expired-state .coupon-left{background-color:#e6e6e6;border:1px dotted #bdbdbd}.expired-state .cou-left-num{border:1px solid #b2b2b2;color:#b2b2b2}.expired-state .cou-money{color:#b3b3b3}.expired-state .coupon-right{background-color:#b3b3b3}.expired-state li{position:relative}.exp-chapter{position:absolute;left:124px;top:9px}.ret-btn{width:150px;height:50px;background-color:#e7542a;display:inline-block;text-align:center}.ret-btn:hover{text-decoration:none;background-color:#de4c22}.ret-btn em{background-position:-239px -56px}.lea-cou-btn em{background-position:-239px -91px}.order-list-item li span{margin-top:3px;display:inline-block}.ret-btn tt{font:18px/50px "Microsoft YaHei";color:#fff;margin-left:10px;vertical-align:middle}.s-c-icon em{background-position:-234px -160px}.l-r-w-Inpt li label{color:#666;display:inline-block;font-size:14px;text-align:right;width:68px}.l-r-w-Inpt li input.lTxt{background:#fff none repeat scroll 0 0;border:1px solid #cfcfcf;box-shadow:inset 1px 1px 4px rgba(0,0,0,.1);color:#666;height:32px;line-height:32px;padding:0 10px;width:260px}.l-r-w-Inpt li input.lTxt.yzm{width:100px}.l-r-w-Inpt li input.lTxt:focus{border-color:#f1a181;box-shadow:1px 1px 4px rgba(255,72,0,.1)}.login-btn{display:inline-block;height:28px;text-align:left;width:286px;background:-ms-linear-gradient(top,#ff7944,#ff4901);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff7944",endColorstr="#ff4901");border:1px solid #ff4a03}.login-btn input{background:transparent none repeat scroll 0 0;border:none;color:#fff;font:18px/28px "Hiragino Sans GB","Microsoft YaHei","΢���ź�";height:28px;text-align:center;width:286px}.r-fix-box{width:100%;height:100%}.r-fixed-ul{position:absolute;left:-49px;bottom:200px}.shopcar-box{transition:all .3s ease 0s;background-color:#eceaef;border-left:4px solid #ea562e}.s-car-box,.shopcar-box{height:100%;width:270px}.c-4e{color:#4e4e4e}.s-car-box-top{width:100%;height:38px;padding:10px 15px;border-bottom:1px solid #ddd;position:absolute;width:240px;height:30px;background-color:#eceaef}.s-car-box-middle{padding:55px 0}.s-car-close{width:12px;height:12px;display:inline-block;background-position:-238px -195px;transition:all .3s ease 0s}.s-car-close:hover{transform:rotate(180deg)}.addScar-elem{margin-right:-10px;max-height:300px;overflow-x:hidden;overflow-y:auto}.addScar-list{clear:both;overflow:hidden;padding:6px 0 0}.a-s-l-c-name{float:left;width:113px}.a-s-l-c-name a:hover{color:#ea562e}.s-car-box-bot{width:100%}.s-c-b{padding:5px 110px 5px 5px;height:40px;position:relative}.js-btn{width:112px;height:36px;position:absolute;right:5px;top:5px;background-color:#ea562e;transition:all .3s ease 0s;color:#fff;text-align:center;font:16px/36px "Microsoft YaHei";display:inline-block}.js-btn:hover{text-decoration:none;background-color:#dc4921}.a-s-l-c-attr{float:left;line-height:20px;margin-left:5px;overflow:hidden;text-align:center;width:65px}.c-b-m-list li{padding:10px;background-color:#f8f8f8;margin-bottom:12px}.s-car-box-bot{width:270px;height:50px;position:absolute;bottom:0;right:0;background-color:#eceaef;padding-bottom:5px}.e-login-options li input:focus{border-color:#ccc;box-shadow:inset 0 0 6px rgba(0,0,0,.08)}.e-login-btn,.e-register-btn{display:block;width:300px;margin:0 auto;height:34px;text-align:center;font:18px/34px SimHei;color:#fff}.sf-lr-wrap{padding-top:15px;border-top:1px solid #f2f2f2}.sf-lr-wrap h6{margin-top:-26px}.sf-lr-wrap a{margin:0 10px;display:inline-block;width:32px;height:32px;vertical-align:middle;position:relative}.sf-lr-wrap a:hover{text-decoration:none}.r-fixed-wrap{position:fixed;right:-279px;bottom:0;z-index:9999;width:270px;height:100%;border-right:5px solid #eee}.r-fixed-ul li{position:relative;width:45px;margin-bottom:1px}.r-fixed-ul li a{display:block;height:45px;text-align:center;overflow:hidden;transition:.3s}.r-fixed-ul li a em{display:inline-block;width:32px;height:32px;margin-top:8px;vertical-align:middle}.r-fixed-ul li a span{display:none;width:32px;line-height:22px;font-size:14px;color:#fff;margin:0 auto}.r-fixed-ul li a:hover,.r-fixed-ul li a:hover span{display:block;text-decoration:none}.r-fixed-ul li a:hover em{display:none}.r-fixed-ul li a:hover em.r-f-icon-4{display:inline-block}.vBtnCurr{opacity:.86}.onScroll,.onScroll body{overflow:hidden}.cou-arrow-down,.cou-arrow-up{width:10px;height:6px;display:inline-block;vertical-align:middle;margin-left:8px}.cou-arrow-down{background-position:-141px -181px}.cou-arrow-up{background-position:-141px -199px}.p-cou-card-pad{padding:0 15px 0 20px}.c-card-more{width:288px;background-color:#fff;text-align:left;border:1px solid #ddd;position:relative}.yk-DT-arrow{position:absolute;cursor:default;width:12px;left:45px;top:-7px}.yk-DT-arrow *{cursor:default;display:block;color:#ddd;font-size:12px;font-family:"SimSun";height:18px;line-height:1.231;overflow:hidden;font-style:normal;font-weight:400}.yk-DT-arrowem{color:#ddd}.yk-DT-arrow span{color:#fff;margin-top:-16px}.c-csrd-m-wrap{position:absolute;left:0;top:42px;z-index:93}.c-c-more-cleft{float:left;width:22%}.c-c-more-cright{float:left;width:78%}.c-card-more ul{padding:5px;line-height:20px}.m-card-table{display:none}.u-order-list{border-right:1px solid #eee;border-bottom:1px solid #eee}.c-cou-item{margin:0 0 10px 10px;padding:0 20px 10px 0}.c-cou-item .wid85{width:85%}.u-o-left{width:74%!important}#footer{background-color:#323232;border-top-width:5px;border-top-style:solid;color:#999;width:100%;overflow:hidden;padding-top:30px}.flink-list li{float:left;margin:15px 30px 0 0}.flink-list li a{color:#666;font-size:12px}.b-f-link a:hover,.flink-list li a:hover{color:#888;text-decoration:none;transition:.3s;-webkit-transition:.3s}.b-foot{border-top:1px solid #393939;padding:20px 0 40px;margin-top:30px}.b-f-link{color:#444;line-height:12px;margin-left:-10px;line-height:20px}.b-f-link a,.b-f-link span{color:#666;display:block;margin:0 10px 5px;display:inline-block;vertical-align:middle}.gf-tx{display:inline-block;margin:0 10px;position:relative}.gf-tx-ewm{position:absolute;left:50%;top:0;margin-left:-80px;opacity:0;-moz-opacity:0;filter:alpha(opacity=0);z-index:3;transition:.3s}.gf-tx-ewm img{display:block;width:160px;height:160px}.gf-tx:hover .gf-tx-ewm{opacity:1;-moz-opacity:1;filter:alpha(opacity=100);top:-160px}.share-fir-icon,.share-sec-icon,.share-thr-icon{width:70px;height:70px;display:inline-block;vertical-align:middle}.share-list li,.share-list li a{float:left}.pt3{padding-top:3px}.dz-num{position:absolute;left:50%;bottom:-24px;margin-left:10px}.share-list{padding:0 auto;margin-left:-33px}.share-list li{margin-left:66px}.share-fir-icon{background:url('+I+") no-repeat 0 0/100% auto;transition:all .3s ease 0s}.share-sec-icon{background:url("+z+") no-repeat 0 0/100% auto;transition:all .3s ease 0s}.share-thr-icon{background:url("+L+") no-repeat 0 0/100% auto;transition:all .3s ease 0s}#sharebutton .bdsharebuttonbox a{margin-left:60px!important}#sharebutton .bdsharebuttonbox a.bds_weixin{width:70px;height:70px;background:transparent url("+H+") no-repeat scroll 0 0/100% auto!important}#sharebutton .bdsharebuttonbox a.zan-icon{width:70px;height:70px;background:transparent url("+I+") no-repeat scroll 0 0/100% auto!important}#sharebutton .bdsharebuttonbox a.bds_tsina{width:70px;height:70px;background:transparent url("+F+") no-repeat scroll 0 0/100% auto!important}@media (min-width:1300px){.container{width:1160px}.i-slide,.swiper-container{height:480px}.col-7{width:75%}.col-3{width:25%}.c-v-pic-wrap{width:640px;height:357px}.thr-attr-box{width:120px;height:357px}.c-attr-wrap{width:400px;height:357px}.u-course-list .comm-course-list li{width:33.33%}}@media (min-width:1200px) and (max-width:1299px){.container{width:1120px}.c-v-pic-wrap{width:620px;height:346px}.u-order-list .u-o-right{width:25%!important}.thr-attr-box{width:120px;height:346px}.c-attr-wrap{width:380px;height:346px}.u-course-list .comm-course-list li{width:33.33%}#cou-shopcar{width:120px;height:28px;font-size:14px;line-height:28px}}@media (min-width:992px) and (max-width:1199px){.container{width:970px}.nav li a{margin:0 12px}.order-step{background-size:100%;height:111px}.u-order-list .u-o-right{width:25%!important}.order-step-bg-2{background-position:0 -141px}.h-r-search{display:none}.i-slide{height:auto}.c-v-pic-wrap{width:470px;height:262px}.thr-attr-box{width:120px;height:262px}.c-attr-wrap{width:380px;height:262px}.u-course-list .comm-course-list li{width:33.33%}#cou-shopcar{width:120px;height:28px;font-size:14px;line-height:28px}}@media (min-width:768px) and (max-width:991px){.container{width:750px}#logo{float:none}.h-r-search{display:none}.order-step{background-size:100%;height:97px}.u-order-list .u-o-right{width:20%!important}.c-cou-item .wid85{width:84%}.order-step-bg-2{background-position:0 -101px}.comm-course-list li{width:50%}.c-v-pic-wrap{width:370px;height:206px}.thr-attr-box{float:none;width:750px;height:80px}.c-attr-wrap{width:380px;height:206px}.c-infor-box .col-3,.c-infor-box .col-7{width:100%}.c-infor-box .col-7{margin:0 0 20px}.c-infor-box .col-7 .mr30{margin:0}#cou-shopcar{width:120px;height:28px;font-size:14px;line-height:28px}}.m-fixed{position:fixed!important;z-index:10!important}.m-right-bottom{bottom:0!important;right:0!important}.m-padded{padding:1em!important}",""]),e.exports=E},function(e,t,n){e.exports=n.p+"img/icon.7b78a00.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NjRCMzk0NzNDMTYxMUU1QjcxRTg1RjE5MzFDNEUyNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NjRCMzk0ODNDMTYxMUU1QjcxRTg1RjE5MzFDNEUyNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg2NEIzOTQ1M0MxNjExRTVCNzFFODVGMTkzMUM0RTI0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg2NEIzOTQ2M0MxNjExRTVCNzFFODVGMTkzMUM0RTI0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++/gBbQAAACRJREFUeNpiYWBg8GWgImBioDIYNXDUwFEDRw0cNXCoGAgQYAB+DgB4xCH5dQAAAABJRU5ErkJggg=="},function(e,t,n){e.exports=n.p+"img/v-play-bg.1a38bcb.jpg"},function(e,t,n){e.exports=n.p+"img/wb-icon-32.b30f5ed.png"},function(e,t,n){e.exports=n.p+"img/wb-icon-hover-32.484b8dd.png"},function(e,t,n){e.exports=n.p+"img/wx-icon-32.9b23354.png"},function(e,t,n){e.exports=n.p+"img/wx-icon-hover-32.4451936.png"},function(e,t,n){e.exports=n.p+"img/qq-icon-32.5f53116.png"},function(e,t,n){e.exports=n.p+"img/qq-icon-hover-32.c04c762.png"},function(e,t,n){e.exports=n.p+"img/zan-icon.7d576f1.png"},function(e,t,n){e.exports=n.p+"img/wx-icon.4750bed.png"},function(e,t,n){e.exports=n.p+"img/wb-icon.d9200fb.png"},function(e,t,n){e.exports=n.p+"img/wx2-icon.aaf753e.png"},function(e,t,n){e.exports=n.p+"img/wb2-icon.45182f8.png"},function(e,t,n){var r=n(4)(!1);r.push([e.i,'@charset "utf-8";.typo p{font-size:16px;font-weight:300;line-height:1.8;text-align:justify}.typo li{font-weight:300;padding:4px 0}.typo article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}.typo audio,canvas,video{display:inline-block}.typo button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}.typo button::-moz-focus-inner,.typo input::-moz-focus-inner{padding:0;border:0}.typo table{border-collapse:collapse;border-spacing:0}.typo fieldset,img{border:0}.typo blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){.typo blockquote{margin:1em 0}}.typo acronym,abbr{border-bottom:1px dotted;font-feature-settings:normal;font-variant:normal}.typo abbr{cursor:help}.typo del{text-decoration:line-through}.typo address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}.typo ul,ol{list-style:none}.typo caption,th{text-align:left}.typo q:after,.typo q:before{content:""}.typo sub,.typo sup{font-size:75%;line-height:0;position:relative}.typo :root sub,.typo :root sup{vertical-align:baseline}.typo sup{top:-.5em}.typo sub{bottom:-.25em}.typo a{color:#1abc9c}.typo a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a,.typo a:hover,.typo ins{text-decoration:none}.typo .typo-u,.typo u{text-decoration:underline}.typo mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}.typo code,.typo pre,.typo pre tt{font-family:Courier,"Courier New",monospace}.typo pre{background:#f8f8f8;border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}.typo hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo .typo-small,.typo figcaption,.typo small{font-size:.9em;color:#888}.typo b,.typo strong{font-weight:700;color:#000}.typo [draggable]{cursor:move}.typo .clearfix:after,.typo .clearfix:before{content:"";display:table}.typo .clearfix:after{clear:both}.typo .clearfix{zoom:1}.typo .textwrap,.typo .textwrap td,.typo .textwrap th{word-wrap:break-word;word-break:break-all}.typo .textwrap-table{table-layout:fixed}.typo .serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1.2em}.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{font-family:PingFang SC,Verdana,Helvetica Neue,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;font-weight:100;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:#f1f1f1}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・"}.typo img{max-width:100%}',""]),e.exports=r},function(e,t,n){var r=n(4),o=n(50),c=n(306),l=n(307),d=n(308),f=n(309),m=n(310),h=r(!1),v=o(c),x=o(l),y=o(d),w=o(f),k=o(m);h.push([e.i,".i-slide{width:100%}.i-slide,.swiper-container{overflow:hidden;position:relative}.swiper-container{margin:0 auto;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-wrapper{position:relative;width:100%;-webkit-transition-property:-webkit-transform,left,top;-webkit-transition-duration:0s;-webkit-transform:translateZ(0);-webkit-transition-timing-function:ease;-moz-transition-property:-moz-transform,left,top;-moz-transition-duration:0s;-moz-transform:translateZ(0);-moz-transition-timing-function:ease;-o-transition-property:-o-transform,left,top;-o-transition-duration:0s;-o-transform:translateZ(0);-o-transition-timing-function:ease;-o-transform:translate(0);-ms-transition-property:-ms-transform,left,top;-ms-transition-duration:0s;-ms-transform:translateZ(0);-ms-transition-timing-function:ease;transition-property:transform,left,top;transition-duration:0s;transform:translateZ(0);transition-timing-function:ease;box-sizing:content-box}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-slide{float:left;box-sizing:content-box}.swiper-slide img{display:block;margin:0 auto;max-width:100%;height:auto}.swiper-wp8-horizontal{-ms-touch-action:pan-y}.swiper-wp8-vertical{-ms-touch-action:pan-x}.i-slide .pagination{position:absolute;left:0;text-align:center;bottom:10px;width:100%;z-index:9}.swiper-pagination-switch{display:inline-block;width:10px;height:10px;border-radius:10px;border:1px solid #fff;margin:0 3px;cursor:pointer}.swiper-active-switch{background:#fff}.i-slide .s-arrow{position:absolute;top:50%;margin-top:-35px;display:block;width:40px;height:70px;opacity:.6;-moz-opacity:.6;filter:alpha(opacity=60);z-index:9}.i-slide .arrow-left{background:url("+v+") no-repeat 0 0;left:0}.i-slide .arrow-right{background:url("+x+') no-repeat 0 0;right:0}.i-slide .s-arrow:hover{opacity:1;-moz-opacity:1;filter:alpha(opacity=100);text-decoration:none}.c-tab-title{border-bottom:1px solid #e2e2e2;height:34px;text-align:center;margin-bottom:50px}.c-tab-title a{border-bottom:1px solid transparent;display:inline-block;line-height:34px;margin:0 20px;padding:0 10px;font-size:16px;color:#666;transition:.3s;-webkit-transition:.3s}.c-tab-title a:hover{text-decoration:none}.i-question-list{border-top:1px solid #e2e2e2;padding:30px 0 40px;margin-top:-10px}.i-question-list ul{display:block;height:370px;overflow:hidden;position:relative}.i-question-list ul li{border-bottom:1px dotted #e6e6e6;height:90px;overflow:hidden}.i-q-l-wrap{padding:10px 0 15px 75px;position:relative;min-height:67px}.u-face{position:absolute;left:0;top:10px}.u-face img{display:block;width:60px;height:60px;border-radius:50%}.i-q-txt{height:20px;line-height:200%}.stud-act-list>section{border-top:1px solid #e2e2e2;margin-top:-10px;padding-top:20px}.stud-act-list ul{height:358px;overflow:hidden}.stud-act-list li{border-bottom:1px solid #f2f2f2;padding:17px 0 12px 75px;position:relative;height:60px}.i-teacher-list ul{margin-left:-30px;padding-top:20px}.i-teacher-list ul li{width:25%;float:left}.i-teach-wrap{background:#fff;border:1px solid transparent;display:block;margin:0 0 50px 30px;text-align:center;padding:15px 15px 20px;overflow:hidden;transition:.3s;-webkit-transition:.3s}.i-teach-pic{width:60%;margin:10px auto 0}.i-teach-pic img{display:block;border-radius:50%;max-width:100%;transition:.5s;-webkit-transition:.5s}.i-teach-wrap .i-q-txt{border-top:1px dotted #e2e2e2;padding-top:15px}.i-teach-wrap:hover{border-color:#e8e8e8;box-shadow:6px 6px 0 rgba(0,0,0,.06)}.i-teach-wrap:hover .i-teach-pic img{transform:rotateY(180deg);-webkit-transform:rotateY(180deg)}.c-sort-box{border-top:1px solid #e2e2e2;margin-top:-15px}.c-s-dl dl{border-bottom:1px dotted #ddd;line-height:30px}.c-s-dl dl dt{float:left;width:75px;text-align:right;padding-right:15px}.c-s-dl dl{position:relative;padding:15px 60px 0 0}.c-s-dl-li{padding-left:90px}.c-s-dl-li ul{overflow:hidden}.c-s-dl-li ul li{float:left;margin:0 15px 9px 0}.c-s-dl-li ul li a{display:inline-block;color:#666;font-size:14px;padding:0 10px}.c-s-dl-li ul li.current a,.c-s-dl dl ul li a:hover{color:#ea562e;text-decoration:none}.c-s-more{position:absolute;right:5px;top:16px}.js-wrap{background:#f4f4f4;height:40px;line-height:40px;padding:0 15px;position:relative;overflow:hidden;clear:both}.js-tap li{float:left}.js-tap li a{display:block;padding:0 30px;line-height:40px;color:#666;font-size:14px}.js-tap li.current a{color:#fff}.c-v-pic-wrap{float:left;transition:.3s;position:relative}.c-v-pic{display:block;max-width:100%}.thr-attr-box{background:#985054}.c-attr-wrap,.thr-attr-box{float:right;transition:.3s;-webkit-transition:.3s}.c-attr-wrap{background:#264863}.lt-ie9.c-v-pic-wrap,.lt-ie9.lt-ie8 .c-v-pic-wrap{width:640px;height:357px}.lt-ie9 .thr-attr-box,.lt-ie9.lt-ie8 .thr-attr-box{width:140px;height:357px}.lt-ie9 .c-attr-wrap,.lt-ie9.lt-ie8 .c-attr-wrap{width:420px;height:357px}.thr-attr-ol{padding:0 10px;overflow:hidden;height:100%}.thr-attr-ol li{border-bottom:1px solid #ad7376;height:33.33%;width:100%;text-align:center;display:block}.thr-attr-ol li aside{display:inline-block;vertical-align:middle}.thr-attr-ol li span{font-size:14px;vertical-align:middle}.thr-attr-ol li h6{font-size:20px}.thr-attr-ol li h6,.thr-attr-ol p{display:inline-block;vertical-align:middle}.thr-attr-ol p{height:100%;width:1px;font-size:0;line-height:100%}.c-attr-jg{border-bottom:1px solid #30536f;margin-top:30px;padding-bottom:20px;vertical-align:middle}.c-attr-jg span{font-size:14px;vertical-align:middle}.c-attr-jg big{font-size:28px;vertical-align:middle}.c-attr-jg span s{text-decoration:line-through;vertical-align:middle}.c-attr-mt{margin-top:30px}.kcShare{overflow:hidden;width:48px}.kcShare #bdshare{color:#fff;height:24px;left:50px;margin:0;position:absolute;top:-4px;width:160px}.sc-end a,.sc-end a:hover{color:#f4c600;cursor:default;text-decoration:none}.c-infor-tabTitle.c-tab-title{margin:20px 0;text-align:left}.c-infor-tabTitle.c-tab-title a{font-size:18px;margin-left:0}.course-txt-body{overflow:hidden;color:#888;font-size:14px;line-height:30px;white-space:normal;word-break:break-all;margin-top:20px;padding:0 10px;text-align:justify}.course-txt-body img{max-width:100%}.ctb-btn{text-align:center;margin-top:15px}.ctb-btn a{opacity:.6;-moz-opacity:.6;filter:alpha(opacity=60)}.c-teacher-txt-show{color:#999;line-height:30px;white-space:normal;word-break:break-all;margin:10px 10px 0}.buy-cin-list{margin-left:-18px;overflow:hidden;clear:both}.buy-cin-list span{display:block;float:left;width:18%;margin:5px 0 15px 18px;text-align:center}.buy-cin-list span img{border-radius:50%;display:block;max-width:100%}.buy-cin-list span tt{height:18px;width:100%;display:block;margin-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.comm-title.all-article-title,.comm-title.all-teacher-title{overflow:visible}.all-teacher-title .c-tab-title{margin-bottom:20px;height:auto}.all-teacher-title .c-tab-title a{margin:0 10px}.t-infor-wrap{border-bottom:none;border-top:1px solid #e2e2e2;padding-top:10px;margin-top:-10px}#t-infor-menu{border:none;height:auto;text-align:left}#t-infor-menu p a{margin:20px 0 0;padding:0 0 0 10px;height:18px;line-height:18px;border:solid #666;border-width:0 0 0 5px;display:inline-block}.t-infor-menu{width:10%}.t-infor-box{width:90%}.t-infor-pic{float:left;margin:0 30px 0 0;background:#fff;border:1px solid #f0f0f0;box-shadow:5px 5px 0 rgba(0,0,0,.04);overflow:hidden}.t-infor-pic img{margin:20px auto;width:90%;display:block}.t-tag-bg{background:#f2f2f2;display:inline-block;padding:10px 15px;overflow:hidden;font-size:14px;color:#888}.t-infor-txt{margin:20px 10px 0;line-height:200%;font-size:14px;color:#777}.t-infor-txt p{text-indent:24px;text-align:justify}.comm-title.all-article-title{margin-bottom:20px}.comm-title.all-article-title .c-tab-title{padding-top:10px}.comm-title.all-article-title h2 span{font-size:24px}.i-article-list li{border-bottom:1px dotted #ddd;margin-bottom:20px;padding:0 0 20px 210px;position:relative;min-height:100px}.i-article-pic{position:absolute;left:0;top:0;width:180px;text-align:center;transition:.3s;-webkit-transition:.3s}.i-article-pic img{max-width:100%}.i-art-title{color:#333;font-size:20px}.i-art-title:hover{text-decoration:none}.i-article-list.r-art-wrap li{padding:0 0 10px 30px;min-height:inherit;position:relative}.r-art-wrap li .orderNum{position:absolute;left:0;top:6px}.r-art-wrap li .orderNum span{background:#ddd;border-radius:3px;color:#777;display:inline-block;font-size:12px;text-align:center;width:20px;height:20px;line-height:20px}.r-art-wrap li.lt2 .orderNum span{background:#ca9191;color:#fff}#art-infor-body{border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;line-height:200%;color:#4e4e4e;font-size:14px;font-family:SimSun;padding:20px 10px;overflow:hidden}#art-infor-body p{margin-bottom:20px;text-indent:24px;text-align:justify}#art-infor-body img{max-width:100%;margin:0 auto}.i-q-txt{height:40px;overflow:hidden}.i-q-txt p{line-height:20px;height:20px}.q-tip-pic{margin-right:20px;float:left}.q-c-list dl{margin-bottom:30px;min-height:30px;clear:both;position:relative;padding-left:70px}.q-c-list dl dt{position:absolute;top:5px;left:0;width:60px;text-align:right}.q-c-list dl dd label input,.q-c-list dl dd textarea,.tags-content{background:#fff;border:1px solid #73868e;color:#333;font-size:15px;width:92%;padding:0 10px;line-height:34px;height:34px}.q-sort-wrap span{background:#fff;border:1px solid #bbb;cursor:pointer;display:inline-block;padding:0 20px;height:32px;line-height:32px;font-size:16px;color:#666;margin-right:10px}.q-sort-wrap span.current{background:#fbfbfb;cursor:default}.tags-content{height:20px;line-height:20px;padding:7px 10px}.q-c-list dl dd label input:focus,.q-c-list dl dd textarea:focus,.tags-content:focus{box-shadow:inset 1px 1px 1px rgba(0,0,0,.08)}.q-c-list dl dd textarea{height:150px;font-size:14px;line-height:30px}.v-code-pic{display:inline-block;vertical-align:middle;margin-left:10px;width:88px}.tags-content span{color:#919191;cursor:default}.q-c-jy{position:absolute;right:5px;bottom:0}.tags-content .list-tag{margin-right:1px}.taglist{margin-top:-10px}.taglist .list-tag{color:#787d82;cursor:pointer;margin:1px}.list-tag{background:#f2efed;color:#787d82;float:left;font-size:12px;height:20px;line-height:20px;padding:0 10px;transition:all .25s ease 0s;white-space:nowrap;word-wrap:break-word}.list-tag.onactive,.list-tag:hover{background:#eae7e4;color:#4e4e4e;text-decoration:none}.list-tag.onactive{cursor:default}.q-all-list li{border-bottom:1px solid #e2e2e2;margin-top:30px;position:relative;padding-bottom:30px}.q-head-pic{position:absolute;left:0;top:0;width:100px;text-align:center}.q-head-pic img{display:inline-block;width:50px;height:50px;border-radius:50%}.q-txt-box{position:relative;margin-left:120px;padding-right:130px;min-height:80px}.replyBrowseNum{display:block;position:absolute;right:0;top:10px;width:120px;overflow:hidden;clear:both}.replyBrowseNum:hover,.replyBrowseNum:hover *{cursor:pointer;text-decoration:none;opacity:.9;filter:alpha(opacity=90)}.browseNum,.replyNum{float:left;width:50px;margin:0 5px;text-align:center}.r-b-num{font-size:14px;font-family:"Microsoft YaHei";color:#666}.q-r-rank-list li{border-bottom:1px dotted #e2e2e2;margin-top:15px;padding:0 80px 15px 0;position:relative}.q-r-r-num{position:absolute;right:0;top:0}.q-r-r-num .r-b-num{color:#ff5f16}.q-infor-box{border-top:1px solid #e2e2e2;padding-top:20px}.q-infor-box .q-txt-box{margin-left:60px;min-height:inherit}.q-infor-box .q-head-pic{width:50px}.q-infor-box .i-q-txt{height:auto}.q-share{position:absolute;right:0;top:6px;width:120px}.q-i-noter-box{border-top:1px solid #ddd;margin-top:25px;padding-top:25px}.q-n-r-box .n-reply{border-top:1px solid #e2e2e2;display:block;padding-left:36px;margin-top:20px}.q-n-r-box .question-list.lh-bj-list li{padding-bottom:30px}.question-list.lh-bj-list .c-btn-6{display:none}.question-list.lh-bj-list li:hover .c-btn-6{display:block}.question-list.lh-bj-list .bg-fa .c-btn-6,.question-list.lh-bj-list li:hover .bg-fa .c-btn-6{display:inline-block}.good-anwer-box{background:#fffaed;margin-top:20px;padding:0 20px 20px;position:relative}.g-a-title span{border-radius:0 0 30px 0;display:inline-block;padding:0 40px 0 20px;font-size:18px;color:#fff;height:34px;line-height:34px;margin-left:-20px}.good-answer .question-list.lh-bj-list li{border:none}.good-answer .n-reply{border-top:1px solid #e2e2e2}.u-order-wrap dl{margin-bottom:25px}.u-order-wrap dl dt{background:#f4f4f4;border:solid #e9e9e9;border-width:1px 0;height:32px;line-height:32px;overflow:hidden;padding:0 10px}.u-ol-pic{width:120px;float:left;display:block;margin-right:15px}.u-ol-pic img{display:block;max-width:100%}.u-account-box{padding:30px 0 0 60px}.u-account-li li{margin-bottom:30px;overflow:hidden}.u-account-li li *{vertical-align:middle}.u-a-title{display:inline-block;width:80px;text-align:right;padding-right:10px}.u-a-inpt,.u-account-li select{background:#fff;border:1px solid #ddd;height:32px;line-height:36px;width:300px;font-size:14px;color:#666;padding:0 10px}.u-a-inpt:focus,.u-account-li select:focus{border-color:#ccc;box-shadow:inset 1px 1px 3px rgba(0,0,0,.1)}.u-a-error{margin-left:10px;color:#ff8723}.u-sys-news dl{border-bottom:1px dotted #ddd;padding-bottom:20px;margin-top:20px;overflow:hidden;clear:both}.u-sys-news dl dt{border-right:3px solid #f2f2f2;float:left;width:100px;margin-right:20px;padding-right:20px;height:100px}.p-h-header{background:#111;width:100%}.p-h-head{padding:0 80px;height:60px;position:relative}.p-h-title{font-size:20px;line-height:60px;text-align:center;height:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.p-h-goback{position:absolute;left:15px;top:20px}.p-h-rSc{position:absolute;left:95px;top:22px}.dpOpen a{color:#f4c600}.dpBtn.dpOpen{width:50px;position:absolute;top:1px;right:0;z-index:999999}.p-h-s-bar .lev-num-bar,.p-h-s-bar .time-bar-wrap,.p-h-s-bar .time-bar-wrap .lev-num-wrap{border-radius:0}.p-h-s-bar .time-bar-wrap .lev-num-wrap{background:#666}.p-h-s-bar .lev-num-bar{background:#985054}.time-bar-wrap .lev-num-bar p{position:relative;height:12px;overflow:hidden}.time-bar-wrap .lev-num-bar p .lev-num{right:15px;top:0;left:inherit}.p-h-box{padding:0 400px 0 0;position:relative}.p-h-video{position:relative;width:100%;height:100%;z-index:99999}.p-h-video-box{position:absolute;left:0;top:0;right:0;bottom:0;height:100%;width:100%;z-index:2}.p-h-video-tip{position:absolute;top:50%;left:50%;margin:-30px 0 0 -25px;z-index:1}.p-h-r-ele{background:#fff;position:absolute;top:0;right:0;width:400px;height:100%;z-index:99999}.p-h-r-wrap{padding:0 10px}.p-h-r-title{border-bottom:1px solid #364b61;height:34px}.p-h-r-title li{float:left;width:50%}.p-h-r-title li a{color:#364b61;display:block;height:35px;line-height:35px;text-align:center;font-size:16px}.p-h-r-title li.current a{background:#264863;border-radius:3px 3px 0 0;color:#fff}.p-h-r-title li a:hover{text-decoration:none}#p-h-r-cont{position:relative;overflow-x:hidden;overflow-y:auto}.p-h-r-menu .lh-menu{margin:0}.p-h-m-tp{background:#111;height:60px;margin:0 -10px;position:relative}.o-c-btn{width:15px;position:absolute;left:0;top:0;height:60px;line-height:160%}.o-c-btn a{border-left:1px solid #666;height:40px;display:block;padding-top:20px}.o-c-btn.open-o-c a,.open-o-c.o-c-btn a:hover{border-color:#f4c600}.o-c-btn a:hover{border-color:#fff}.pay-o-e-wrap .comm-shadow-2{box-shadow:0 1px 0 0 #fff,0 2px 0 0 #ccc,0 3px 0 0 #fff,0 4px 0 0 #ccc,0 5px 0 0 #fff,0 3px 5px 2px rgba(0,0,0,.1)}.order-table{border:1px solid #ddd}.orderSuccess ol{overflow:hidden;padding:20px 30px 40px 200px}.order-table ol h2{border-bottom:1px solid #ddd;height:auto;font-size:24px}.paySuccIcon{height:140px;left:3em;top:0;width:140px}.kj-link li a svg,.paySuccIcon svg{width:100%;height:100%}.kj-link{padding-left:200px;height:130px}.kj-link li{display:inline-block;margin:0 20px}.kj-link li a{display:inline-block;height:110px;width:110px;text-align:center;font-size:18px;color:#eb4f38}.kj-link li a:hover{opacity:.9;filter:alpha(opacity=90);text-decoration:none}.ei-item-box a{display:block;z-index:99999;color:#fff;position:absolute;top:-8px;right:0;transition:.5s;-webkit-transition:.5s;-ms-transition:.5s;-o-transition:.5s}.ei-item-box a,.ei-item-box a img{height:50px;width:55px}.ei-item-box a:hover{top:0;transition:top .5s}.ei-i-dialog{width:100%;transition:.3s;-webkit-transition:.3s;-o-transition:.3s;-moz-transition:.3s;-ms-transition:.3s}.ei-i-dialog,.ei-i-dialog-box-tit{background:url('+y+') repeat 0 0}.ei-i-dialog-box-tit{border-bottom:1px solid #333;height:32px}.ei-i-dialog-box-tit span{font:14px/32px "Microsoft YaHei";color:#fff}.ei-i-close{background-color:#111;color:#f0742e;font:14px/29px "Microsoft YaHei";right:0;text-align:center;top:0;width:80px}.ei-i-close:hover{text-decoration:none}.ei-i-dialog-box-boy .dialog-box-boy-in ul li{float:left;width:33.33%}.box-boy-in-i{display:block;overflow:hidden;position:relative;margin:30px 0 50px}.box-boy-in-i a{display:block;width:93%;border:3px solid transparent}.box-boy-in-i a .pic{display:block;max-width:100%;height:auto}.dialog-box-boy-in ul li .xz{bottom:0;display:none;height:40px;position:absolute;right:0;width:40px}.dialog-box-boy-in ul li a .name{display:block;width:100%;height:32px;background:url('+w+') repeat 0 0;font:14px/32px "Microsoft YaHei";color:#fff;text-align:center;bottom:0;left:0}.dialog-box-boy-in ul li:hover .box-boy-in-i a,.ei-i-dialog-box-boy .dialog-box-boy-in ul li .current a{border-color:#ef550f}.dialog-box-boy-in ul li:hover .box-boy-in-i .xz,.ei-i-dialog-box-boy .dialog-box-boy-in ul li .current .xz{display:block}#triangle-bottomright{border-bottom:50px solid #ef550f;border-left:50px solid transparent;height:0;right:0;bottom:0;width:0}.loging{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;line-height:200px}.loging img{width:62px;height:62px;margin-top:72px}@media (min-width:992px) and (max-width:1199px){.c-attr-jg,.c-attr-mt{margin-top:15px}.c-attr-time{display:none}}@media (min-width:768px) and (max-width:991px){.i-teacher-list ul li{width:50%}.thr-attr-ol li{float:left;width:33.3%;height:80px}.c-attr-jg,.c-attr-mt{margin-top:15px}.c-attr-time,.c-attr-undis{display:none}.buy-cin-list span{width:10%}.all-teacher-title h2{float:none;margin-bottom:15px}.t-infor-menu{float:none;width:100%}.t-infor-menu .c-tab-title{margin-bottom:10px}.t-infor-box{width:100%}.t-infor-box .ml20{margin-left:10px}}.m-play-nav{display:none!important}.tip-new-warp{position:fixed;z-index:9999;background:url('+k+") repeat 0 0;width:100%;height:100%;top:0;left:0;text-align:center}.tip-new-info{display:inline-block;border-radius:10px;overflow:hidden;vertical-align:middle;z-index:10000;margin:150px auto;position:relative;width:450px;height:553px}.tip-new-in-bg,.tip-new-in-bg img{display:block;width:100%}.tip-new-in-nr{position:absolute;top:0;left:0;z-index:10001;width:100%;height:auto}.tip-new-in-nr-top{height:230px;position:relative;width:100%}.new-tips-close{display:block;width:38px;height:38px;position:absolute;top:5px;right:5px}.new-tips-close img{display:block;width:100%;height:100%}.tip-new-in-b-txt{border:1px dashed #ff6f40;margin:20px 50px 40px;padding:20px;line-height:30px;text-align:justify;text-indent:34px}.tip-new-in-b-txt p{text-align:right}.tip-new-in-b-btn a{display:block;margin:0 50px;background:#ff662f;color:#fff;height:46px;line-height:46px;font-size:16px;text-align:center;border-radius:6px}.tip-new-in-b-btn a:hover{text-decoration:none;opacity:.9;filter:alpha(opacity=90)}",""]),e.exports=h},function(e,t,n){e.exports=n.p+"img/s-prev-btn.9bb10ab.png"},function(e,t,n){e.exports=n.p+"img/s-next-btn.8ae7e0e.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTE4MkFENjg3MzE4MTFFNTg5OEE4NDg0M0ZFODU3MDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTE4MkFENjc3MzE4MTFFNTg5OEE4NDg0M0ZFODU3MDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDUzQzEzMkI3MzAxMTFFNUJBMDVDN0M2MkE3QjA5NDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDUzQzEzMkM3MzAxMTFFNUJBMDVDN0M2MkE3QjA5NDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5p4NKEAAAAJElEQVR42mJkYGB4xkBFwMRAZTBq4KiBowaOGjhq4FAxECDAADEeAQ4STlnJAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REUzNDBBRjA3MzFGMTFFNUJEMEFGODFEQjQwQ0FEM0EiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REUzNDBBRUY3MzFGMTFFNUJEMEFGODFEQjQwQ0FEM0EiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDUzQzEzMkI3MzAxMTFFNUJBMDVDN0M2MkE3QjA5NDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDUzQzEzMkM3MzAxMTFFNUJBMDVDN0M2MkE3QjA5NDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz63+6gQAAAAJElEQVR42mJkYGCYyUBFwMRAZTBq4KiBowaOGjhq4FAxECDAAErwAMGL7MNeAAAAAElFTkSuQmCC"},function(e,t,n){e.exports=n.p+"img/kyb-tip-all-bg.6864847.png"},function(e,t,n){var r=n(4)(!1);r.push([e.i,'*{font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB",Arial,sans-serif;margin:0;padding:0}html{font-size:14px;color:#424242}table{border-collapse:collapse;border-spacing:0}ol,ul{list-style:none}dl{-webkit-margin-before:0;-webkit-margin-after:0}h2,h3,h4,h5,h6{font-size:14px}a{text-decoration:none;color:#424242}.color81 a.cur,.color81 a:hover,a:hover{color:#000}a.red{color:#ff4a56}a.red:hover{color:#950b11}textarea{resize:none}.blue{color:#00baf2}button,input,input[type=button]{outline:none;font-size:14px}button,input[type=button]{color:#fff;background-color:#00baf2;line-height:20px;border:none;padding:0 5px;cursor:pointer}button:hover,input[type=button]:hover{opacity:.9}img{border:none}body{text-align:left;background-color:#eee;color:#424242;font-size:14px;line-height:1.75;background:#fff;min-width:1230px}.red{color:#ff4a56}.green{color:#49af4f}.redb{background:#ff4a56;color:#fff}.disabled{background:#999}.del{text-decoration:line-through}.disp-n{display:none}.color42,.color42 a{color:#424242}.color81,.color81 a{color:#818181}.fb{font-weight:700}.f12{font-size:12px}.f14{font-size:14px}.f16{font-size:16px}.f18{font-size:18px}.f20{font-size:20px}.f21{font-size:21px}.f22{font-size:22px}.f24{font-size:24px}.f26{font-size:26px}input.iw60{width:60px}input.iw80{width:80px}.ml-10{margin-left:-10px}.ml-20{margin-left:-20px}.mt5{margin-top:5px}.mt10{margin-top:10px}.mt15{margin-top:15px}.mt20{margin-top:20px}.mt25{margin-top:25px}.mt30{margin-top:30px}.mt40{margin-top:40px}.mt50{margin-top:50px}.mt80{margin-top:80px}.mt100{margin-top:100px}.mb5{margin-bottom:5px}.mb10{margin-bottom:10px}.mb15{margin-bottom:15px}.mb20{margin-bottom:20px}.mb25{margin-bottom:25px}.mb30{margin-bottom:30px}.mb40{margin-bottom:40px}.mb50{margin-bottom:50px}.mb80{margin-bottom:80px}.mb100{margin-bottom:100px}.ml5{margin-left:5px}.ml10{margin-left:10px}.ml15{margin-left:15px}.ml20{margin-left:20px}.ml24{margin-left:25px}.ml30{margin-left:30px}.ml40{margin-left:40px}.ml50{margin-left:50px}.ml80{margin-left:80px}.ml100{margin-left:100px}.mr5{margin-right:5px}.mr10{margin-right:10px}.mr15{margin-right:15px}.mr20{margin-right:20px}.mr25{margin-right:25px}.mr30{margin-right:30px}.mr40{margin-right:40px}.mr50{margin-right:50px}.mr80{margin-right:80px}.mr100{margin-right:100px}.pt5{padding-top:5px}.pt10{padding-top:10px}.pt15{padding-top:15px}.pt20{padding-top:20px}.pt25{padding-top:25px}.pt30{padding-top:30px}.pt40{padding-top:40px}.pt45{padding-top:45px}.pt50{padding-top:50px}.pt80{padding-top:80px}.pt100{padding-top:100px}.pb5{padding-bottom:5px}.pb10{padding-bottom:10px}.pb15{padding-bottom:15px}.pb20{padding-bottom:20px}.pb25{padding-bottom:25px}.pb30{padding-bottom:30px}.pb40{padding-bottom:40px}.pb50{padding-bottom:50px}.pb80{padding-bottom:80px}.pb100{padding-bottom:100px}.con{padding-left:20px}.border-bom1{border-bottom:1px solid #ddd}.tl{text-align:left}.tc{text-align:center}.tr{text-align:right}.fl,.Left{float:left}.fr,.Right{float:right}.clear{clear:both;width:0;height:0;overflow:hidden}.pl30{padding-left:30px}.pr30{padding-right:30px}.pl10{padding-left:10px}.pr10{padding-right:10px}.pl20{padding-left:20px}.pr20{padding-right:20px}.clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}.clearfix{height:1%;zoom:1}* html .Clearfix,.clearfix{display:block}.clearfix2{*zoom:1}.clearfix2:after{content:"\\0020";display:block;height:0;font-size:0;line-height:0;clear:both;overflow:hidden}.mask,.Mask{width:100%;height:100%;position:fixed;background:url(https://s1.51cto.com/images/201611/95dc798763e7191d096823b51600438a1218c0.png);top:0;left:0;z-index:9999;display:none}.Page{width:1200px;margin:auto;z-index:2}.Header,.Page{position:relative}.Header{padding:50px 0 40px;height:40px;border-bottom:1px solid #eee;background:#fff;z-index:100}.Header .Logo{margin-top:0;margin-right:45px}.Header .Logo img.sublogo{margin-left:15px;margin-top:5px}.Header .Navigate{margin-left:0}.Header .Navigate li{position:relative;padding-bottom:10px;margin-bottom:-10px}.Header .Navigate li p.min_more{background:url(/edu/center/images/tips.png) no-repeat 100%;padding-right:10px;font-size:16px;cursor:default}.Header .Navigate li:hover p.min_more{background-image:url(/edu/center/images/tips2.png)}.Header .Navigate li div.min_more{position:absolute;top:50px;z-index:101;background:#fff;left:-20px;right:10px;display:none;border:1px solid #eee;border-radius:3px;line-height:36px}.Header .Navigate li:hover div.min_more{display:block;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Header .Navigate li div.min_more a{display:block;text-align:center}.Header .Navigate li{float:left;font-size:16px;line-height:1;padding-top:24px;padding-right:30px;*padding-right:25px}.Header .Search{height:22px;border:1px solid #15b1e4;border-radius:5px;background-color:#15b1e4;margin-top:20px;width:180px}.Header .Search *{height:22px;line-height:22px}.Header .Search button{background-color:transparent;border:none;color:#fff;width:50px;line-height:1;padding:0}.Header .Search input{border:none;width:130px;text-indent:5px;border-top-left-radius:4px;border-bottom-left-radius:4px;font-size:12px;padding:0}.Header3{position:relative;z-index:10000;height:50px;background:#333}.Header3 ul li{position:relative}.Header3 ul li.logo{margin-right:15px}.Header3 ul li.logo>a{padding:0}.Header3 ul li.logo .logo_pic1{display:block;width:110px;height:50px;background:url(/edu/center/images/common/layout_css_sprites2.png) -230px -10px}.Header3 ul li.logo .logo_pic2{display:block;width:110px;height:50px;background:url(/edu/center/images/common/layout_css_sprites2.png) -230px -80px}.Header3 ul li>a{padding:0 13px;line-height:50px;display:block;position:relative;z-index:4}.Header3 ul li>a:hover{opacity:1}.Header3 ul li.fl a{font-size:16px;color:#fff}.Header3 ul li.fr{font-size:12px}.Header3 ul li.fr>a{color:#ddd}.Header3.IndexHeader_old_bg ul li.fr>a{color:#999}.Header3.IndexHeader_old_bg ul li.fr a.vipslgn{color:#d32f24;padding-left:40px;position:relative}.Header3.IndexHeader_old_bg ul li.fr a.vipslgn:after{content:"";position:absolute;left:8px;top:6px;width:21px;height:19px;background:url(/edu/center/images/common/layout_css_sprites.png) no-repeat -7px -9px}.Header3 ul li.fr:hover>a{background:#fff url(/edu/center/images/sprite/css_sprites.png) -10px -135px repeat-x;background-size:100% 4px;color:#00baf2}.Header3 ul li.links{margin:0}.Header3 ul li.links>a{width:2px;height:50px}.Header3 ul li.links i.icon{width:12px;height:12px;background:url(/edu/center/images/common/layout_css_sprites.png) -85px -10px;position:absolute;left:50%;top:18px;margin-left:-6px;z-index:5}.Header3 ul li.links:hover i.icon{background:url(/edu/center/images/common/layout_css_sprites.png) -85px -42px}.Header3 ul li .More{position:absolute;background:#fff;border:1px solid #ddd;right:-1px;top:50px;padding-bottom:5px;display:none;text-align:center;min-width:100%;z-index:2}.Header3 ul li .More>a{position:relative;line-height:30px;margin:0 5px;white-space:nowrap;display:block;padding:0 20px}.Header3 ul li .More>a:hover{background:#eee}.Header3 ul li.links .More{width:1198px;padding:25px 0;overflow:hidden}.Header3 ul li.links .More dl{border-right:1px solid #e8e8e8;padding-left:60px;text-align:left;float:left;height:160px}.Header3 ul li.links .More dl.noBorder{border:none}.Header3 ul li.links .More dl dt{font-size:14px;font-weight:700;margin-bottom:10px}.Header3 ul li.links .More dl dd.th1{max-width:130px}.Header3 ul li.links .More dl dd.th2{max-width:250px}.Header3 ul li.links .More dl dd a{color:#666}.Header3 ul li.links .More dl dd a:hover{color:#00a8e9}.Header3 ul li.links .More dl p{width:125px;margin-bottom:5px;float:left}.Header3 ul li.hasMore>a{padding-right:25px}.Header3 ul li.hasMore i.icon{background-position:0 -250px;width:9px;height:6px;position:absolute;right:10px;top:22px;z-index:5}.Header3 ul li.hasMore2>a{padding-right:45px}.Header3 ul li.hasMore2 .vipSide{position:absolute!important;top:17px;right:25px;z-index:5}.Header3 ul li .empty{width:100%;position:absolute;right:-1px;top:0;height:50px;z-index:3;border:1px solid #ddd;border-top:0;border-bottom:1px solid #fff;display:none}.Header3 ul li:hover>*{display:block}.Header3 ul .myname a{max-width:65px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inline-block}.topSearch{padding-top:9px;margin-left:30px}.topSearch input{width:170px!important;border:1px solid #e6e6e7;height:20px;background-color:#fff;padding:5px 25px 5px 10px}.topSearch .in_foucs{border:1px solid #21b8ff}.topSearch .icon.search{width:14px;height:14px;position:absolute;z-index:2;top:17px;right:13px;cursor:pointer;padding:0;background:url(/edu/center/images/common/layout_css_sprites.png) no-repeat -51px -10px}.topSearch .icon.search2{background:url(/edu/center/images/common/layout_css_sprites.png) no-repeat -51px -44px}.Header3.white{background:#fff url(/edu/center/images/sprite/css_sprites.png) -10px -135px repeat-x;background-size:100% 4px}.Header3.white ul li.fl a{font-size:16px;color:#333}.Header3.white ul li.fl:hover>a{background:#00baf2;color:#fff}.Header3.white ul li.logo:hover a{background:none}.Header3.white ul li.fr>a{color:#999}.Header3.white ul li.fr a.vipslgn{color:#d32f24;padding-left:25px;position:relative}.Header3.white ul li.fr a.vipslgn:after{content:"";width:21px;height:19px;background:url(/edu/center/images/common/layout_css_sprites.png) -10px -10px;position:absolute;left:0;top:15px}.Header3.Fix{position:fixed;left:0;top:0;width:100%;z-index:1000;display:none}.ALLCourse{position:absolute;background:#fff;border:2px solid #00baf2;top:50px;right:0;display:none}.ALLCourse .List{width:240px;background:#00baf2;position:relative}.ALLCourse .List .item{padding:0 20px 10px}.ALLCourse .List .item:hover{background:#fff;border:none;margin-right:-2px}.Header3 ul li .ALLCourse .List .item h2{overflow:hidden;border-top:1px dashed #fff;border-top:1px dashed hsla(0,0%,100%,.5);padding-top:11px;margin-top:-1px}.Header3 ul li .ALLCourse .List .item:first-child h2{border:none;margin-top:0}.Header3 ul li .ALLCourse .List .item h2 *{float:left}.Header3 ul li .ALLCourse .List .item h2 a{color:#fff;font-weight:400;line-height:28px;font-size:14px}.ALLCourse .List .item h2 span{width:0;height:12px;padding-left:1px;overflow:hidden;background:#87d7f4;margin-top:8px}.ALLCourse .List .item h2 span,.Header3 ul li .ALLCourse .List .item p a{color:#87d7f4;font-size:12px}.Header3 ul li .ALLCourse .List .item p{font-size:12px}.Header3 ul li .ALLCourse .List .item a{margin:0 4px}.Header3 ul li .ALLCourse .List .item:hover a{color:#666;position:static}.Header3 ul li .ALLCourse .List .item:hover a:hover{color:#00baf2}.ALLCourse .List .item .more{position:absolute;width:660px;height:100%;left:242px;top:-2px;background:#fff;border:2px solid #00baf2;border-left:0;display:none}.ALLCourse .List .item:hover .more{display:block}.ALLCourse .List .item .more .main{padding:20px}.ALLCourse .List .item .more .main dl{margin-bottom:20px;font-size:12px;width:420px}.ALLCourse .List .item .more .main dl dt{font-weight:700;margin-bottom:10px}.ALLCourse .List .item .more .main dl dd{overflow:hidden}.ALLCourse .List .item .more .main dl dd a{margin:0}.ALLCourse .List .item:hover .more img{position:absolute;right:0;bottom:0}.Content{padding:20px 0}.Footer{background-color:#fafafa;padding-bottom:40px;border-top:1px solid #eee}.Footer .Links{overflow:hidden;padding:15px 0;line-height:40px;border-bottom:1px solid #fff}.Footer .Links dt{float:left;width:125px;font-size:16px}.Footer .Links dd{float:left;width:1075px}.Footer .Links dd a{margin-right:30px;white-space:nowrap}.Footer>.Page{padding-top:55px}.Footer .QRcode{margin:0 50px;width:280px;float:left}.Footer .QRcode caption{padding-bottom:30px}.Footer .Info{margin-top:70px;line-height:1}.Footer .Info .Map{margin-bottom:45px;font-size:14px}.Footer .Info .Map a,.Footer .Info .Map span{margin-right:15px}.Footer .Info .Map span{border-left:1px solid #aaa}.Footer .Info .Call{font-size:22px;font-weight:700;padding-left:30px;background:url(/edu/center/images/call.png) no-repeat left 1px;margin-right:30px}.Footer .Info .callTime{margin-top:6px}.Footer .Info .copy{color:#818181;margin-top:15px;font-size:14px;text-align:left}.Footer .Info .copy a{color:#818181}.Footer .Info .copy a:hover{color:#000}.footer_bg{background:#fafafa;line-height:1.75}.footer{width:1060px;padding:50px 50px 30px;margin:0 auto;border-top:1px solid #f5f5f5}.footer_list{float:left;width:200px}.footer h2{display:inline-block;font-size:18px;color:#333;margin-right:10px}.footer h3{font-size:34px;color:#333}.footer_list a{font-size:14px;color:#666;line-height:30px}.footer_company{text-align:center;border-top:1px solid #fff;padding-bottom:10px}.footer_company .bottom_logo_pic{display:block;width:200px;height:44px;background:url(/edu/center/images/common/layout_css_sprites2.png) -10px -10px;margin:auto auto 20px;transform:scale(.5)}.footer_company div,.footer_company div a{font-size:14px;color:#999;line-height:1}.sbox_more a{display:inline-block;width:46px;height:46px;margin-right:30px}.sbox_more a.sina{background:url(/edu/center/images/common/layout_css_sprites2.png) -112px -74px}.sbox_more a.qq{background:url(/edu/center/images/common/layout_css_sprites2.png) -10px -280px}.sbox_more a.wechat{background:url(/edu/center/images/common/layout_css_sprites2.png) -220px -174px}.sbox_more a.sina:hover{background:url(/edu/center/images/common/layout_css_sprites2.png) -154px -174px}.sbox_more a.qq:hover{background:url(/edu/center/images/common/layout_css_sprites2.png) -76px -280px}.wechat_bg{position:relative}.wechat_bg:hover a.wechat{background:url(/edu/center/images/common/layout_css_sprites2.png) -286px -174px}.wechat_bg:hover .wechat_box{display:block}.wechat_box{display:none;position:absolute;top:0;left:56px;background:#fff;padding:10px;box-shadow:0 0 10px #ccc}.wechat_box p{text-align:center;margin-top:5px;font-size:14px;color:#666}.pagination{margin:30px auto;text-align:right;font-size:14px}.pagination li{display:inline-block;margin:0 2px;height:34px;line-height:34px;overflow:hidden;background:#fff;border:1px solid #e0e0e0;*display:inline}.pagination li.disabled,.pagination li.disabled:hover{border-color:#eee;padding:0 10px;cursor:default}.pagination li.active,.pagination li:hover{border-color:#00baf2}.pagination li:last-child.last.disabled{border-color:#fff;font-size:14px;color:#818181}.pagination li a{display:block;padding:0 14px;background:#f5f5f5;text-align:center}.pagination li.active a,.pagination li a:hover{background:#00baf2;color:#fff}.pagination li:last-child.last.noLink{border-color:transparent;margin:0 0 0 10px;background:none}.Advice{position:fixed;width:588px;height:392px;padding:7px 6px;background:#fff url(/edu/center/images/zxtzbk.png) no-repeat;top:50%;left:50%;margin-top:-203px;margin-left:-300px;z-index:50001}.Advice .Main{font-size:12px;padding:4px 10px 9px 20px;position:relative}.Advice .Main h3{font-size:16px;color:#c01a20;font-weight:700;margin-top:10px}.Advice .Main a{font-size:14px;color:#0c72f0}.Advice .Main .close{position:absolute;top:0;right:2px;width:40px;height:40px;border-radius:0;background:#c01a20 url(/edu/center/images/close.png) no-repeat 50%;font-family:Arial;padding:0;text-align:center;line-height:1}.Advice .Main #bizQQ_WPA{position:absolute;right:0;bottom:-20px;width:152px;height:49px;background:url(https://s1.51cto.com/images/201612/c14bf7e41480992525e379f0ee3f2482adfd03.png) no-repeat;padding:0;border-radius:0}.Notices{border:1px solid #e5e5b5;background-color:#ffffca;position:relative;line-height:30px;padding:5px 10px}.vipBig{width:26px;height:26px;background:url(/edu/center/images/vip.png) no-repeat left -114px}.vipBig,.vipMedium{display:inline-block!important;cursor:pointer}.vipMedium{width:22px;height:22px;background:url(/edu/center/images/vip.png) no-repeat left -240px}.vipSmall{width:20px;height:20px;background:url(/edu/center/images/vip.png) no-repeat 0 100%}.vipSide,.vipSmall{display:inline-block!important;cursor:pointer}.vipSide{position:relative!important;width:15px!important;height:15px!important;background:url(/edu/center/images/vip.png) no-repeat 0 0}.vipBig_gray{width:26px;height:26px;background:url(/edu/center/images/vip_26.png) no-repeat}.vipBig_gray,.vipMedium_gray{display:inline-block!important;cursor:pointer}.vipMedium_gray{width:22px;height:22px;background:url(/edu/center/images/vip_22.png) no-repeat}.vipSmall_gray{width:20px;height:20px;background:url(/edu/center/images/vip_20.png) no-repeat}.vipSide_gray,.vipSmall_gray{display:inline-block!important;cursor:pointer}.vipSide_gray{position:relative!important;width:15px!important;height:15px!important;background:url(/edu/center/images/vip_15.png) no-repeat}.vipSide_gray:hover span{display:block}.vipSide_gray span{position:absolute;left:-58px;top:20px;display:inline-block;width:128px;height:32px;text-align:center;line-height:32px;background:#faf7e6;border:1px solid #ecb7a5;color:#666;font-size:12px;padding:3px 5px;display:none}.vipSide_gray span i{position:absolute;left:58px;top:-6px;display:inline-block;width:12px;height:7px;background:url(/edu/center/images/hidearro.png) no-repeat}.vipSide_gray span b{display:inline-block;font-style:normal;font-weight:400;font-size:12px;color:#f60}i.icon{background:url(/edu/center/images/icons.png?v=1) no-repeat}a.btn{display:block;background-color:#00baf2;color:#fff;line-height:24px;padding:0 10px}a.btn:hover{opacity:.8}div.loading{padding-top:88px;text-align:center;background:url(/edu/center/images/loading.gif) no-repeat top;color:#999}div.Empty{text-align:center;line-height:40px;color:#666}div.Empty p,div.Empty td{height:100px;padding-left:95px!important;background:url(/edu/center/images/empty.png) no-repeat 0;font-size:16px}div.Empty p{display:inline-block;line-height:100px;_display:inline}div.Empty table{margin:auto;width:auto;border:none}div.Empty td{line-height:1.5;text-align:left;border:none}div.Empty span{color:#818181;font-size:12px}div.Empty a{border:1px solid #00abf2;padding:0 15px;display:block;color:#00baf2;font-size:14px;float:left;line-height:2;margin-top:5px}.stars,.stars02{overflow:hidden}.stars i.star{width:22px;height:20px;float:left;background-position:-350px -250px;margin-right:3px}.stars i.star.full{background-position:-350px -300px}.stars.set i.star{cursor:pointer}.stars.small i.star{width:18px;height:16px;background-position:-350px -350px}.stars.small i.star.full{background-position:-350px -400px}.stars02 i.star{width:12px;height:12px;background:url(/edu/center/images/common/layout_css_sprites.png) no-repeat -117px -10px;float:left;display:block;margin-right:3px}.stars02 i.star.full{background:url(/edu/center/images/common/layout_css_sprites.png) no-repeat -117px -42px}#ClCache{display:none}.edu-ad img{display:block}.fixpop{display:none}.fixpop,.fixpop .bg{position:fixed;left:0;bottom:0;width:100%;height:150px;z-index:99}.fixpop .bg{background:#353c47;opacity:.9;filter:alpha(opacity=90)}.fixpop .Page{z-index:999}.fixpop .Page img{display:block;height:100%}.fixpop .Page .a_1s{float:left;padding:15px 0 0 83px;height:113px}.fixpop .Page .a_2s{float:left;width:210px;height:56px;line-height:56px;text-align:center;background:#ffe535;border-radius:56px;color:#f3551b;font-size:22px;display:inline-block;margin:44px 0 0 30px}.fixpop .Page .btn_close{float:left;margin-top:10px;width:20px;height:20px;margin-left:50px;background:url(/edu/center/images/task/icon7.png) no-repeat top;cursor:pointer}#exit_newuser{bottom:100%;position:absolute}.qqbm_bs_box{position:fixed;right:10px;top:50%;margin-top:-140px;width:58px;z-index:999;cursor:pointer;opacity:.8;filter:opacity(80)}.qqbm_bs_box>*{display:block;margin-top:2px;position:relative}.qqbm_bs_box img{display:block;width:100%}.qqbm_bs_box img.mouseIn{position:absolute;left:0;top:0;display:none}@media screen and (min-width:1024px) and (max-width:1440px){.qqbm_bs_box{width:50px}.fixpop .Page .a_1s{height:100px;margin-top:12px;padding-left:50px}.fixpop .Page .a_2s{height:40px;line-height:40px;width:180px;margin-top:58px;font-size:18px;font-weight:700}}@media screen and (max-width:1024px){.qqbm_bs_box{width:48px}.fixpop .Page .a_1s{height:90px;margin-top:17px;padding-left:30px}.fixpop .Page .a_2s{height:40px;line-height:40px;width:180px;margin-top:58px;font-size:18px;font-weight:700}}.whitebox{background:#fff;border-radius:5px}.whitebox:hover{box-shadow:0 0 10px #ccc}.exit_slide{position:fixed;z-index:999;right:40px;top:50%;display:inline-block;line-height:1}.exit_slide .after,.exit_slide .pre{height:50px;width:50px;display:inline-block;text-align:center}.exit_slide .after,.exit_slide .cur .pre{display:none}.exit_slide .cur .after,.exit_slide .pre{display:block}.exit_slide .customer{border-radius:5px;overflow:hidden;cursor:pointer}.exit_slide .customer .pre{background:url(/edu/center/images/common/layout_css_sprites2.png) -82px -174px;height:36px;color:#1ac6fe;line-height:16px;padding-top:50px}.exit_slide .customer .after{background:url(/edu/center/images/common/layout_css_sprites2.png) -10px -174px;height:36px;color:#fff;line-height:16px;padding-top:50px}.exit_slide .bots{border-radius:5px;background:#fff;width:50px;margin-top:12px;box-shadow:0 0 10px #f5f2f2}.exit_slide .bots .item{height:50px;cursor:pointer;position:relative;transition:background .3s}.exit_slide .bots .item_app .pre{width:39px;height:37px;position:absolute;top:8px;left:7px;background:url(/edu/center/images/common/layout_css_sprites3.png) no-repeat -10px -101px}.exit_slide .bots .item_app .after,.exit_slide .bots .item_top .after{padding-top:12px;height:38px;line-height:16px}.exit_slide .bots .item_top .pre{width:39px;height:24px;background:url(/edu/center/images/common/layout_css_sprites3.png) -172px -10px;position:absolute;top:14px;left:7px}.exit_slide .app_code{position:absolute;left:-150px;top:0;padding:15px;box-shadow:0 0 10px #f5f2f2}.exit_slide .app_code p{line-height:18px;font-size:12px;text-align:center}.exit_slide .bots .line{width:24px;height:2px;background:#f6f6f6;margin:0 auto}.trans_scale{transform:scale(0);-webkit-transform:scale(0);-ms-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform-origin:100% 0;-webkit-transform-origin:100% 0;-ms-transform-origin:100% 0;-moz-transform-origin:100% 0;-o-transform-origin:100% 0;transition:transform .3s ease,opacity .3s ease;-webkit-transition:all .3s ease;-ms-transition:all ease .3s;-moz-transition:all ease .3s;-o-transition:all ease .3s;display:none\\0;*display:none}.trans_scale_h{display:block;transform:scale(1);-webkit-transform:scale(1);-ms-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);opacity:1;*display:block}.circle{width:8px;height:8px;display:inline-block;background-color:#ff5400;border-radius:50%}.circle-pos1{position:absolute;right:19px;top:5px}.circle-pos2{position:absolute;right:11px;top:4px}.circle-pos3{position:absolute;right:19px;top:12px}.circle-seckill-pos1{position:absolute;right:3px;top:-5px}.circle-seckill-pos2{position:absolute;right:7px;top:11px}.circle-seckill-pos3{position:absolute;right:-9px;top:5px}.circle-hot-icon{position:absolute;right:5px;top:8px;width:10px;height:13px;background:url(/edu/center/images/courselist/list_css_sprites.png) -212px -10px}#suspension_box{width:119px;height:340px;position:fixed;right:1%;top:13%;z-index:99}#sus_content{width:94px;height:185px;top:102px;left:12px}#sus_content,#sus_top{position:absolute;cursor:pointer}#sus_top{width:58px;height:20px;bottom:5.5%;left:24%}.sus_list{width:98%;height:31px;line-height:31px;text-align:center;font-size:16px;color:#303030;border:1px solid #a0a0a0;margin-bottom:5px}.sus_list.active,.sus_list:hover{background-color:#df4d51;color:#fff;width:100%;height:33px;line-height:33px;border:none}.upopbg{width:100%;height:100%;left:0;top:0;z-index:99999;background:url(/edu/center/images/bg70.png) repeat}.upopbg,.upopbox_mid{position:fixed;display:none}.upopbox_mid{width:500px;height:500px;margin:-250px 0 0 -250px;z-index:9999999;top:50%;left:50%}.upopbox_mid .ins{position:relative}.upopbox_mid .ins span{display:block;width:20px;height:20px;text-align:center;position:absolute;right:-10px;top:-10px;z-index:999;cursor:pointer}.upopbox_mid .ins span.offbtn-center{width:19px;height:19px;background:url(/edu/center/images/common/layout_css_sprites2.png) -178px -74px}.upopbox_bot{width:100%;height:100px;position:fixed;left:0;bottom:0;z-index:99999;background:url(/edu/center/images/bg70.png) repeat;display:none}.upopbox_bot .ins{position:relative}.upopbox_bot .ins span.offbtn{display:block;width:20px;height:20px;text-align:center;position:absolute;right:-23px;top:3px;z-index:999;cursor:pointer}.upopbox_bot .ins span.offbtn-bottom{width:19px;height:19px;background:url(/edu/center/images/common/layout_css_sprites2.png) -178px -74px;transform:scale(.8)}.upopbox_bot .ins a{height:100px;position:relative;display:block}.upopbox_bot .ins .ctxt{top:20px}.upopbox_bot .ins .botTimer,.upopbox_bot .ins .ctxt{position:absolute;left:690px;z-index:999;font-size:16px;color:#fff}.upopbox_bot .ins .botTimer{top:48px;font-weight:400}.upopbox_bot .ins .botTimer span{border-radius:3px;display:inline-block;height:30px;line-height:30px;width:30px;font-size:20px;background:#413b7e;text-align:center}.upopbox_bot .ins .botTimer b{padding:0 5px;font-weight:400;font-size:14px}.eduadvtop .Page{position:relative}.eduadvtop .Page .ctxt{position:absolute;left:735px;top:15px;z-index:999;font-size:18px;color:#333}.eduadvtop .Page a{height:60px;position:relative;display:block}',""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,".act_tab{display:inline-block;position:absolute;left:0;top:0;padding:0!important;z-index:999}.act_tab span{display:block!important;width:78px;text-align:center}.act_tab .act_tab_l{color:#df3737;background:#fff}.act_tab .act_tab_l,.act_tab .act_tab_r{height:16px;line-height:16px;font-size:14px}.act_tab .act_tab_r{color:#fff;background:#df3737;border-top:2px solid #df3737}.act_tab .double-eleven{background-color:#f54771;width:54px;height:20px;line-height:20px;font-size:12px;color:#fff;border-radius:3px 0 0 0}",""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,'.bottom_rec{position:relative;width:850px;height:390px;margin-top:30px;margin-left:20px}.bottom_rec .til{position:absolute;width:100%;height:40px;line-height:40px;border-bottom:1px solid #ccc}.detail_rec{position:absolute;width:100%;height:360px;top:60px}.detail_rec .swiper-container1{position:relative;width:100%;height:100%;padding:15px 0;overflow:hidden}.detail_rec .swiper-slide{width:100%;height:100%}.detail_rec .course_item,.detail_rec .min_item,.detail_rec .special_item{position:relative;width:198px;height:314px;margin:0 6px;float:left}.detail_rec .special_item:hover{box-shadow:0 0 4px #bbb}.detail_rec .course_item .item_pic,.detail_rec .special_item .item_pic{position:relative;width:198px;height:121px;border-radius:3px;overflow:hidden}.detail_rec .special_item .item_type{position:absolute;width:35px;height:20px;background:#e93460;color:#fff;text-align:center;border:2px solid #fff;font-size:12px;border-radius:12px;top:-8px;left:-8px;padding:0 3px;z-index:10}.detail_rec .course_item .item_pic img,.detail_rec .special_item .item_pic img{width:100%;height:100%}.detail_rec .course_item .item_name,.detail_rec .special_item .item_name{position:relative;width:100%;box-sizing:border-box;padding:12px 12px 0;height:44px;line-height:16px;font-size:14px;color:#212432;overflow:hidden}.detail_rec .course_item .item_info,.detail_rec .special_item .item_info{position:relative;width:100%;box-sizing:border-box;padding:0 12px;height:12px;line-height:12px;font-size:12px;margin-top:19px;color:#777986;overflow:hidden}.detail_rec .course_item .item_info .item_course_num,.detail_rec .special_item .item_info .item_course_num{float:left}.detail_rec .special_item .item_info .item_study_num{float:right;margin-left:10px}.detail_rec .special_item .item_info .item_study_num:before{content:"";background:url(/edu/center/images/sprite/css_sprites.png) -158px -83px no-repeat;vertical-align:middle;display:inline-block;width:8px;height:10px;margin-top:-3px;margin-right:3px}.detail_rec .course_item:hover,.detail_rec .min_item:hover{box-shadow:0 0 4px #bbb}.detail_rec .min_item .item_pic{position:relative;width:198px;height:121px;border-radius:3px;overflow:hidden}.detail_rec .min_item .item_type{position:absolute;width:45px;height:20px;background:#f48653;color:#fff;text-align:center;border:2px solid #fff;font-size:12px;border-radius:12px;top:-8px;left:-8px;padding:0 3px;z-index:10}.detail_rec .min_item .item_pic img{width:100%;height:100%}.detail_rec .min_item .item_name{padding:12px 12px 0;height:44px;line-height:16px;font-size:14px;color:#212432}.detail_rec .min_item .item_info,.detail_rec .min_item .item_name{position:relative;width:100%;box-sizing:border-box;overflow:hidden}.detail_rec .min_item .item_info{padding:0 12px;height:12px;line-height:12px;font-size:12px;margin-top:19px;color:#777986}.detail_rec .min_item .item_info .item_course_num{float:left}.detail_rec .min_item .item_info .item_study_num{float:left;margin-left:10px}.detail_rec .min_item .item_info .item_score{float:right;margin-right:10px}.detail_rec .min_item .item_info .item_study_num:before{content:"";background:url(/edu/center/images/sprite/css_sprites.png) -158px -83px no-repeat;vertical-align:middle;display:inline-block;width:8px;height:10px;margin-top:-3px;margin-right:3px}.detail_rec .min_item .item_intro{height:24px;color:#777986;margin-top:12px;overflow:hidden}.detail_rec .min_item .item_btm,.detail_rec .min_item .item_intro{position:relative;width:100%;line-height:12px;font-size:12px;box-sizing:border-box;padding:0 12px}.detail_rec .min_item .item_btm{height:12px;color:#212432;margin-top:32px}.detail_rec .min_item .item_btm .item_prise{position:absolute;width:100%;font-size:14px}.detail_rec .min_item .item_btm .item_prise .item_new_prise{float:left}.detail_rec .min_item .item_btm .item_prise .item_old_prise{float:left;margin-left:5px;font-size:10px;line-height:14px;color:#777986}.detail_rec .min_item .item_btm .item_prise .item_cut_prise{position:absolute;left:0;top:15px;font-size:10px;color:#ff5a00;background:#f8dbcc;padding:1px;border-radius:2px}.detail_rec .min_item .item_btm .item_btn_buynow{float:right;z-index:10;cursor:pointer;position:relative;margin-right:10px;color:#00baf2}._order .min_item{width:224px;height:338px}._order .detail_rec .min_item .item_pic{width:224px;height:134px}.detail_rec .course_item .item_info .item_study_num{float:left;margin-left:10px}.detail_rec .course_item .item_info .item_study_num:before{content:"";background:url(/edu/center/images/sprite/css_sprites.png) -158px -83px no-repeat;vertical-align:middle;display:inline-block;width:8px;height:10px;margin-top:-3px;margin-right:3px}.detail_rec .course_item .item_info .item_course_score{float:right}.detail_rec .course_item .item_intro,.detail_rec .special_item .item_intro{position:relative;width:100%;height:29px;line-height:16px;font-size:12px;color:#777986;box-sizing:border-box;margin-top:12px;padding:0 12px;overflow:hidden}.detail_rec .course_item .item_btm,.detail_rec .special_item .item_btm{position:relative;width:100%;height:12px;line-height:12px;color:#212432;font-size:12px;box-sizing:border-box;padding:0 4px;margin-top:30px}.detail_rec .course_item .item_btm .item_prise,.detail_rec .special_item .item_btm .item_prise{position:absolute;width:100%;font-size:14px}.detail_rec .course_item .item_btm .item_prise .item_new_prise,.detail_rec .special_item .item_btm .item_prise .item_new_prise{float:left}.detail_rec .course_item .item_btm .item_prise .item_old_prise,.detail_rec .special_item .item_btm .item_prise .item_old_prise{float:left;margin-left:5px;font-size:10px;line-height:14px;color:#777986}.detail_rec .special_item .item_btm .item_prise .item_cut_prise{position:absolute;left:0;top:15px;font-size:10px;color:#ff5a00;background:#f8dbcc;padding:1px;border-radius:2px}.detail_rec .course_item .item_btm .item_btn_freesee,.detail_rec .special_item .item_btm .item_btn_buynow{float:right;z-index:10;cursor:pointer;position:relative}.bottom_rec .item_old_prise .v_line{position:relative;width:100%;height:1px;background:#777986;top:-7px}._order{position:relative;width:1200px;height:416px;margin:-70px auto 20px}._order .course_item,._order .special_item{width:224px;height:338px}.btn_next{right:-10px;background:url(/edu/center/images/sprite/css_sprites.png) -130px -10px no-repeat}.btn_next,.btn_prev{position:absolute;width:39px;height:39px;top:55%;margin-top:-50px;z-index:10;cursor:pointer}.btn_prev{left:-20px;background:url(/edu/center/images/sprite/css_sprites.png) -71px -10px no-repeat;display:block}.btn_next:hover{background:url(/edu/center/images/car_rec/i_r1.png) 0 0 no-repeat}.btn_prev:hover{background:url(/edu/center/images/car_rec/i_l1.png) 0 0 no-repeat}._order .detail_rec .course_item .item_pic,._order .detail_rec .special_item .item_pic{width:224px;height:134px}',""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,".SelectDL{border:1px solid #ddd;height:30px;background:#fff;cursor:default;text-indent:4px;position:relative}.SelectDL.cur,.SelectDL:hover{box-shadow:0 0 3px #00baf2}.SelectDL dt{padding-right:30px;background:url(/edu/center/images/tips.png) no-repeat 95%;color:#666}.SelectDL dt.disabled{background-color:#e3e3e3;cursor:no-drop}.SelectDL-icon{background:url(/edu/center/images/tips.png) no-repeat 95%!important}.SelectDL dd li,.SelectDL dt p{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;word-wrap:normal;text-align:center}.SelectDL dd{position:absolute;left:-1px;top:30px;background:#fff;border:1px solid #ddd;width:100%;display:none;overflow:hidden;z-index:100;margin-top:-1px}.SelectDL dd ul{max-height:240px;padding:5px 10px}.SelectDL dd ul li:hover{background:#f1f1f1}.SelectDL dd ul li.disabled,.SelectDL dd ul li.disabled:hover{background:#ccc}.SelectDL i.icon.arrow_down{background-position:0 -150px;width:8px;height:5px;position:absolute;right:10px;top:13px}",""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,'.Cart .Title,.Confirm .Title{padding:30px}.Cart .Title h1,.Confirm .Title h1{line-height:30px}.GoodList{text-align:center;margin-bottom:80px;width:100%}.Cart .GoodList{margin-bottom:30px}.GoodList tr.good:hover{background:#f6f6f6}.GoodList th{background:#f5f5f5;height:35px;font-weight:400}.GoodList td{border-bottom:1px solid #ddd}.GoodList td.Title{border:none;padding:45px 0 0}.GoodList td.Title p{background:url(/edu/center/images/disc_line.png) no-repeat 50%}.GoodList .name{padding-right:200px}.GoodList td.name{text-align:left;padding:20px 200px 20px 30px}.GoodList td.name img{width:125px;height:90px;display:block;float:left}.GoodList td.name .goodInfo{margin-left:150px}.GoodList td.name .goodInfo a{display:block;margin-bottom:20px}.GoodList td.name .goodInfo .onlyMobile{padding:5px 10px;border-radius:4px;line-height:22px}.GoodList .actions{width:100px;padding-right:50px}.GoodList .price,.GoodList .priceNew{width:200px}.GoodList td.actions,.GoodList td.price,.GoodList td.priceNew{vertical-align:top;padding:20px 0}.GoodList td.priceNew strong,.GoodList td.price strong{font-size:16px}.GoodList td.price p{margin-bottom:10px}.GoodList td.price .discName{background:#fff5f5;border:1px solid #c01920;padding:3px 5px;border-radius:3px}.GoodList td.actions{text-align:left}.GoodList td.actions p{cursor:pointer}.Finish .Main div.fl p:hover,.GoodList td.actions p:hover{color:#c01920}.GoodList td.teacher{text-align:left;line-height:1;padding:30px 0 20px 30px}.GoodList td.First{border-left:1px solid #ddd}.GoodList td.Last{border-right:1px solid #ddd}.GoodList td.Billing{padding:30px;background-color:#f5f5f5;border-right:1px solid #f5f5f5}.GoodList td.Billing input{border-radius:3px;border:1px solid #ddd;height:20px;margin:0 5px}.GoodList td.Billing .discount{margin-bottom:15px;font-size:12px;line-height:22px}.Finish{margin-bottom:150px}.Cart .Finish{margin-bottom:125px}.Finish .Main{width:968px;border:1px solid #ddd;height:68px;line-height:68px;padding:0 30px}.Finish .Main div.fl{padding-top:0}.Finish .Main div.fl p{padding:0 20px;border-right:1px solid #ddd;line-height:20px;cursor:pointer;margin-top:24px}.Finish>button{width:170px;height:70px;line-height:1;font-size:24px;border-radius:0}.Finish>button.disabled{background-color:#999}.Finish .check{margin-top:-40px;line-height:20px;right:100px}.Finish .check input{display:none}.Finish .check p{padding-left:20px;background:url(/edu/center/images/check.png) no-repeat 0}.Finish .check p.on{background-image:url(/edu/center/images/checked.png)}.Finish .Main div.fl p.checkbox{background-position:0;padding-left:30px}.isNuLL{height:200px;line-height:200px;border-top:1px solid #ddd}.lastTips{text-align:right;padding-right:200px;font-size:12px;color:#818181;margin-top:10px}.Finish .checkbox,.GoodList td.checkbox,.GoodList td.checkboxOverTime,.GoodList th.checkbox{background-image:url(/edu/center/images/check.png);background-repeat:no-repeat;background-position:30px;padding-left:60px;text-align:left;cursor:default}.Finish .checkbox.on,.GoodList td.checkbox.on,.GoodList th.checkbox.on{background-image:url(/edu/center/images/checked.png)}.GoodList .checkbox.teacher{background-position:30px 29px}.checkbox input[type=checkbox],.checkboxOverTime input[type=checkbox]{display:none}.Classes dt{padding:0 10px;border-bottom:2px solid #ddd;height:42px;overflow:hidden}.Classes dt p{float:left;font-size:18px;padding:10px;margin-right:20px;cursor:pointer}.Classes dt p.cur,.Classes dt p:hover{border-bottom:4px solid #c01920;color:#c01920;padding-bottom:6px}.Classes dd ul{display:none;overflow:hidden;margin:0 -10px}.Classes dd ul.cur{display:block}.Classes dd ul li{float:left;margin:25px 10px;width:222px;border:1px solid #ddd}.Classes dd ul li .pic{height:161px;margin:-1px;position:relative}.Classes dd ul li .pic img{display:block;width:100%;height:100%}.Classes dd ul li .pic p{position:absolute;right:0;bottom:0;font-size:12px;color:#fff;left:0;padding:5px;background:url(/edu/center/images/bg70.png)}.Classes dd ul li .info{padding:10px}.Classes dd ul li .info p.tit{margin-bottom:20px;line-height:22px;height:44px;overflow:hidden}.Classes dd ul .weijob .pic{height:161px;margin:-1px;position:relative}.Classes dd ul .weijob .pic img{display:block;width:100%;height:100%}.Classes dd ul .weijob .pic p{position:absolute;right:0;bottom:0;font-size:12px;color:#fff;left:0;padding:5px;background:url(/edu/center/images/bg70.png)}.Classes dd ul .weijob .info{padding:10px}.Classes dd ul .weijob .info p.tit{margin-bottom:20px;line-height:22px;height:44px;overflow:hidden;color:#777986}.Classes dd ul .weijob .info .lb{color:#777986}.Classes dd ul .weijob .info .lb .lesson{float:left;margin-right:18px}.Classes dd ul .weijob .info .lb .personNum{float:left}.Classes dd ul .weijob .info .lb .personNum:before{content:"";background-image:url(/edu/center/images/car_rec/i_per.png);vertical-align:middle;display:inline-block;background-size:8px 10px;width:8px;height:10px;margin-top:-3px;margin-right:3px}.Classes dd ul .weijob .info .money{color:#777986}.Confirm .SelectDL{height:20px;line-height:20px;min-width:220px;text-align:left;border-radius:3px;margin-right:20px}.Confirm .SelectDL dd{top:20px}.Confirm .SelectDL dd li span,.Confirm .SelectDL dt p span{color:#c01920}.Pack{border:1px solid #ddd;padding:20px 30px;margin-bottom:80px}.Pack .Main{padding-bottom:20px;border-bottom:1px solid #ddd}.Pack .Main img{width:125px;height:90px}.Pack .Main .info{margin-left:150px}.Pack .Main .info h2{font-size:16px;font-weight:400;margin-bottom:15px}.Pack .Main .info p{line-height:26px}.packItemList{padding:20px 0}.packItemList li{overflow:hidden;line-height:32px}.packItemList li .title{width:750px;float:left;padding-left:20px;background:url(/edu/center/images/dot.png) no-repeat 5px}.packItemList li span{float:left}',""]),e.exports=r},function(e,t,n){var r=n(4)(!1);r.push([e.i,".swiper-container{margin:0 auto;position:relative;overflow:hidden;z-index:1}.swiper-container-no-flexbox .swiper-slide{float:left}.swiper-container-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-container-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-container-multirow>.swiper-wrapper{-webkit-box-lines:multiple;-moz-box-lines:multiple;flex-wrap:wrap}.swiper-container-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-slide{-webkit-flex-shrink:0;-ms-flex:0 0 auto;flex-shrink:0;width:100%;height:100%;position:relative}.swiper-container-autoheight,.swiper-container-autoheight .swiper-slide{height:auto}.swiper-container-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-container .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-wp8-horizontal{touch-action:pan-y}.swiper-wp8-vertical{touch-action:pan-x}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:27px;height:44px;margin-top:-22px;z-index:10;cursor:pointer;background-size:27px 44px;background-position:50%;background-repeat:no-repeat}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-prev,.swiper-container-rtl .swiper-button-next{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 44'%3E%3Cpath d='M0 22L22 0l2.1 2.1L4.2 22l19.9 19.9L22 44 0 22z' fill='%23007aff'/%3E%3C/svg%3E\");left:10px;right:auto}.swiper-button-prev.swiper-button-black,.swiper-container-rtl .swiper-button-next.swiper-button-black{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 44'%3E%3Cpath d='M0 22L22 0l2.1 2.1L4.2 22l19.9 19.9L22 44 0 22z'/%3E%3C/svg%3E\")}.swiper-button-prev.swiper-button-white,.swiper-container-rtl .swiper-button-next.swiper-button-white{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 44'%3E%3Cpath d='M0 22L22 0l2.1 2.1L4.2 22l19.9 19.9L22 44 0 22z' fill='%23fff'/%3E%3C/svg%3E\")}.swiper-button-next,.swiper-container-rtl .swiper-button-prev{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 44'%3E%3Cpath d='M27 22L5 44l-2.1-2.1L22.8 22 2.9 2.1 5 0l22 22z' fill='%23007aff'/%3E%3C/svg%3E\");right:10px;left:auto}.swiper-button-next.swiper-button-black,.swiper-container-rtl .swiper-button-prev.swiper-button-black{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 44'%3E%3Cpath d='M27 22L5 44l-2.1-2.1L22.8 22 2.9 2.1 5 0l22 22z'/%3E%3C/svg%3E\")}.swiper-button-next.swiper-button-white,.swiper-container-rtl .swiper-button-prev.swiper-button-white{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 44'%3E%3Cpath d='M27 22L5 44l-2.1-2.1L22.8 22 2.9 2.1 5 0l22 22z' fill='%23fff'/%3E%3C/svg%3E\")}.swiper-pagination{position:absolute;text-align:center;transition:.3s;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-container-horizontal>.swiper-pagination-bullets,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullet{width:8px;height:8px;display:inline-block;border-radius:100%;background:#000;opacity:.2}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-moz-appearance:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-white .swiper-pagination-bullet{background:#fff}.swiper-pagination-bullet-active{opacity:1;background:#007aff}.swiper-pagination-white .swiper-pagination-bullet-active{background:#fff}.swiper-pagination-black .swiper-pagination-bullet-active{background:#000}.swiper-container-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper-container-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:5px 0;display:block}.swiper-container-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 5px}.swiper-pagination-progress{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progress .swiper-pagination-progressbar{background:#007aff;position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-container-rtl .swiper-pagination-progress .swiper-pagination-progressbar{transform-origin:right top}.swiper-container-horizontal>.swiper-pagination-progress{width:100%;height:4px;left:0;top:0}.swiper-container-vertical>.swiper-pagination-progress{width:4px;height:100%;left:0;top:0}.swiper-pagination-progress.swiper-pagination-white{background:hsla(0,0%,100%,.5)}.swiper-pagination-progress.swiper-pagination-white .swiper-pagination-progressbar{background:#fff}.swiper-pagination-progress.swiper-pagination-black .swiper-pagination-progressbar{background:#000}.swiper-container-3d{-o-perspective:1200px;perspective:1200px}.swiper-container-3d .swiper-cube-shadow,.swiper-container-3d .swiper-slide,.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top,.swiper-container-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-container-3d .swiper-slide-shadow-left{background-image:linear-gradient(270deg,rgba(0,0,0,.5),transparent)}.swiper-container-3d .swiper-slide-shadow-right{background-image:linear-gradient(90deg,rgba(0,0,0,.5),transparent)}.swiper-container-3d .swiper-slide-shadow-top{background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent)}.swiper-container-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(180deg,rgba(0,0,0,.5),transparent)}.swiper-container-coverflow .swiper-wrapper,.swiper-container-flip .swiper-wrapper{-ms-perspective:1200px}.swiper-container-cube,.swiper-container-flip{overflow:visible}.swiper-container-cube .swiper-slide,.swiper-container-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-container-cube .swiper-slide .swiper-slide,.swiper-container-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-active .swiper-slide-active,.swiper-container-flip .swiper-slide-active,.swiper-container-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube .swiper-slide-shadow-bottom,.swiper-container-cube .swiper-slide-shadow-left,.swiper-container-cube .swiper-slide-shadow-right,.swiper-container-cube .swiper-slide-shadow-top,.swiper-container-flip .swiper-slide-shadow-bottom,.swiper-container-flip .swiper-slide-shadow-left,.swiper-container-flip .swiper-slide-shadow-right,.swiper-container-flip .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-container-cube .swiper-slide{visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-container-cube.swiper-container-rtl .swiper-slide{transform-origin:100% 0}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-next,.swiper-container-cube .swiper-slide-next+.swiper-slide,.swiper-container-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-container-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;background:#000;opacity:.6;filter:blur(50px);z-index:0}.swiper-container-fade.swiper-container-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-container-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-container-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-fade .swiper-slide-active,.swiper-container-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-scrollbar{border-radius:10px;position:relative;-ms-touch-action:none;background:rgba(0,0,0,.1)}.swiper-container-horizontal>.swiper-scrollbar{position:absolute;left:1%;bottom:3px;z-index:50;height:5px;width:98%}.swiper-container-vertical>.swiper-scrollbar{position:absolute;right:3px;top:1%;z-index:50;width:5px;height:98%}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:rgba(0,0,0,.5);border-radius:10px;left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;-webkit-animation:swiper-preloader-spin 1s steps(12) infinite;animation:swiper-preloader-spin 1s steps(12) infinite}.swiper-lazy-preloader:after{display:block;content:\"\";width:100%;height:100%;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath id='a' stroke='%236c6c6c' stroke-width='11' stroke-linecap='round' d='M60 7v20'/%3E%3C/defs%3E%3Cuse xlink:href='%23a' opacity='.27'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(30 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(60 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(90 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(120 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(150 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.37' transform='rotate(180 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.46' transform='rotate(210 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.56' transform='rotate(240 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.66' transform='rotate(270 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.75' transform='rotate(300 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.85' transform='rotate(330 60 60)'/%3E%3C/svg%3E\");background-position:50%;background-size:100%;background-repeat:no-repeat}.swiper-lazy-preloader-white:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath id='a' stroke='%23fff' stroke-width='11' stroke-linecap='round' d='M60 7v20'/%3E%3C/defs%3E%3Cuse xlink:href='%23a' opacity='.27'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(30 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(60 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(90 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(120 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.27' transform='rotate(150 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.37' transform='rotate(180 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.46' transform='rotate(210 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.56' transform='rotate(240 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.66' transform='rotate(270 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.75' transform='rotate(300 60 60)'/%3E%3Cuse xlink:href='%23a' opacity='.85' transform='rotate(330 60 60)'/%3E%3C/svg%3E\")}@-webkit-keyframes swiper-preloader-spin{to{-webkit-transform:rotate(1turn)}}@keyframes swiper-preloader-spin{to{transform:rotate(1turn)}}",""]),e.exports=r},function(e,t,n){var r=n(4),o=n(50),c=n(318),l=r(!1),d=o(c);l.push([e.i,'.checkout h5{font-weight:700;margin:0}.hr{height:1px;background-color:#ddd}.top{background-color:#f1f1f1}.logoArea{overflow:hidden;position:relative}.search{position:absolute;right:0;top:22px}.search,.search .btn-danger{font-size:16px}.checkout{margin:20px 0}.seven{color:#c81623;margin-top:20px}.price{font:14px "微软雅黑";font-weight:700;color:#e12228}ul.addr-detail li{width:99%;margin:6px 0}.recommendAddr{margin-top:10PX}ul.payType li{display:inline-block;padding:5px 20px;border:1px solid #ddd;*display:inline;_zoom:1;*margin:5px 10px;cursor:pointer}.addr-item .name{width:120px;border:1px solid #ddd;height:18px;padding:5px 10px;text-align:center}ul.send-detail li{margin-top:10px}.sendType .express{border:1px solid #ddd;width:120px;text-align:center}.sendGoods,.sendType{padding:15px}.sendType{background:#f4f4f4;margin-bottom:2px}.sendGoods{background:#feedef}.exit,.num{text-align:center}.order-summary{overflow:hidden;padding-right:20px}.list,.trade{line-height:26px}.list span{float:left;width:160px}.trade{padding:10px;margin:10px 0;text-align:right;background-color:#f4f4f4;border:1px solid #ddd}.trade .fc-receiverInfo{color:#999}.pay{font-family:"微软雅黑"}.pay .orange{color:#ea4d08}.pay .money{font-size:18px}.pay .checkout-tit{padding:10px 60px}.pay .paymark{overflow:hidden;line-height:26px;text-indent:38px}.pay .success-icon{width:30px;height:30px;display:inline-block;background-position:0 0}.pay .success-info{padding:0 8px;line-height:30px;vertical-align:top}.submit .btn-xlarge{padding:15px 45px;margin:15px 0 10px;font:18px "微软雅黑";font-weight:700;border-radius:0}.check-info{padding-left:25px;padding-bottom:15px;margin-bottom:10px;border:2px solid #c81523}.check-info h4{color:#c81523}.check-info .save{font-size:18px;font-weight:700;color:#c81523}.check-info ol,.check-info ul{padding-left:25px}.zfb{color:#c81523;font-weight:700}.check-info li{line-height:24px;font-size:14px}.weixin{line-height:27px;margin-right:40px;font-size:16px}.checkout-steps{border:1px solid #ddd;padding:25px;width:990px;margin:0 auto}.checkout-steps .phone{background:url('+d+") no-repeat;width:350px;height:400px;margin-left:40px}.checkout-steps .red{color:red}.checkout-steps .saosao{margin-top:15px;padding:8px 0 8px 125px}.checkout-steps .saosao p{margin-bottom:5px;color:#fff;line-height:20px;margin-top:0;font-size:15px}",""]),e.exports=l},function(e,t,n){e.exports=n.p+"img/phone-bg.a074f33.png"},function(e,t,n){var r=n(4)(!1);r.push([e.i,'code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}',""]),e.exports=r},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(198)},function(e,t,n){var r=n(4)(!1);r.push([e.i,".footer-bottom[data-v-1e063ec4]{display:flex;justify-content:space-around}.footer-show2[data-v-1e063ec4]{margin:10px 360px}.footer-show3[data-v-1e063ec4]{margin:10px 480px}",""]),e.exports=r},function(e,t,n){"use strict";n(199)},function(e,t,n){var r=n(4)(!1);r.push([e.i,".footer-bottom[data-v-4abf51d8]{display:flex;justify-content:space-around}.footer-show2[data-v-4abf51d8]{margin:10px 360px}.footer-show3[data-v-4abf51d8]{margin:10px 480px}.footer_i[data-v-4abf51d8]{margin-top:30px}.content_right[data-v-4abf51d8]{margin-top:10px;display:flex;flex-direction:column}.content_right span[data-v-4abf51d8]{color:#fff;font-size:20px;font-style:bold}.avatar[data-v-4abf51d8]{margin-right:10px}.bg_content[data-v-4abf51d8]{display:flex;height:100%}.nav_right[data-v-4abf51d8]{margin-left:auto}.navStyle[data-v-4abf51d8]{background-color:#fff;display:flex;margin-bottom:20px}.navStyle a[data-v-4abf51d8]{font-size:15px}.nav_ucenter[data-v-4abf51d8]{display:flex;padding:0}.bg[data-v-4abf51d8]{background-image:url(https://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/download.jpg);background-repeat:no-repeat;background-position:50%;padding:60px 30px}",""]),e.exports=r},function(e,t,n){"use strict";n(200)},function(e,t,n){var r=n(4)(!1);r.push([e.i,".footer-bottom[data-v-22cfcfbc]{display:flex;justify-content:space-around}.footer-show2[data-v-22cfcfbc]{margin:10px 360px}.footer-show3[data-v-22cfcfbc]{margin:10px 480px}.footer_i[data-v-22cfcfbc]{margin-top:30px}.content_right[data-v-22cfcfbc]{margin-top:10px;display:flex;flex-direction:column}.content_right span[data-v-22cfcfbc]{color:#fff;font-size:20px;font-style:bold}.avatar[data-v-22cfcfbc]{margin-right:10px}.bg_content[data-v-22cfcfbc]{display:flex;height:100%}.nav_right[data-v-22cfcfbc]{margin-left:auto}.navStyle[data-v-22cfcfbc]{background-color:#fff;display:flex;margin-bottom:20px}.navStyle a[data-v-22cfcfbc]{font-size:15px}.nav_ucenter[data-v-22cfcfbc]{display:flex;padding:0}.bg[data-v-22cfcfbc]{background-image:url(https://underdogedu.oss-cn-beijing.aliyuncs.com/%E7%B4%A0%E6%9D%90/download.jpg);background-repeat:no-repeat;background-position:50%;padding:60px 30px}",""]),e.exports=r},function(e,t,n){"use strict";n(201)},function(e,t,n){var r=n(4)(!1);r.push([e.i,"*{padding:0;margin:0}body,html{height:100%;weight:100%}",""]),e.exports=r},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(37);r.default.use(o.a);t.default=function(){return new o.a.Store({state:{chapterVideoList:[],courseTitle:"",userInfo:{}},mutations:{initChapterVideoList:function(e,t){e.chapterVideoList=t},initCourseTitle:function(e,t){e.courseTitle=t},initUserInfo:function(e,t){e.userInfo=t}}})}}],[[230,26,27]]]);